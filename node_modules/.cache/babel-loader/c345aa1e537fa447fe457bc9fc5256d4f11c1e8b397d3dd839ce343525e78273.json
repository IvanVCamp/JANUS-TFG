{"ast":null,"code":"// src/components/PatientRoutines.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,LineChart,Line,ResponsiveContainer}from'recharts';import'../styles/therapistRoutines.css';// Map de actividad→categoría\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const categoryMap={futbol:'Ocio',dibujos:'Ocio',comics:'Ocio',tarea:'Obligaciones',videojuegos:'Ocio',helado:'Ocio',parque:'Ocio',banio:'Autocuidado',dormir:'Autocuidado',musica:'Ocio',bailar:'Ocio',amigos:'Ocio',bicicleta:'Ocio',dibujar:'Ocio',mascotas:'Ocio',experimentos:'Obligaciones',cantar:'Ocio',lego:'Ocio',nadar:'Autocuidado',computadora:'Ocio'};// Map de categoría→grupo para radar y gauge\nconst groupMap={Autocuidado:'Autocuidado',Obligaciones:'Obligaciones',Ocio:'Ocio'};// Colores para gráficos\nconst COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[from,setFrom]=useState('');const[to,setTo]=useState('');const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);useEffect(()=>{const token=localStorage.getItem('token');axios.get(`/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}}).then(resp=>{setResults(resp.data);// filtro inicial: última semana\nconst now=new Date(),weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}).catch(console.error);},[patientId]);useEffect(()=>{if(!from||!to)return;const f=new Date(from),t=new Date(to);t.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=f&&d<=t;}));},[results,from,to]);useEffect(()=>{if(filtered.length)setSelected(filtered[0].createdAt);else setSelected(null);},[filtered]);useEffect(()=>{if(!selected)return;const res=filtered.find(r=>r.createdAt===selected);setMetrics(res?computeMetrics(res,filtered):null);},[selected,filtered]);function computeMetrics(result,all){const slots=result.timeSlots||[];const acts=slots.flatMap(s=>(s.activities||[]).map(a=>({...a,slot:s.slot})));const totalMin=acts.reduce((s,a)=>s+a.duration,0);// 1) Distribución %\nconst catSum={};acts.forEach(a=>{const c=categoryMap[a.activityId]||'Otros';catSum[c]=(catSum[c]||0)+a.duration;});const distribution=Object.entries(catSum).map(_ref=>{let[name,val]=_ref;return{name,value:+(val/totalMin*100).toFixed(1)};});// 2) Horas absolutas\nconst hours=Object.entries(catSum).map(_ref2=>{let[name,val]=_ref2;return{name,hours:+(val/60).toFixed(2)};});// 3) Diversidad\nconst diversity=new Set(acts.map(a=>a.activityId)).size;// 4) Consistencia diaria\nconst covered=slots.filter(s=>{var _s$activities;return((_s$activities=s.activities)===null||_s$activities===void 0?void 0:_s$activities.length)>0;}).length;const consistency=+(covered/24*100).toFixed(1);// 5) Patrón horario por franjas\nconst periods={Mañana:[6,11],Tarde:[12,17],Noche:[18,23]};const pdSum={Mañana:0,Tarde:0,Noche:0};acts.forEach(a=>{const h=parseInt(a.slot,10);for(let p in periods){const[s,e]=periods[p];if(h>=s&&h<=e)pdSum[p]+=a.duration;}});const timeOfDay=Object.entries(pdSum).map(_ref3=>{let[name,val]=_ref3;return{name,hours:+(val/60).toFixed(2)};});// 6) Balance de grupos\nconst grpSum={Autocuidado:0,Obligaciones:0,Ocio:0};acts.forEach(a=>{const g=groupMap[categoryMap[a.activityId]||'Ocio'];grpSum[g]+=a.duration;});const groupBalance=Object.entries(grpSum).map(_ref4=>{let[subject,val]=_ref4;return{subject,value:+(val/totalMin*100).toFixed(1)};});// 7) Tendencia semanal\nconst trend=all.map(r=>{const flat=(r.timeSlots||[]).flatMap(s=>(s.activities||[]).map(a=>({...a,slot:s.slot})));const tot=flat.reduce((s,a)=>s+a.duration,0);const sums={Autocuidado:0,Obligaciones:0,Ocio:0};flat.forEach(a=>{const g=groupMap[categoryMap[a.activityId]||'Ocio'];sums[g]+=a.duration;});return{date:new Date(r.createdAt).toLocaleDateString(),Autocuidado:+(sums.Autocuidado/tot*100).toFixed(1),Obligaciones:+(sums.Obligaciones/tot*100).toFixed(1),Ocio:+(sums.Ocio/tot*100).toFixed(1)};});// 8) Índice de Equilibrio\nconst N=distribution.length;const uniform=1/N;const idx=1-distribution.reduce((acc,c)=>acc+Math.abs(c.value-uniform),0)/2;const balanceIndex=+idx.toFixed(2);// 9) Continuidad: n.º transiciones\nconst categoryOrd={Autocuidado:1,Obligaciones:2,Ocio:3};const seq=slots.map(s=>{const act=(s.activities||[])[0];return act?categoryOrd[groupMap[categoryMap[act.activityId]||'Ocio']]:0;});let transitions=0;for(let i=1;i<seq.length;i++){if(seq[i]!==seq[i-1])transitions++;}const continuityScore=+((1-transitions/23)*100).toFixed(1);const sequenceData=seq.map((c,i)=>({slot:i,cat:c}));// 10) Comparativa Mié vs Sáb\nconst wed=all.find(r=>r.day==='Miércoles');const sat=all.find(r=>r.day==='Sábado');let wsComparison=[],wsCorr=null;if(wed&&sat){const calcGroupPct=r=>{const flat=(r.timeSlots||[]).flatMap(s=>(s.activities||[]).map(a=>a));const tot=flat.reduce((s,a)=>s+a.duration,0);const sums={Autocuidado:0,Obligaciones:0,Ocio:0};flat.forEach(a=>{const g=groupMap[categoryMap[a.activityId]||'Ocio'];sums[g]+=a.duration;});return Object.entries(sums).map(_ref5=>{let[s,v]=_ref5;return v/tot;});};const wv=calcGroupPct(wed),sv=calcGroupPct(sat);const subjects=Object.keys(groupMap);wsComparison=subjects.map((s,i)=>({subject:s,wed:+(wv[i]*100).toFixed(1),sat:+(sv[i]*100).toFixed(1)}));// Pearson\nconst mean=arr=>arr.reduce((a,b)=>a+b,0)/arr.length;const cov=(a,b)=>{const ma=mean(a),mb=mean(b);return a.reduce((s,v,i)=>s+(v-ma)*(b[i]-mb),0)/a.length;};const std=a=>Math.sqrt(a.reduce((s,v)=>s+(v-mean(a))**2,0)/a.length);wsCorr=+(cov(wv,sv)/(std(wv)*std(sv))).toFixed(2);}return{distribution,hours,diversity,consistency,timeOfDay,groupBalance,trend,balanceIndex,continuityScore,sequenceData,wsComparison,wsCorr};}return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Desde: \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:from,onChange:e=>setFrom(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Hasta: \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:to,onChange:e=>setTo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Seleccionar d\\xEDa:\",/*#__PURE__*/_jsx(\"select\",{value:selected||'',onChange:e=>setSelected(e.target.value),children:filtered.map(r=>{const d=new Date(r.createdAt).toLocaleDateString();return/*#__PURE__*/_jsx(\"option\",{value:r.createdAt,children:d},r.createdAt);})})]})]}),metrics&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Diversidad: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.diversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Consistencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.consistency,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"\\xCDndice Equilibrio: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.balanceIndex})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Continuidad: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.continuityScore,\"%\"]})]}),metrics.wsCorr!==null&&/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Corr. Mi\\xE9 vs S\\xE1b: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.wsCorr})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n % por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((e,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.hours,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:\"#8884d8\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Balance Autocuidado/Obligaciones/Ocio\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(RadarChart,{data:metrics.groupBalance,cx:\"50%\",cy:\"50%\",outerRadius:80,children:[/*#__PURE__*/_jsx(PolarGrid,{}),/*#__PURE__*/_jsx(PolarAngleAxis,{dataKey:\"subject\"}),/*#__PURE__*/_jsx(PolarRadiusAxis,{angle:30,domain:[0,100]}),/*#__PURE__*/_jsx(Radar,{dataKey:\"value\",stroke:\"#82ca9d\",fill:\"#82ca9d\",fillOpacity:0.6}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tendencia Semanal (% por Grupo)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:metrics.trend,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Autocuidado\",stroke:\"#8884d8\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Obligaciones\",stroke:\"#82ca9d\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Ocio\",stroke:\"#ffc658\"}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Patr\\xF3n de Continuidad\"}),/*#__PURE__*/_jsx(\"p\",{className:\"chart-desc\",children:\"Un valor alto indica pocas transiciones entre categor\\xEDas (m\\xE1s ordenado).\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(LineChart,{data:metrics.sequenceData,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"slot\",tickCount:24}),/*#__PURE__*/_jsx(YAxis,{domain:[0,3],ticks:[1,2,3]}),/*#__PURE__*/_jsx(Tooltip,{labelFormatter:i=>`Slot ${i}`,formatter:_ref6=>{let[v]=_ref6;const rev={1:'Auto',2:'Obli',3:'Ocio'};return rev[v]||'Nada';}}),/*#__PURE__*/_jsx(Line,{type:\"stepAfter\",dataKey:\"cat\",stroke:\"#ff8042\",dot:false})]})})]}),metrics.wsComparison.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Comparativa Mi\\xE9 vs S\\xE1b\"}),/*#__PURE__*/_jsx(\"p\",{className:\"chart-desc\",children:\"% de tiempo por grupo en mi\\xE9rcoles y s\\xE1bado.\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.wsComparison,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"subject\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"wed\",name:\"Mi\\xE9rcoles\",fill:\"#0088FE\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"sat\",name:\"S\\xE1bado\",fill:\"#82ca9d\"}),/*#__PURE__*/_jsx(Legend,{})]})})]})]})]})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","LineChart","Line","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","groupMap","Autocuidado","Obligaciones","Ocio","COLORS","PatientRoutines","patientId","results","setResults","filtered","setFiltered","from","setFrom","to","setTo","selected","setSelected","metrics","setMetrics","token","localStorage","getItem","get","headers","then","resp","data","now","Date","weekAgo","setDate","getDate","toISOString","slice","catch","console","error","f","t","setHours","filter","r","d","createdAt","length","res","find","computeMetrics","result","all","slots","timeSlots","acts","flatMap","s","activities","map","a","slot","totalMin","reduce","duration","catSum","forEach","c","activityId","distribution","Object","entries","_ref","name","val","value","toFixed","hours","_ref2","diversity","Set","size","covered","_s$activities","consistency","periods","Mañana","Tarde","Noche","pdSum","h","parseInt","p","e","timeOfDay","_ref3","grpSum","g","groupBalance","_ref4","subject","trend","flat","tot","sums","date","toLocaleDateString","N","uniform","idx","acc","Math","abs","balanceIndex","categoryOrd","seq","act","transitions","i","continuityScore","sequenceData","cat","wed","day","sat","wsComparison","wsCorr","calcGroupPct","_ref5","v","wv","sv","subjects","keys","mean","arr","b","cov","ma","mb","std","sqrt","className","children","type","onChange","target","width","height","dataKey","nameKey","cx","cy","outerRadius","label","fill","strokeDasharray","angle","domain","stroke","fillOpacity","tickCount","ticks","labelFormatter","formatter","_ref6","rev","dot"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["// src/components/PatientRoutines.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  PieChart, Pie, Cell, Tooltip, Legend,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  LineChart, Line,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Map de actividad→categoría\r\nconst categoryMap = {\r\n  futbol: 'Ocio', dibujos: 'Ocio', comics: 'Ocio',\r\n  tarea: 'Obligaciones', videojuegos: 'Ocio', helado: 'Ocio',\r\n  parque: 'Ocio', banio: 'Autocuidado', dormir: 'Autocuidado',\r\n  musica: 'Ocio', bailar: 'Ocio', amigos: 'Ocio',\r\n  bicicleta: 'Ocio', dibujar: 'Ocio', mascotas: 'Ocio',\r\n  experimentos: 'Obligaciones', cantar: 'Ocio', lego: 'Ocio',\r\n  nadar: 'Autocuidado', computadora: 'Ocio'\r\n};\r\n// Map de categoría→grupo para radar y gauge\r\nconst groupMap = {\r\n  Autocuidado: 'Autocuidado',\r\n  Obligaciones: 'Obligaciones',\r\n  Ocio: 'Ocio'\r\n};\r\n// Colores para gráficos\r\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get(`/api/game?patientId=${patientId}`, {\r\n      headers: { 'x-auth-token': token }\r\n    }).then(resp => {\r\n      setResults(resp.data);\r\n      // filtro inicial: última semana\r\n      const now = new Date(), weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0, 10));\r\n      setTo(now.toISOString().slice(0, 10));\r\n    }).catch(console.error);\r\n  }, [patientId]);\r\n\r\n  useEffect(() => {\r\n    if (!from || !to) return;\r\n    const f = new Date(from), t = new Date(to);\r\n    t.setHours(23, 59, 59, 999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d >= f && d <= t;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  useEffect(() => {\r\n    if (filtered.length) setSelected(filtered[0].createdAt);\r\n    else setSelected(null);\r\n  }, [filtered]);\r\n\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    setMetrics(res ? computeMetrics(res, filtered) : null);\r\n  }, [selected, filtered]);\r\n\r\n  function computeMetrics(result, all) {\r\n    const slots = result.timeSlots || [];\r\n    const acts = slots.flatMap(s =>\r\n      (s.activities || []).map(a => ({ ...a, slot: s.slot }))\r\n    );\r\n    const totalMin = acts.reduce((s, a) => s + a.duration, 0);\r\n\r\n    // 1) Distribución %\r\n    const catSum = {};\r\n    acts.forEach(a => {\r\n      const c = categoryMap[a.activityId] || 'Otros';\r\n      catSum[c] = (catSum[c] || 0) + a.duration;\r\n    });\r\n    const distribution = Object.entries(catSum).map(\r\n      ([name, val]) => ({ name, value: +(val / totalMin * 100).toFixed(1) })\r\n    );\r\n\r\n    // 2) Horas absolutas\r\n    const hours = Object.entries(catSum).map(\r\n      ([name, val]) => ({ name, hours: +(val / 60).toFixed(2) })\r\n    );\r\n\r\n    // 3) Diversidad\r\n    const diversity = new Set(acts.map(a => a.activityId)).size;\r\n\r\n    // 4) Consistencia diaria\r\n    const covered = slots.filter(s => s.activities?.length > 0).length;\r\n    const consistency = +((covered / 24 * 100).toFixed(1));\r\n\r\n    // 5) Patrón horario por franjas\r\n    const periods = { Mañana: [6, 11], Tarde: [12, 17], Noche: [18, 23] };\r\n    const pdSum = { Mañana: 0, Tarde: 0, Noche: 0 };\r\n    acts.forEach(a => {\r\n      const h = parseInt(a.slot, 10);\r\n      for (let p in periods) {\r\n        const [s, e] = periods[p];\r\n        if (h >= s && h <= e) pdSum[p] += a.duration;\r\n      }\r\n    });\r\n    const timeOfDay = Object.entries(pdSum).map(\r\n      ([name, val]) => ({ name, hours: +(val / 60).toFixed(2) })\r\n    );\r\n\r\n    // 6) Balance de grupos\r\n    const grpSum = { Autocuidado: 0, Obligaciones: 0, Ocio: 0 };\r\n    acts.forEach(a => {\r\n      const g = groupMap[categoryMap[a.activityId] || 'Ocio'];\r\n      grpSum[g] += a.duration;\r\n    });\r\n    const groupBalance = Object.entries(grpSum).map(\r\n      ([subject, val]) => ({ subject, value: +(val / totalMin * 100).toFixed(1) })\r\n    );\r\n\r\n    // 7) Tendencia semanal\r\n    const trend = all.map(r => {\r\n      const flat = (r.timeSlots || []).flatMap(s =>\r\n        (s.activities || []).map(a => ({ ...a, slot: s.slot }))\r\n      );\r\n      const tot = flat.reduce((s, a) => s + a.duration, 0);\r\n      const sums = { Autocuidado: 0, Obligaciones: 0, Ocio: 0 };\r\n      flat.forEach(a => {\r\n        const g = groupMap[categoryMap[a.activityId] || 'Ocio'];\r\n        sums[g] += a.duration;\r\n      });\r\n      return {\r\n        date: new Date(r.createdAt).toLocaleDateString(),\r\n        Autocuidado: +(sums.Autocuidado / tot * 100).toFixed(1),\r\n        Obligaciones: +(sums.Obligaciones / tot * 100).toFixed(1),\r\n        Ocio: +(sums.Ocio / tot * 100).toFixed(1)\r\n      };\r\n    });\r\n\r\n    // 8) Índice de Equilibrio\r\n    const N = distribution.length;\r\n    const uniform = 1 / N;\r\n    const idx = 1 - (distribution.reduce((acc, c) => acc + Math.abs(c.value - uniform), 0) / 2);\r\n    const balanceIndex = +idx.toFixed(2);\r\n\r\n    // 9) Continuidad: n.º transiciones\r\n    const categoryOrd = { Autocuidado: 1, Obligaciones: 2, Ocio: 3 };\r\n    const seq = slots.map(s => {\r\n      const act = (s.activities || [])[0];\r\n      return act ? categoryOrd[groupMap[categoryMap[act.activityId] || 'Ocio']] : 0;\r\n    });\r\n    let transitions = 0;\r\n    for (let i = 1; i < seq.length; i++) {\r\n      if (seq[i] !== seq[i - 1]) transitions++;\r\n    }\r\n    const continuityScore = +((1 - transitions / 23) * 100).toFixed(1);\r\n    const sequenceData = seq.map((c, i) => ({ slot: i, cat: c }));\r\n\r\n    // 10) Comparativa Mié vs Sáb\r\n    const wed = all.find(r => r.day === 'Miércoles');\r\n    const sat = all.find(r => r.day === 'Sábado');\r\n    let wsComparison = [], wsCorr = null;\r\n    if (wed && sat) {\r\n      const calcGroupPct = r => {\r\n        const flat = (r.timeSlots || []).flatMap(s => (s.activities || []).map(a => a));\r\n        const tot = flat.reduce((s, a) => s + a.duration, 0);\r\n        const sums = { Autocuidado: 0, Obligaciones: 0, Ocio: 0 };\r\n        flat.forEach(a => {\r\n          const g = groupMap[categoryMap[a.activityId] || 'Ocio'];\r\n          sums[g] += a.duration;\r\n        });\r\n        return Object.entries(sums).map(([s, v]) => v / tot);\r\n      };\r\n      const wv = calcGroupPct(wed), sv = calcGroupPct(sat);\r\n      const subjects = Object.keys(groupMap);\r\n      wsComparison = subjects.map((s, i) => ({\r\n        subject: s,\r\n        wed: +(wv[i] * 100).toFixed(1),\r\n        sat: +(sv[i] * 100).toFixed(1)\r\n      }));\r\n      // Pearson\r\n      const mean = arr => arr.reduce((a, b) => a + b, 0) / arr.length;\r\n      const cov = (a, b) => {\r\n        const ma = mean(a), mb = mean(b);\r\n        return a.reduce((s, v, i) => s + (v - ma) * (b[i] - mb), 0) / a.length;\r\n      };\r\n      const std = a => Math.sqrt(a.reduce((s, v) => s + (v - mean(a)) ** 2, 0) / a.length);\r\n      wsCorr = +(cov(wv, sv) / (std(wv) * std(sv))).toFixed(2);\r\n    }\r\n\r\n    return {\r\n      distribution, hours, diversity, consistency, timeOfDay,\r\n      groupBalance, trend, balanceIndex,\r\n      continuityScore, sequenceData,\r\n      wsComparison, wsCorr\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      <section className=\"filter-section\">\r\n        <label>Desde: <input type=\"date\" value={from} onChange={e => setFrom(e.target.value)} /></label>\r\n        <label>Hasta: <input type=\"date\" value={to} onChange={e => setTo(e.target.value)} /></label>\r\n        <label>Seleccionar día:\r\n          <select value={selected || ''} onChange={e => setSelected(e.target.value)}>\r\n            {filtered.map(r => {\r\n              const d = new Date(r.createdAt).toLocaleDateString();\r\n              return <option key={r.createdAt} value={r.createdAt}>{d}</option>;\r\n            })}\r\n          </select>\r\n        </label>\r\n      </section>\r\n\r\n      {metrics && (\r\n        <>\r\n          <div className=\"metrics-grid\">\r\n            <div className=\"metric-card\">Diversidad: <strong>{metrics.diversity}</strong></div>\r\n            <div className=\"metric-card\">Consistencia: <strong>{metrics.consistency}%</strong></div>\r\n            <div className=\"metric-card\">Índice Equilibrio: <strong>{metrics.balanceIndex}</strong></div>\r\n            <div className=\"metric-card\">Continuidad: <strong>{metrics.continuityScore}%</strong></div>\r\n            {metrics.wsCorr !== null && (\r\n              <div className=\"metric-card\">\r\n                Corr. Mié vs Sáb: <strong>{metrics.wsCorr}</strong>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"charts-grid\">\r\n            {/* Distribución % */}\r\n            <div className=\"chart-block\">\r\n              <h3>Distribución % por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <PieChart>\r\n                  <Pie data={metrics.distribution} dataKey=\"value\" nameKey=\"name\"\r\n                    cx=\"50%\" cy=\"50%\" outerRadius={80} label\r\n                  >\r\n                    {metrics.distribution.map((e,i) =>\r\n                      <Cell key={i} fill={COLORS[i % COLORS.length]} />)}\r\n                  </Pie>\r\n                  <Tooltip />\r\n                  <Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Horas por categoría */}\r\n            <div className=\"chart-block\">\r\n              <h3>Horas por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <BarChart data={metrics.hours}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Bar dataKey=\"hours\" fill=\"#8884d8\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Balance de grupos */}\r\n            <div className=\"chart-block\">\r\n              <h3>Balance Autocuidado/Obligaciones/Ocio</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <RadarChart data={metrics.groupBalance} cx=\"50%\" cy=\"50%\" outerRadius={80}>\r\n                  <PolarGrid />\r\n                  <PolarAngleAxis dataKey=\"subject\" />\r\n                  <PolarRadiusAxis angle={30} domain={[0, 100]} />\r\n                  <Radar dataKey=\"value\" stroke=\"#82ca9d\"\r\n                    fill=\"#82ca9d\" fillOpacity={0.6}\r\n                  />\r\n                  <Tooltip />\r\n                </RadarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Tendencia semanal */}\r\n            <div className=\"chart-block full-width\">\r\n              <h3>Tendencia Semanal (% por Grupo)</h3>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={metrics.trend}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"date\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Line type=\"monotone\" dataKey=\"Autocuidado\" stroke=\"#8884d8\" />\r\n                  <Line type=\"monotone\" dataKey=\"Obligaciones\" stroke=\"#82ca9d\" />\r\n                  <Line type=\"monotone\" dataKey=\"Ocio\" stroke=\"#ffc658\" />\r\n                  <Legend />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Patrón de continuidad */}\r\n            <div className=\"chart-block\">\r\n              <h3>Patrón de Continuidad</h3>\r\n              <p className=\"chart-desc\">\r\n                Un valor alto indica pocas transiciones entre categorías (más ordenado).\r\n              </p>\r\n              <ResponsiveContainer width=\"100%\" height={200}>\r\n                <LineChart data={metrics.sequenceData}>\r\n                  <XAxis dataKey=\"slot\" tickCount={24} />\r\n                  <YAxis domain={[0, 3]} ticks={[1, 2, 3]} />\r\n                  <Tooltip labelFormatter={i => `Slot ${i}`} formatter={([v]) => {\r\n                    const rev = {1:'Auto',2:'Obli',3:'Ocio'};\r\n                    return rev[v] || 'Nada';\r\n                  }} />\r\n                  <Line type=\"stepAfter\" dataKey=\"cat\" stroke=\"#ff8042\" dot={false} />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Comparativa Mié vs Sáb */}\r\n            {metrics.wsComparison.length > 0 && (\r\n              <div className=\"chart-block\">\r\n                <h3>Comparativa Mié vs Sáb</h3>\r\n                <p className=\"chart-desc\">\r\n                  % de tiempo por grupo en miércoles y sábado.\r\n                </p>\r\n                <ResponsiveContainer width=\"100%\" height={250}>\r\n                  <BarChart data={metrics.wsComparison}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" />\r\n                    <XAxis dataKey=\"subject\" />\r\n                    <YAxis />\r\n                    <Tooltip />\r\n                    <Bar dataKey=\"wed\" name=\"Miércoles\" fill=\"#0088FE\" />\r\n                    <Bar dataKey=\"sat\" name=\"Sábado\" fill=\"#82ca9d\" />\r\n                    <Legend />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}