{"ast":null,"code":"// src/pages/NewRoutineTemplatePage.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/routineTemplates.css';import{FaGripVertical,FaPlus,FaTrash}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewRoutineTemplatePage(){const navigate=useNavigate();const[form,setForm]=useState({name:'',description:'',category:'',tags:[],duration:30,reminder:'none',activities:[]});const[tagInput,setTagInput]=useState('');// Helpers para actividades\nconst addActivity=()=>{setForm(f=>({...f,activities:[...f.activities,{id:Date.now(),name:'',desc:'',challenge:'Bajo',minutes:10}]}));};const updateActivity=(id,field,val)=>{setForm(f=>({...f,activities:f.activities.map(a=>a.id===id?{...a,[field]:val}:a)}));};const removeActivity=id=>{setForm(f=>({...f,activities:f.activities.filter(a=>a.id!==id)}));};// Helpers para tags\nconst addTag=()=>{const t=tagInput.trim();if(t&&!form.tags.includes(t)){setForm(f=>({...f,tags:[...f.tags,t]}));}setTagInput('');};const removeTag=t=>{setForm(f=>({...f,tags:f.tags.filter(x=>x!==t)}));};// Drag & drop reorder\nconst onDragStart=(e,idx)=>{e.dataTransfer.setData('text/plain',idx);};const onDrop=(e,idx)=>{e.preventDefault();const from=+e.dataTransfer.getData('text/plain');if(from===idx)return;setForm(f=>{const list=[...f.activities];const[moved]=list.splice(from,1);list.splice(idx,0,moved);return{...f,activities:list};});};const allowDrop=e=>e.preventDefault();// Maneja el env√≠o al pulsar el bot√≥n \"Guardar\"\nconst handleSubmit=async()=>{const token=localStorage.getItem('token');if(!token){alert('Debes iniciar sesi√≥n');return navigate('/login');}try{const res=await fetch('/api/routines/templates',{method:'POST',headers:{'Content-Type':'application/json','x-auth-token':token},body:JSON.stringify(form)});if(res.status===401){alert('Sesi√≥n expirada. Por favor inicia sesi√≥n de nuevo.');return navigate('/login');}if(!res.ok){const text=await res.text();throw new Error(`Error ${res.status}: ${text}`);}// Si todo va bien, volvemos al listado\nnavigate('/therapist/templates');}catch(err){console.error('Error guardando plantilla:',err);alert('No se pudo guardar la plantilla:\\n'+err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"routine-templates-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tpl-container tpl-form landscape\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear Nueva Plantilla\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:e=>setForm(f=>({...f,name:e.target.value})),placeholder:\"Ej. Rutina matutina\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.category,onChange:e=>setForm(f=>({...f,category:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 Selecciona \\u2014\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Relajaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ejercicio F\\xEDsico\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mindfulness\"}),/*#__PURE__*/_jsx(\"option\",{children:\"H\\xE1bito Saludable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>setForm(f=>({...f,description:e.target.value})),rows:3,placeholder:\"Objetivo de la plantilla\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Duraci\\xF3n (min)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:5,value:form.duration,onChange:e=>setForm(f=>({...f,duration:+e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recordatorio\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.reminder,onChange:e=>setForm(f=>({...f,reminder:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"Sin recordatorio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Diario\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Semanal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group tag-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tags\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tag-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{value:tagInput,onChange:e=>setTagInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&(e.preventDefault(),addTag()),placeholder:\"A\\xF1adir tag\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-new\",onClick:addTag,children:/*#__PURE__*/_jsx(FaPlus,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-list\",children:form.tags.map(t=>/*#__PURE__*/_jsxs(\"span\",{className:\"tag-pill\",children:[t,' ',/*#__PURE__*/_jsx(FaTrash,{onClick:()=>removeTag(t),style:{cursor:'pointer'}})]},t))})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"activities-controls\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Actividades\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-new\",onClick:addActivity,children:[/*#__PURE__*/_jsx(FaPlus,{}),\" A\\xF1adir\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"activities-list horizontal-scroll\",children:form.activities.map((act,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item landscape\",draggable:true,onDragStart:e=>onDragStart(e,idx),onDragOver:allowDrop,onDrop:e=>onDrop(e,idx),children:[/*#__PURE__*/_jsx(FaGripVertical,{className:\"drag-handle\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",value:act.name,onChange:e=>updateActivity(act.id,'name',e.target.value),placeholder:\"Actividad\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"small-select\",value:act.challenge,onChange:e=>updateActivity(act.id,'challenge',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Bajo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Medio\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Alto\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"small-input\",style:{width:'4rem'},value:act.minutes,onChange:e=>updateActivity(act.id,'minutes',+e.target.value)}),/*#__PURE__*/_jsx(FaTrash,{className:\"remove-ico\",onClick:()=>removeActivity(act.id)})]},act.id))}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-save\",onClick:handleSubmit,children:\"\\uD83D\\uDCBE Guardar\"})]})});}","map":{"version":3,"names":["React","useState","useNavigate","FaGripVertical","FaPlus","FaTrash","jsx","_jsx","jsxs","_jsxs","NewRoutineTemplatePage","navigate","form","setForm","name","description","category","tags","duration","reminder","activities","tagInput","setTagInput","addActivity","f","id","Date","now","desc","challenge","minutes","updateActivity","field","val","map","a","removeActivity","filter","addTag","t","trim","includes","removeTag","x","onDragStart","e","idx","dataTransfer","setData","onDrop","preventDefault","from","getData","list","moved","splice","allowDrop","handleSubmit","token","localStorage","getItem","alert","res","fetch","method","headers","body","JSON","stringify","status","ok","text","Error","err","console","error","message","className","children","value","onChange","target","placeholder","rows","type","min","onKeyDown","key","onClick","style","cursor","act","draggable","onDragOver","width"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/TemplateForm.js"],"sourcesContent":["// src/pages/NewRoutineTemplatePage.js\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/routineTemplates.css';\r\nimport { FaGripVertical, FaPlus, FaTrash } from 'react-icons/fa';\r\n\r\nexport default function NewRoutineTemplatePage() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: '',\r\n    tags: [],\r\n    duration: 30,\r\n    reminder: 'none',\r\n    activities: []\r\n  });\r\n  const [tagInput, setTagInput] = useState('');\r\n\r\n  // Helpers para actividades\r\n  const addActivity = () => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: [\r\n        ...f.activities,\r\n        { id: Date.now(), name: '', desc: '', challenge: 'Bajo', minutes: 10 }\r\n      ]\r\n    }));\r\n  };\r\n  const updateActivity = (id, field, val) => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.map(a =>\r\n        a.id === id ? { ...a, [field]: val } : a\r\n      )\r\n    }));\r\n  };\r\n  const removeActivity = id => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.filter(a => a.id !== id)\r\n    }));\r\n  };\r\n\r\n  // Helpers para tags\r\n  const addTag = () => {\r\n    const t = tagInput.trim();\r\n    if (t && !form.tags.includes(t)) {\r\n      setForm(f => ({ ...f, tags: [...f.tags, t] }));\r\n    }\r\n    setTagInput('');\r\n  };\r\n  const removeTag = t => {\r\n    setForm(f => ({ ...f, tags: f.tags.filter(x => x !== t) }));\r\n  };\r\n\r\n  // Drag & drop reorder\r\n  const onDragStart = (e, idx) => {\r\n    e.dataTransfer.setData('text/plain', idx);\r\n  };\r\n  const onDrop = (e, idx) => {\r\n    e.preventDefault();\r\n    const from = +e.dataTransfer.getData('text/plain');\r\n    if (from === idx) return;\r\n    setForm(f => {\r\n      const list = [...f.activities];\r\n      const [moved] = list.splice(from, 1);\r\n      list.splice(idx, 0, moved);\r\n      return { ...f, activities: list };\r\n    });\r\n  };\r\n  const allowDrop = e => e.preventDefault();\r\n\r\n  // Maneja el env√≠o al pulsar el bot√≥n \"Guardar\"\r\n  const handleSubmit = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Debes iniciar sesi√≥n');\r\n      return navigate('/login');\r\n    }\r\n\r\n    try {\r\n      const res = await fetch('/api/routines/templates', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': token\r\n        },\r\n        body: JSON.stringify(form)\r\n      });\r\n      if (res.status === 401) {\r\n        alert('Sesi√≥n expirada. Por favor inicia sesi√≥n de nuevo.');\r\n        return navigate('/login');\r\n      }\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(`Error ${res.status}: ${text}`);\r\n      }\r\n      // Si todo va bien, volvemos al listado\r\n      navigate('/therapist/templates');\r\n    } catch (err) {\r\n      console.error('Error guardando plantilla:', err);\r\n      alert('No se pudo guardar la plantilla:\\n' + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"routine-templates-page\">\r\n      <div className=\"tpl-container tpl-form landscape\">\r\n        <h2>Crear Nueva Plantilla</h2>\r\n\r\n        {/* Grid apaisado */}\r\n        <div className=\"form-grid\">\r\n          <div className=\"form-group\">\r\n            <label>Nombre</label>\r\n            <input\r\n              value={form.name}\r\n              onChange={e => setForm(f => ({ ...f, name: e.target.value }))}\r\n              placeholder=\"Ej. Rutina matutina\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Categor√≠a</label>\r\n            <select\r\n              value={form.category}\r\n              onChange={e => setForm(f => ({ ...f, category: e.target.value }))}\r\n            >\r\n              <option value=\"\">‚Äî Selecciona ‚Äî</option>\r\n              <option>Relajaci√≥n</option>\r\n              <option>Ejercicio F√≠sico</option>\r\n              <option>Mindfulness</option>\r\n              <option>H√°bito Saludable</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Descripci√≥n</label>\r\n            <textarea\r\n              value={form.description}\r\n              onChange={e => setForm(f => ({ ...f, description: e.target.value }))}\r\n              rows={3}\r\n              placeholder=\"Objetivo de la plantilla\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Duraci√≥n (min)</label>\r\n            <input\r\n              type=\"number\"\r\n              min={5}\r\n              value={form.duration}\r\n              onChange={e => setForm(f => ({ ...f, duration: +e.target.value }))}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Recordatorio</label>\r\n            <select\r\n              value={form.reminder}\r\n              onChange={e => setForm(f => ({ ...f, reminder: e.target.value }))}\r\n            >\r\n              <option value=\"none\">Sin recordatorio</option>\r\n              <option value=\"daily\">Diario</option>\r\n              <option value=\"weekly\">Semanal</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group tag-group\">\r\n            <label>Tags</label>\r\n            <div className=\"tag-input-group\">\r\n              <input\r\n                value={tagInput}\r\n                onChange={e => setTagInput(e.target.value)}\r\n                onKeyDown={e => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n                placeholder=\"A√±adir tag\"\r\n              />\r\n              <button type=\"button\" className=\"btn-new\" onClick={addTag}>\r\n                <FaPlus />\r\n              </button>\r\n            </div>\r\n            <div className=\"tags-list\">\r\n              {form.tags.map(t => (\r\n                <span key={t} className=\"tag-pill\">\r\n                  {t}{' '}\r\n                  <FaTrash\r\n                    onClick={() => removeTag(t)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  />\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        {/* Actividades en scroll horizontal */}\r\n        <div className=\"activities-controls\">\r\n          <h3>Actividades</h3>\r\n          <button type=\"button\" className=\"btn-new\" onClick={addActivity}>\r\n            <FaPlus /> A√±adir\r\n          </button>\r\n        </div>\r\n        <div className=\"activities-list horizontal-scroll\">\r\n          {form.activities.map((act, idx) => (\r\n            <div\r\n              key={act.id}\r\n              className=\"activity-item landscape\"\r\n              draggable\r\n              onDragStart={e => onDragStart(e, idx)}\r\n              onDragOver={allowDrop}\r\n              onDrop={e => onDrop(e, idx)}\r\n            >\r\n              <FaGripVertical className=\"drag-handle\" />\r\n              <input\r\n                className=\"small-input\"\r\n                value={act.name}\r\n                onChange={e => updateActivity(act.id, 'name', e.target.value)}\r\n                placeholder=\"Actividad\"\r\n              />\r\n              <select\r\n                className=\"small-select\"\r\n                value={act.challenge}\r\n                onChange={e => updateActivity(act.id, 'challenge', e.target.value)}\r\n              >\r\n                <option>Bajo</option>\r\n                <option>Medio</option>\r\n                <option>Alto</option>\r\n              </select>\r\n              <input\r\n                type=\"number\"\r\n                className=\"small-input\"\r\n                style={{ width: '4rem' }}\r\n                value={act.minutes}\r\n                onChange={e => updateActivity(act.id, 'minutes', +e.target.value)}\r\n              />\r\n              <FaTrash\r\n                className=\"remove-ico\"\r\n                onClick={() => removeActivity(act.id)}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button className=\"btn-save\" onClick={handleSubmit}>\r\n          üíæ Guardar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}