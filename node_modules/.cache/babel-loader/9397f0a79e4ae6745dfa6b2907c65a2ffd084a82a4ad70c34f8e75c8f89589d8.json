{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaChevronDown,FaChevronUp,FaCheckCircle,FaRegCircle}from'react-icons/fa';import{useNavigate}from'react-router-dom';import'../styles/routineTemplates.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function PatientTemplatesPage(){const[instances,setInstances]=useState([]);const[expanded,setExpanded]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();// === Cambiado ===\n// Recupera el objeto completo \"user\" y extrae token e id:\nconst userStr=localStorage.getItem('user');let token,patientId;try{const user=userStr?JSON.parse(userStr):null;token=user===null||user===void 0?void 0:user.token;patientId=(user===null||user===void 0?void 0:user.id)||(user===null||user===void 0?void 0:user._id);}catch{token=null;patientId=null;}useEffect(()=>{if(!token||!patientId){console.warn('No hay token o patientId');// ahora ver√°s esto solo si realmente falta\nnavigate('/login');return;}const headers={'Content-Type':'application/json','x-auth-token':token};fetch(`/api/routines/instances/${patientId}`,{headers}).then(res=>{if(res.status===401){alert('Sesi√≥n expirada. Vuelve a iniciar sesi√≥n.');navigate('/login');return null;}if(!res.ok){throw new Error(`Error al cargar: ${res.status}`);}return res.json();}).then(data=>{if(Array.isArray(data)){setInstances(data);}else{throw new Error('Respuesta inesperada del servidor');}}).catch(err=>{console.error(err);setError(err.message);}).finally(()=>setLoading(false));},[navigate,token,patientId]);const toggleExpand=id=>{setExpanded(e=>({...e,[id]:!e[id]}));};const markActivity=(instId,idx)=>{const headers={'Content-Type':'application/json','x-auth-token':token};fetch(`/api/routines/instances/${instId}/activities/${idx}`,{method:'POST',headers}).then(res=>{if(!res.ok)throw new Error('No se pudo marcar actividad');setInstances(list=>list.map(i=>i._id===instId?{...i,activities:i.activities.map((a,j)=>j===idx?{...a,completed:!a.completed}:a)}:i));}).catch(console.error);};const completeAll=inst=>{inst.activities.forEach((_,idx)=>{if(!inst.activities[idx].completed){markActivity(inst._id,idx);}});};const postpone=instId=>{setInstances(list=>list.map(i=>i._id===instId?{...i,status:'postponed'}:i));};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"routine-templates-page tpl-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mis Plantillas Asignadas\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando plantillas\\u2026\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"routine-templates-page tpl-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mis Plantillas Asignadas\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'red'},children:[\"Error: \",error]})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"routine-templates-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tpl-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mis Plantillas Asignadas\"}),instances.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",style:{border:'2px dashed var(--primary-color)',padding:'2rem',textAlign:'center',borderRadius:'8px',color:'var(--primary-color)',fontSize:'1.2rem',marginTop:'2rem'},children:\"\\uD83E\\uDD14 A\\xFAn no tienes plantillas asignadas\"}):/*#__PURE__*/_jsx(\"div\",{className:\"tpl-grid\",children:instances.map(inst=>{const total=inst.activities.length;const done=inst.activities.filter(a=>a.completed).length;const pct=total?done/total*100:0;return/*#__PURE__*/_jsxs(\"div\",{className:`tpl-card ${inst.status==='completed'?'status-completed':inst.status==='postponed'?'status-postponed':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"assign-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:inst.template.name}),/*#__PURE__*/_jsx(\"p\",{className:\"tpl-desc\",children:inst.template.description})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>toggleExpand(inst._id),children:expanded[inst._id]?/*#__PURE__*/_jsx(FaChevronUp,{}):/*#__PURE__*/_jsx(FaChevronDown,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"progress-container\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[done,\"/\",total,\" completadas\"]}),/*#__PURE__*/_jsx(\"progress\",{value:pct,max:\"100\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"assign-actions\",children:[inst.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-complete\",onClick:()=>completeAll(inst),children:\"Completar todo\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-postpone\",onClick:()=>postpone(inst._id),children:\"Posponer\"})]}),inst.status==='completed'&&/*#__PURE__*/_jsx(\"span\",{children:\"\\u2714\\uFE0F Completado\"}),inst.status==='postponed'&&/*#__PURE__*/_jsx(\"span\",{children:\"\\u23F3 Pospuesto\"})]}),expanded[inst._id]&&/*#__PURE__*/_jsx(\"div\",{className:\"activities-list\",children:inst.activities.map((act,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:`activity-line ${act.completed?'completed':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{children:[act.completed?/*#__PURE__*/_jsx(FaCheckCircle,{}):/*#__PURE__*/_jsx(FaRegCircle,{}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'0.5rem'},children:act.name})]}),!act.completed&&/*#__PURE__*/_jsx(\"button\",{className:\"btn-complete\",onClick:()=>markActivity(inst._id,idx),children:\"Marcar\"})]},idx))})]},inst._id);})})]})});}","map":{"version":3,"names":["React","useState","useEffect","FaChevronDown","FaChevronUp","FaCheckCircle","FaRegCircle","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PatientTemplatesPage","instances","setInstances","expanded","setExpanded","loading","setLoading","error","setError","navigate","userStr","localStorage","getItem","token","patientId","user","JSON","parse","id","_id","console","warn","headers","fetch","then","res","status","alert","ok","Error","json","data","Array","isArray","catch","err","message","finally","toggleExpand","e","markActivity","instId","idx","method","list","map","i","activities","a","j","completed","completeAll","inst","forEach","_","postpone","className","children","style","color","length","border","padding","textAlign","borderRadius","fontSize","marginTop","total","done","filter","pct","template","name","description","onClick","value","max","act","marginLeft"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientTemplatesPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  FaChevronDown,\r\n  FaChevronUp,\r\n  FaCheckCircle,\r\n  FaRegCircle\r\n} from 'react-icons/fa';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/routineTemplates.css';\r\n\r\nexport default function PatientTemplatesPage() {\r\n  const [instances, setInstances] = useState([]);\r\n  const [expanded, setExpanded]   = useState({});\r\n  const [loading, setLoading]     = useState(true);\r\n  const [error, setError]         = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  // === Cambiado ===\r\n  // Recupera el objeto completo \"user\" y extrae token e id:\r\n  const userStr = localStorage.getItem('user');\r\n  let token, patientId;\r\n  try {\r\n    const user = userStr ? JSON.parse(userStr) : null;\r\n    token     = user?.token;\r\n    patientId = user?.id || user?._id;\r\n  } catch {\r\n    token = null;\r\n    patientId = null;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!token || !patientId) {\r\n      console.warn('No hay token o patientId');  // ahora ver√°s esto solo si realmente falta\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'x-auth-token': token\r\n    };\r\n\r\n    fetch(`/api/routines/instances/${patientId}`, { headers })\r\n      .then(res => {\r\n        if (res.status === 401) {\r\n          alert('Sesi√≥n expirada. Vuelve a iniciar sesi√≥n.');\r\n          navigate('/login');\r\n          return null;\r\n        }\r\n        if (!res.ok) {\r\n          throw new Error(`Error al cargar: ${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        if (Array.isArray(data)) {\r\n          setInstances(data);\r\n        } else {\r\n          throw new Error('Respuesta inesperada del servidor');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        setError(err.message);\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, [navigate, token, patientId]);\r\n\r\n  const toggleExpand = id => {\r\n    setExpanded(e => ({ ...e, [id]: !e[id] }));\r\n  };\r\n\r\n  const markActivity = (instId, idx) => {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      'x-auth-token': token\r\n    };\r\n    fetch(`/api/routines/instances/${instId}/activities/${idx}`, {\r\n      method: 'POST',\r\n      headers\r\n    })\r\n      .then(res => {\r\n        if (!res.ok) throw new Error('No se pudo marcar actividad');\r\n        setInstances(list =>\r\n          list.map(i =>\r\n            i._id === instId\r\n              ? {\r\n                  ...i,\r\n                  activities: i.activities.map((a, j) =>\r\n                    j === idx ? { ...a, completed: !a.completed } : a\r\n                  )\r\n                }\r\n              : i\r\n          )\r\n        );\r\n      })\r\n      .catch(console.error);\r\n  };\r\n\r\n  const completeAll = inst => {\r\n    inst.activities.forEach((_, idx) => {\r\n      if (!inst.activities[idx].completed) {\r\n        markActivity(inst._id, idx);\r\n      }\r\n    });\r\n  };\r\n\r\n  const postpone = instId => {\r\n    setInstances(list =>\r\n      list.map(i =>\r\n        i._id === instId ? { ...i, status: 'postponed' } : i\r\n      )\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"routine-templates-page tpl-container\">\r\n        <h1>Mis Plantillas Asignadas</h1>\r\n        <p>Cargando plantillas‚Ä¶</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"routine-templates-page tpl-container\">\r\n        <h1>Mis Plantillas Asignadas</h1>\r\n        <p style={{ color: 'red' }}>Error: {error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"routine-templates-page\">\r\n      <div className=\"tpl-container\">\r\n        <h1>Mis Plantillas Asignadas</h1>\r\n\r\n        {instances.length === 0 ? (\r\n          <div\r\n            className=\"empty-state\"\r\n            style={{\r\n              border: '2px dashed var(--primary-color)',\r\n              padding: '2rem',\r\n              textAlign: 'center',\r\n              borderRadius: '8px',\r\n              color: 'var(--primary-color)',\r\n              fontSize: '1.2rem',\r\n              marginTop: '2rem'\r\n            }}\r\n          >\r\n            ü§î A√∫n no tienes plantillas asignadas\r\n          </div>\r\n        ) : (\r\n          <div className=\"tpl-grid\">\r\n            {instances.map(inst => {\r\n              const total = inst.activities.length;\r\n              const done = inst.activities.filter(a => a.completed).length;\r\n              const pct = total ? (done / total) * 100 : 0;\r\n\r\n              return (\r\n                <div\r\n                  key={inst._id}\r\n                  className={`tpl-card ${\r\n                    inst.status === 'completed'\r\n                      ? 'status-completed'\r\n                      : inst.status === 'postponed'\r\n                      ? 'status-postponed'\r\n                      : ''\r\n                  }`}\r\n                >\r\n                  {/* Header: t√≠tulo y toggle */}\r\n                  <div className=\"assign-header\">\r\n                    <div>\r\n                      <h2>{inst.template.name}</h2>\r\n                      <p className=\"tpl-desc\">\r\n                        {inst.template.description}\r\n                      </p>\r\n                    </div>\r\n                    <button\r\n                      className=\"btn-icon\"\r\n                      onClick={() => toggleExpand(inst._id)}\r\n                    >\r\n                      {expanded[inst._id] ? (\r\n                        <FaChevronUp />\r\n                      ) : (\r\n                        <FaChevronDown />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Progreso */}\r\n                  <div className=\"progress-container\">\r\n                    <label>\r\n                      {done}/{total} completadas\r\n                    </label>\r\n                    <progress value={pct} max=\"100\" />\r\n                  </div>\r\n\r\n                  {/* Acciones globales */}\r\n                  <div className=\"assign-actions\">\r\n                    {inst.status === 'pending' && (\r\n                      <>\r\n                        <button\r\n                          className=\"btn-complete\"\r\n                          onClick={() => completeAll(inst)}\r\n                        >\r\n                          Completar todo\r\n                        </button>\r\n                        <button\r\n                          className=\"btn-postpone\"\r\n                          onClick={() => postpone(inst._id)}\r\n                        >\r\n                          Posponer\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                    {inst.status === 'completed' && (\r\n                      <span>‚úîÔ∏è Completado</span>\r\n                    )}\r\n                    {inst.status === 'postponed' && (\r\n                      <span>‚è≥ Pospuesto</span>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Detalle de actividades */}\r\n                  {expanded[inst._id] && (\r\n                    <div className=\"activities-list\">\r\n                      {inst.activities.map((act, idx) => (\r\n                        <div\r\n                          key={idx}\r\n                          className={`activity-line ${\r\n                            act.completed ? 'completed' : ''\r\n                          }`}\r\n                        >\r\n                          <div>\r\n                            {act.completed ? (\r\n                              <FaCheckCircle />\r\n                            ) : (\r\n                              <FaRegCircle />\r\n                            )}\r\n                            <span style={{ marginLeft: '0.5rem' }}>\r\n                              {act.name}\r\n                            </span>\r\n                          </div>\r\n                          {!act.completed && (\r\n                            <button\r\n                              className=\"btn-complete\"\r\n                              onClick={() =>\r\n                                markActivity(inst._id, idx)\r\n                              }\r\n                            >\r\n                              Marcar\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}