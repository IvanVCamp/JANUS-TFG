{"ast":null,"code":"// src/components/PatientRoutines.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,LineChart,Line,ResponsiveContainer}from'recharts';import'../styles/therapistRoutines.css';// Mapeo actividad → categoría\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categoryMap={futbol:'Ocio',dibujos:'Ocio',comics:'Ocio',tarea:'Obligaciones',videojuegos:'Ocio',helado:'Ocio',parque:'Ocio',banio:'Autocuidado',dormir:'Autocuidado',musica:'Ocio',bailar:'Ocio',amigos:'Ocio',bicicleta:'Ocio',dibujar:'Ocio',mascotas:'Ocio',experimentos:'Obligaciones',cantar:'Ocio',lego:'Ocio',nadar:'Autocuidado',computadora:'Ocio'};// Mapeo categoría → grupo\nconst groupMap={Autocuidado:'Autocuidado',Obligaciones:'Obligaciones',Ocio:'Ocio'};// Colores\nconst COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[from,setFrom]=useState('');const[to,setTo]=useState('');const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);// Traer datos\nuseEffect(()=>{const token=localStorage.getItem('token');axios.get(`/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}}).then(resp=>{setResults(resp.data);const now=new Date(),weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}).catch(console.error);},[patientId]);// Aplicar filtro de fechas\nuseEffect(()=>{if(!from||!to)return;const fDate=new Date(from),tDate=new Date(to);tDate.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=fDate&&d<=tDate;}));},[results,from,to]);// Elegir primer día disponible\nuseEffect(()=>{if(filtered.length)setSelected(filtered[0].createdAt);else setSelected(null);},[filtered]);// Calcular métricas\nuseEffect(()=>{if(!selected)return;const res=filtered.find(r=>r.createdAt===selected);if(!res){setMetrics(null);return;}const m=computeMetrics(res,filtered);setMetrics(m);},[selected,filtered]);function computeMetrics(result,allResults){var _Object$entries$sort$;const slots=result.timeSlots||[];const activities=slots.flatMap(sl=>(sl.activities||[]).map(act=>({...act,slot:sl.slot})));const totalMin=activities.reduce((sum,a)=>sum+a.duration,0)||1;// 1. Distribución %\nconst catSum={};activities.forEach(a=>{const c=categoryMap[a.activityId]||'Otros';catSum[c]=(catSum[c]||0)+a.duration;});const distribution=Object.entries(catSum).map(_ref=>{let[name,val]=_ref;return{name,value:+(val/totalMin*100).toFixed(1)};});// 2. Horas absolutas\nconst hours=Object.entries(catSum).map(_ref2=>{let[name,val]=_ref2;return{name,hours:+(val/60).toFixed(2)};});// 3. Diversidad\nconst diversity=new Set(activities.map(a=>a.activityId)).size;// 4. Consistencia\nconst covered=slots.filter(s=>{var _s$activities;return((_s$activities=s.activities)===null||_s$activities===void 0?void 0:_s$activities.length)>0;}).length;const consistency=+(covered/24*100).toFixed(1);// 5. Ratio slots vacíos\nconst emptySlotRatio=+((24-covered)/24*100).toFixed(1);// 6. Duración media por actividad\nconst averageDuration=+(totalMin/activities.length).toFixed(1);// 7. Entropía categórica\nconst ps=distribution.map(d=>d.value/100);const H=-ps.reduce((acc,p)=>p>0?acc+p*Math.log2(p):acc,0);const Hmax=Math.log2(ps.length||1);const entropyIndex=Hmax?+(H/Hmax*100).toFixed(1):0;// 8. Hora pico\nconst hourSum={};activities.forEach(a=>{const h=parseInt(a.slot.split(':')[0],10);hourSum[h]=(hourSum[h]||0)+a.duration;});const peakHour=Object.entries(hourSum).reduce((a,b)=>b[1]>a[1]?b:a,[0,0])[0];// 9. Patrón de continuidad\nconst sorted=[...activities].sort((a,b)=>+a.slot.split(':')[0]-+b.slot.split(':')[0]);let contCount=0;const transCounts={};sorted.forEach((a,i)=>{if(i<sorted.length-1){const cat1=categoryMap[a.activityId]||'Otros';const cat2=categoryMap[sorted[i+1].activityId]||'Otros';if(cat1===cat2)contCount++;const key=`${cat1}→${cat2}`;transCounts[key]=(transCounts[key]||0)+1;}});const totalTrans=sorted.length>1?sorted.length-1:1;const continuityIndex=+(contCount/totalTrans*100).toFixed(1);const topTransition=((_Object$entries$sort$=Object.entries(transCounts).sort((a,b)=>b[1]-a[1])[0])===null||_Object$entries$sort$===void 0?void 0:_Object$entries$sort$[0])||'N/A';// 10. Correspondencia Mié vs Sáb (Jaccard)\nconst opposite=allResults.filter(r=>r.day!==result.day);const setA=new Set(activities.map(a=>a.activityId));const jaccardArr=opposite.map(r2=>{const acts2=(r2.timeSlots||[]).flatMap(sl=>sl.activities.map(act=>act.activityId));const setB=new Set(acts2);const inter=[...setA].filter(x=>setB.has(x)).length;const union=new Set([...setA,...setB]).size||1;return inter/union;});const avgJ=opposite.length?jaccardArr.reduce((s,v)=>s+v,0)/opposite.length*100:0;const crossDayCorrespondence=+avgJ.toFixed(1);// 11. Balance por grupo\nconst grpSum={Autocuidado:0,Obligaciones:0,Ocio:0};activities.forEach(a=>{const cat=categoryMap[a.activityId]||'Ocio';const g=groupMap[cat]||'Ocio';grpSum[g]+=a.duration;});const groupBalance=Object.entries(grpSum).map(_ref3=>{let[subject,val]=_ref3;return{subject,value:+(val/totalMin*100).toFixed(1)};});// 12. Tendencia semanal\nconst trend=allResults.map(r=>{const acts=(r.timeSlots||[]).flatMap(sl=>sl.activities);const tot=acts.reduce((s,a)=>s+a.duration,0)||1;const sums={Autocuidado:0,Obligaciones:0,Ocio:0};acts.forEach(a=>{const cat=categoryMap[a.activityId]||'Ocio';sums[groupMap[cat]||'Ocio']+=a.duration;});return{date:new Date(r.createdAt).toLocaleDateString(),Autocuidado:+(sums.Autocuidado/tot*100).toFixed(1),Obligaciones:+(sums.Obligaciones/tot*100).toFixed(1),Ocio:+(sums.Ocio/tot*100).toFixed(1)};});// 13. Índice de equilibrio global\nconst N=distribution.length||1;const uniform=100/N;const idx=1-distribution.reduce((acc,c)=>acc+Math.abs(c.value-uniform),0)/200;const balanceIndex=+idx.toFixed(2);return{distribution,hours,diversity,consistency,emptySlotRatio,averageDuration,entropyIndex,peakHour,continuityIndex,topTransition,crossDayCorrespondence,groupBalance,trend,balanceIndex};}return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Desde:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:from,onChange:e=>setFrom(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Hasta:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:to,onChange:e=>setTo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"D\\xEDa:\",/*#__PURE__*/_jsx(\"select\",{value:selected||'',onChange:e=>setSelected(e.target.value),children:filtered.map(r=>{const d=new Date(r.createdAt).toLocaleDateString();return/*#__PURE__*/_jsx(\"option\",{value:r.createdAt,children:d},r.createdAt);})})]})]}),metrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Diversidad: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.diversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Consistencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.consistency,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Slots vac\\xEDos: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.emptySlotRatio,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Duraci\\xF3n media: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.averageDuration,\" min\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Entrop\\xEDa: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.entropyIndex,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Hora pico: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.peakHour,\":00\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Continuidad: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.continuityIndex,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Transici\\xF3n top: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.topTransition})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Correspondencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.crossDayCorrespondence,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"\\xCDndice equilibrio: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.balanceIndex})]})]}),metrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n % por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((entry,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ratio Slots Vac\\xEDos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"% de franjas sin actividades\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsxs(Pie,{data:[{name:'Vacíos',value:metrics.emptySlotRatio},{name:'Ocupados',value:+(100-metrics.emptySlotRatio).toFixed(1)}],dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:[/*#__PURE__*/_jsx(Cell,{fill:\"#ff8042\"}),/*#__PURE__*/_jsx(Cell,{fill:\"#82ca9d\"})]}),/*#__PURE__*/_jsx(Tooltip,{formatter:val=>`${val}%`}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Duraci\\xF3n Media Actividad\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:[{name:'Media',value:metrics.averageDuration}],children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{unit:\" min\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#0088FE\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Patr\\xF3n de Continuidad\"}),/*#__PURE__*/_jsx(\"p\",{children:\"% transiciones que mantienen categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:[{name:'Continuidad',value:metrics.continuityIndex}],children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100],unit:\"%\"}),/*#__PURE__*/_jsx(Tooltip,{formatter:val=>`${val}%`}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#ff8042\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Correspondencia Mi\\xE9 vs S\\xE1b\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Similaridad Jaccard entre d\\xEDas opuestos\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:[{name:'Jaccard',value:metrics.crossDayCorrespondence}],children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100],unit:\"%\"}),/*#__PURE__*/_jsx(Tooltip,{formatter:val=>`${val}%`}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:\"#0088FE\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tendencia Semanal (% por Grupo)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:metrics.trend,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{unit:\"%\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Autocuidado\",stroke:\"#8884d8\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Obligaciones\",stroke:\"#82ca9d\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Ocio\",stroke:\"#ffc658\"}),/*#__PURE__*/_jsx(Legend,{})]})})]})]})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","LineChart","Line","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","groupMap","Autocuidado","Obligaciones","Ocio","COLORS","PatientRoutines","patientId","results","setResults","filtered","setFiltered","from","setFrom","to","setTo","selected","setSelected","metrics","setMetrics","token","localStorage","getItem","get","headers","then","resp","data","now","Date","weekAgo","setDate","getDate","toISOString","slice","catch","console","error","fDate","tDate","setHours","filter","r","d","createdAt","length","res","find","m","computeMetrics","result","allResults","_Object$entries$sort$","slots","timeSlots","activities","flatMap","sl","map","act","slot","totalMin","reduce","sum","a","duration","catSum","forEach","c","activityId","distribution","Object","entries","_ref","name","val","value","toFixed","hours","_ref2","diversity","Set","size","covered","s","_s$activities","consistency","emptySlotRatio","averageDuration","ps","H","acc","p","Math","log2","Hmax","entropyIndex","hourSum","h","parseInt","split","peakHour","b","sorted","sort","contCount","transCounts","i","cat1","cat2","key","totalTrans","continuityIndex","topTransition","opposite","day","setA","jaccardArr","r2","acts2","setB","inter","x","has","union","avgJ","v","crossDayCorrespondence","grpSum","cat","g","groupBalance","_ref3","subject","trend","acts","tot","sums","date","toLocaleDateString","N","uniform","idx","abs","balanceIndex","className","children","type","onChange","e","target","width","height","dataKey","nameKey","cx","cy","outerRadius","label","entry","fill","formatter","strokeDasharray","unit","domain","stroke"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["// src/components/PatientRoutines.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  PieChart, Pie, Cell, Tooltip, Legend,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  LineChart, Line, ResponsiveContainer\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Mapeo actividad → categoría\r\nconst categoryMap = {\r\n  futbol: 'Ocio', dibujos: 'Ocio', comics: 'Ocio',\r\n  tarea: 'Obligaciones', videojuegos: 'Ocio', helado: 'Ocio',\r\n  parque: 'Ocio', banio: 'Autocuidado', dormir: 'Autocuidado',\r\n  musica: 'Ocio', bailar: 'Ocio', amigos: 'Ocio',\r\n  bicicleta: 'Ocio', dibujar: 'Ocio', mascotas: 'Ocio',\r\n  experimentos: 'Obligaciones', cantar: 'Ocio', lego: 'Ocio',\r\n  nadar: 'Autocuidado', computadora: 'Ocio'\r\n};\r\n// Mapeo categoría → grupo\r\nconst groupMap = {\r\n  Autocuidado: 'Autocuidado',\r\n  Obligaciones: 'Obligaciones',\r\n  Ocio: 'Ocio'\r\n};\r\n// Colores\r\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  // Traer datos\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get(`/api/game?patientId=${patientId}`, {\r\n      headers: { 'x-auth-token': token }\r\n    })\r\n    .then(resp => {\r\n      setResults(resp.data);\r\n      const now = new Date(), weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0,10));\r\n      setTo(now.toISOString().slice(0,10));\r\n    })\r\n    .catch(console.error);\r\n  }, [patientId]);\r\n\r\n  // Aplicar filtro de fechas\r\n  useEffect(() => {\r\n    if (!from || !to) return;\r\n    const fDate = new Date(from), tDate = new Date(to);\r\n    tDate.setHours(23,59,59,999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d >= fDate && d <= tDate;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  // Elegir primer día disponible\r\n  useEffect(() => {\r\n    if (filtered.length) setSelected(filtered[0].createdAt);\r\n    else setSelected(null);\r\n  }, [filtered]);\r\n\r\n  // Calcular métricas\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    if (!res) { setMetrics(null); return; }\r\n    const m = computeMetrics(res, filtered);\r\n    setMetrics(m);\r\n  }, [selected, filtered]);\r\n\r\n  function computeMetrics(result, allResults) {\r\n    const slots = result.timeSlots || [];\r\n    const activities = slots.flatMap(sl =>\r\n      (sl.activities || []).map(act => ({ ...act, slot: sl.slot }))\r\n    );\r\n    const totalMin = activities.reduce((sum,a) => sum + a.duration, 0) || 1;\r\n\r\n    // 1. Distribución %\r\n    const catSum = {};\r\n    activities.forEach(a => {\r\n      const c = categoryMap[a.activityId] || 'Otros';\r\n      catSum[c] = (catSum[c] || 0) + a.duration;\r\n    });\r\n    const distribution = Object.entries(catSum).map(([name,val]) => ({\r\n      name, value: +(val/totalMin*100).toFixed(1)\r\n    }));\r\n\r\n    // 2. Horas absolutas\r\n    const hours = Object.entries(catSum).map(([name,val]) => ({\r\n      name, hours: +(val/60).toFixed(2)\r\n    }));\r\n\r\n    // 3. Diversidad\r\n    const diversity = new Set(activities.map(a => a.activityId)).size;\r\n\r\n    // 4. Consistencia\r\n    const covered = slots.filter(s => s.activities?.length > 0).length;\r\n    const consistency = +((covered/24*100)).toFixed(1);\r\n\r\n    // 5. Ratio slots vacíos\r\n    const emptySlotRatio = +(((24 - covered)/24*100)).toFixed(1);\r\n\r\n    // 6. Duración media por actividad\r\n    const averageDuration = +(totalMin/activities.length).toFixed(1);\r\n\r\n    // 7. Entropía categórica\r\n    const ps = distribution.map(d=>d.value/100);\r\n    const H = -ps.reduce((acc,p)=>p>0?acc + p*Math.log2(p):acc,0);\r\n    const Hmax = Math.log2(ps.length||1);\r\n    const entropyIndex = Hmax ? +(H/Hmax*100).toFixed(1) : 0;\r\n\r\n    // 8. Hora pico\r\n    const hourSum = {};\r\n    activities.forEach(a => {\r\n      const h = parseInt(a.slot.split(':')[0],10);\r\n      hourSum[h] = (hourSum[h]||0) + a.duration;\r\n    });\r\n    const peakHour = Object.entries(hourSum).reduce((a,b) => b[1]>a[1]?b:a, [0,0])[0];\r\n\r\n    // 9. Patrón de continuidad\r\n    const sorted = [...activities].sort((a,b)=>\r\n      +a.slot.split(':')[0] - +b.slot.split(':')[0]\r\n    );\r\n    let contCount = 0;\r\n    const transCounts = {};\r\n    sorted.forEach((a,i)=>{\r\n      if(i<sorted.length-1){\r\n        const cat1 = categoryMap[a.activityId]||'Otros';\r\n        const cat2 = categoryMap[sorted[i+1].activityId]||'Otros';\r\n        if(cat1===cat2) contCount++;\r\n        const key = `${cat1}→${cat2}`;\r\n        transCounts[key] = (transCounts[key]||0) + 1;\r\n      }\r\n    });\r\n    const totalTrans = sorted.length>1 ? sorted.length-1 : 1;\r\n    const continuityIndex = +((contCount/totalTrans*100)).toFixed(1);\r\n    const topTransition = Object.entries(transCounts)\r\n      .sort((a,b)=>b[1]-a[1])[0]?.[0] || 'N/A';\r\n\r\n    // 10. Correspondencia Mié vs Sáb (Jaccard)\r\n    const opposite = allResults.filter(r => r.day !== result.day);\r\n    const setA = new Set(activities.map(a=>a.activityId));\r\n    const jaccardArr = opposite.map(r2 => {\r\n      const acts2 = (r2.timeSlots||[]).flatMap(sl=>sl.activities.map(act=>act.activityId));\r\n      const setB = new Set(acts2);\r\n      const inter = [...setA].filter(x=>setB.has(x)).length;\r\n      const union = new Set([...setA,...setB]).size || 1;\r\n      return inter/union;\r\n    });\r\n    const avgJ = opposite.length\r\n      ? jaccardArr.reduce((s,v)=>s+v,0)/opposite.length*100\r\n      : 0;\r\n    const crossDayCorrespondence = +avgJ.toFixed(1);\r\n\r\n    // 11. Balance por grupo\r\n    const grpSum = { Autocuidado:0, Obligaciones:0, Ocio:0 };\r\n    activities.forEach(a=>{\r\n      const cat = categoryMap[a.activityId]||'Ocio';\r\n      const g = groupMap[cat]||'Ocio';\r\n      grpSum[g] += a.duration;\r\n    });\r\n    const groupBalance = Object.entries(grpSum).map(([subject,val])=>({\r\n      subject, value: +(val/totalMin*100).toFixed(1)\r\n    }));\r\n\r\n    // 12. Tendencia semanal\r\n    const trend = allResults.map(r=>{\r\n      const acts = (r.timeSlots||[]).flatMap(sl=>sl.activities);\r\n      const tot = acts.reduce((s,a)=>s+a.duration,0) || 1;\r\n      const sums = { Autocuidado:0, Obligaciones:0, Ocio:0 };\r\n      acts.forEach(a=>{\r\n        const cat=categoryMap[a.activityId]||'Ocio';\r\n        sums[groupMap[cat]||'Ocio'] += a.duration;\r\n      });\r\n      return {\r\n        date: new Date(r.createdAt).toLocaleDateString(),\r\n        Autocuidado: +(sums.Autocuidado/tot*100).toFixed(1),\r\n        Obligaciones:+(sums.Obligaciones/tot*100).toFixed(1),\r\n        Ocio:       +(sums.Ocio/tot*100).toFixed(1)\r\n      };\r\n    });\r\n\r\n    // 13. Índice de equilibrio global\r\n    const N = distribution.length || 1;\r\n    const uniform = 100/N;\r\n    const idx = 1 - distribution.reduce((acc,c)=>(acc+Math.abs(c.value-uniform)),0)/200;\r\n    const balanceIndex = +idx.toFixed(2);\r\n\r\n    return {\r\n      distribution, hours, diversity, consistency,\r\n      emptySlotRatio, averageDuration, entropyIndex,\r\n      peakHour, continuityIndex, topTransition,\r\n      crossDayCorrespondence, groupBalance, trend,\r\n      balanceIndex\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      <section className=\"filter-section\">\r\n        <label>Desde:<input type=\"date\" value={from} onChange={e=>setFrom(e.target.value)} /></label>\r\n        <label>Hasta:<input type=\"date\" value={to} onChange={e=>setTo(e.target.value)} /></label>\r\n        <label>Día:\r\n          <select value={selected||''} onChange={e=>setSelected(e.target.value)}>\r\n            {filtered.map(r=>{\r\n              const d = new Date(r.createdAt).toLocaleDateString();\r\n              return <option key={r.createdAt} value={r.createdAt}>{d}</option>;\r\n            })}\r\n          </select>\r\n        </label>\r\n      </section>\r\n\r\n      {metrics && (\r\n        <div className=\"metrics-grid\">\r\n          <div className=\"metric-card\">Diversidad: <strong>{metrics.diversity}</strong></div>\r\n          <div className=\"metric-card\">Consistencia: <strong>{metrics.consistency}%</strong></div>\r\n          <div className=\"metric-card\">Slots vacíos: <strong>{metrics.emptySlotRatio}%</strong></div>\r\n          <div className=\"metric-card\">Duración media: <strong>{metrics.averageDuration} min</strong></div>\r\n          <div className=\"metric-card\">Entropía: <strong>{metrics.entropyIndex}%</strong></div>\r\n          <div className=\"metric-card\">Hora pico: <strong>{metrics.peakHour}:00</strong></div>\r\n          <div className=\"metric-card\">Continuidad: <strong>{metrics.continuityIndex}%</strong></div>\r\n          <div className=\"metric-card\">Transición top: <strong>{metrics.topTransition}</strong></div>\r\n          <div className=\"metric-card\">Correspondencia: <strong>{metrics.crossDayCorrespondence}%</strong></div>\r\n          <div className=\"metric-card\">Índice equilibrio: <strong>{metrics.balanceIndex}</strong></div>\r\n        </div>\r\n      )}\r\n\r\n      {metrics && (\r\n        <div className=\"charts-grid\">\r\n          {/* Distribución % por Categoría */}\r\n          <div className=\"chart-block\">\r\n            <h3>Distribución % por Categoría</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={metrics.distribution}\r\n                  dataKey=\"value\"\r\n                  nameKey=\"name\"\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  label\r\n                >\r\n                  {metrics.distribution.map((entry, i) => (\r\n                    <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n                <Legend />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Slots vacíos vs ocupados */}\r\n          <div className=\"chart-block\">\r\n            <h3>Ratio Slots Vacíos</h3>\r\n            <p>% de franjas sin actividades</p>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={[\r\n                    { name: 'Vacíos', value: metrics.emptySlotRatio },\r\n                    { name: 'Ocupados', value: +(100-metrics.emptySlotRatio).toFixed(1) }\r\n                  ]}\r\n                  dataKey=\"value\"\r\n                  nameKey=\"name\"\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  label\r\n                >\r\n                  <Cell fill=\"#ff8042\" />\r\n                  <Cell fill=\"#82ca9d\" />\r\n                </Pie>\r\n                <Tooltip formatter={val => `${val}%`} />\r\n                <Legend />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Duración media por actividad */}\r\n          <div className=\"chart-block\">\r\n            <h3>Duración Media Actividad</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <BarChart data={[{ name: 'Media', value: metrics.averageDuration }]}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis unit=\" min\"/>\r\n                <Tooltip />\r\n                <Bar dataKey=\"value\" fill=\"#0088FE\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Patrón de Continuidad */}\r\n          <div className=\"chart-block\">\r\n            <h3>Patrón de Continuidad</h3>\r\n            <p>% transiciones que mantienen categoría</p>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <BarChart data={[{ name: 'Continuidad', value: metrics.continuityIndex }]}>\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis domain={[0,100]} unit=\"%\" />\r\n                <Tooltip formatter={val=>`${val}%`} />\r\n                <Bar dataKey=\"value\" fill=\"#ff8042\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Correspondencia Mié vs Sáb */}\r\n          <div className=\"chart-block\">\r\n            <h3>Correspondencia Mié vs Sáb</h3>\r\n            <p>Similaridad Jaccard entre días opuestos</p>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <BarChart data={[{ name: 'Jaccard', value: metrics.crossDayCorrespondence }]}>\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis domain={[0,100]} unit=\"%\" />\r\n                <Tooltip formatter={val=>`${val}%`} />\r\n                <Bar dataKey=\"value\" fill=\"#0088FE\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Tendencia Semanal */}\r\n          <div className=\"chart-block full-width\">\r\n            <h3>Tendencia Semanal (% por Grupo)</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <LineChart data={metrics.trend}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis unit=\"%\" />\r\n                <Tooltip />\r\n                <Line type=\"monotone\" dataKey=\"Autocuidado\" stroke=\"#8884d8\" />\r\n                <Line type=\"monotone\" dataKey=\"Obligaciones\" stroke=\"#82ca9d\" />\r\n                <Line type=\"monotone\" dataKey=\"Ocio\" stroke=\"#ffc658\" />\r\n                <Legend />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,QAAQ,CAAEC,GAAG,CAAEC,IAAI,CAAEC,OAAO,CAAEC,MAAM,CACpCC,QAAQ,CAAEC,GAAG,CAAEC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAC1CC,UAAU,CAAEC,SAAS,CAAEC,cAAc,CAAEC,eAAe,CAAEC,KAAK,CAC7DC,SAAS,CAAEC,IAAI,CAAEC,mBAAmB,KAC/B,UAAU,CACjB,MAAO,iCAAiC,CAExC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,WAAW,CAAG,CAClBC,MAAM,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAC/CC,KAAK,CAAE,cAAc,CAAEC,WAAW,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAC1DC,MAAM,CAAE,MAAM,CAAEC,KAAK,CAAE,aAAa,CAAEC,MAAM,CAAE,aAAa,CAC3DC,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAC9CC,SAAS,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CACpDC,YAAY,CAAE,cAAc,CAAEC,MAAM,CAAE,MAAM,CAAEC,IAAI,CAAE,MAAM,CAC1DC,KAAK,CAAE,aAAa,CAAEC,WAAW,CAAE,MACrC,CAAC,CACD;AACA,KAAM,CAAAC,QAAQ,CAAG,CACfC,WAAW,CAAE,aAAa,CAC1BC,YAAY,CAAE,cAAc,CAC5BC,IAAI,CAAE,MACR,CAAC,CACD;AACA,KAAM,CAAAC,MAAM,CAAG,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAC,CAEtE,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAAEC,SAAU,CAAC,CAAGpD,SAAS,CAAC,CAAC,CACjC,KAAM,CAACqD,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACyD,QAAQ,CAAEC,WAAW,CAAC,CAAG1D,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC2D,IAAI,CAAEC,OAAO,CAAC,CAAG5D,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAC6D,EAAE,CAAEC,KAAK,CAAC,CAAG9D,QAAQ,CAAC,EAAE,CAAC,CAChC,KAAM,CAAC+D,QAAQ,CAAEC,WAAW,CAAC,CAAGhE,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACiE,OAAO,CAAEC,UAAU,CAAC,CAAGlE,QAAQ,CAAC,IAAI,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CjE,KAAK,CAACkE,GAAG,CAAC,uBAAuBhB,SAAS,EAAE,CAAE,CAC5CiB,OAAO,CAAE,CAAE,cAAc,CAAEJ,KAAM,CACnC,CAAC,CAAC,CACDK,IAAI,CAACC,IAAI,EAAI,CACZjB,UAAU,CAACiB,IAAI,CAACC,IAAI,CAAC,CACrB,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAAEC,OAAO,CAAG,GAAI,CAAAD,IAAI,CAACD,GAAG,CAAC,CAC/CE,OAAO,CAACC,OAAO,CAACH,GAAG,CAACI,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CAClCnB,OAAO,CAACiB,OAAO,CAACG,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAC1CnB,KAAK,CAACa,GAAG,CAACK,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACvB,CAAC,CAAE,CAAC9B,SAAS,CAAC,CAAC,CAEf;AACArD,SAAS,CAAC,IAAM,CACd,GAAI,CAAC0D,IAAI,EAAI,CAACE,EAAE,CAAE,OAClB,KAAM,CAAAwB,KAAK,CAAG,GAAI,CAAAT,IAAI,CAACjB,IAAI,CAAC,CAAE2B,KAAK,CAAG,GAAI,CAAAV,IAAI,CAACf,EAAE,CAAC,CAClDyB,KAAK,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,CAC5B7B,WAAW,CAACH,OAAO,CAACiC,MAAM,CAACC,CAAC,EAAI,CAC9B,KAAM,CAAAC,CAAC,CAAG,GAAI,CAAAd,IAAI,CAACa,CAAC,CAACE,SAAS,CAAC,CAC/B,MAAO,CAAAD,CAAC,EAAIL,KAAK,EAAIK,CAAC,EAAIJ,KAAK,CACjC,CAAC,CAAC,CAAC,CACL,CAAC,CAAE,CAAC/B,OAAO,CAAEI,IAAI,CAAEE,EAAE,CAAC,CAAC,CAEvB;AACA5D,SAAS,CAAC,IAAM,CACd,GAAIwD,QAAQ,CAACmC,MAAM,CAAE5B,WAAW,CAACP,QAAQ,CAAC,CAAC,CAAC,CAACkC,SAAS,CAAC,CAAC,IACnD,CAAA3B,WAAW,CAAC,IAAI,CAAC,CACxB,CAAC,CAAE,CAACP,QAAQ,CAAC,CAAC,CAEd;AACAxD,SAAS,CAAC,IAAM,CACd,GAAI,CAAC8D,QAAQ,CAAE,OACf,KAAM,CAAA8B,GAAG,CAAGpC,QAAQ,CAACqC,IAAI,CAACL,CAAC,EAAIA,CAAC,CAACE,SAAS,GAAK5B,QAAQ,CAAC,CACxD,GAAI,CAAC8B,GAAG,CAAE,CAAE3B,UAAU,CAAC,IAAI,CAAC,CAAE,OAAQ,CACtC,KAAM,CAAA6B,CAAC,CAAGC,cAAc,CAACH,GAAG,CAAEpC,QAAQ,CAAC,CACvCS,UAAU,CAAC6B,CAAC,CAAC,CACf,CAAC,CAAE,CAAChC,QAAQ,CAAEN,QAAQ,CAAC,CAAC,CAExB,QAAS,CAAAuC,cAAcA,CAACC,MAAM,CAAEC,UAAU,CAAE,KAAAC,qBAAA,CAC1C,KAAM,CAAAC,KAAK,CAAGH,MAAM,CAACI,SAAS,EAAI,EAAE,CACpC,KAAM,CAAAC,UAAU,CAAGF,KAAK,CAACG,OAAO,CAACC,EAAE,EACjC,CAACA,EAAE,CAACF,UAAU,EAAI,EAAE,EAAEG,GAAG,CAACC,GAAG,GAAK,CAAE,GAAGA,GAAG,CAAEC,IAAI,CAAEH,EAAE,CAACG,IAAK,CAAC,CAAC,CAC9D,CAAC,CACD,KAAM,CAAAC,QAAQ,CAAGN,UAAU,CAACO,MAAM,CAAC,CAACC,GAAG,CAACC,CAAC,GAAKD,GAAG,CAAGC,CAAC,CAACC,QAAQ,CAAE,CAAC,CAAC,EAAI,CAAC,CAEvE;AACA,KAAM,CAAAC,MAAM,CAAG,CAAC,CAAC,CACjBX,UAAU,CAACY,OAAO,CAACH,CAAC,EAAI,CACtB,KAAM,CAAAI,CAAC,CAAGxF,WAAW,CAACoF,CAAC,CAACK,UAAU,CAAC,EAAI,OAAO,CAC9CH,MAAM,CAACE,CAAC,CAAC,CAAG,CAACF,MAAM,CAACE,CAAC,CAAC,EAAI,CAAC,EAAIJ,CAAC,CAACC,QAAQ,CAC3C,CAAC,CAAC,CACF,KAAM,CAAAK,YAAY,CAAGC,MAAM,CAACC,OAAO,CAACN,MAAM,CAAC,CAACR,GAAG,CAACe,IAAA,MAAC,CAACC,IAAI,CAACC,GAAG,CAAC,CAAAF,IAAA,OAAM,CAC/DC,IAAI,CAAEE,KAAK,CAAE,CAAC,CAACD,GAAG,CAACd,QAAQ,CAAC,GAAG,EAAEgB,OAAO,CAAC,CAAC,CAC5C,CAAC,EAAC,CAAC,CAEH;AACA,KAAM,CAAAC,KAAK,CAAGP,MAAM,CAACC,OAAO,CAACN,MAAM,CAAC,CAACR,GAAG,CAACqB,KAAA,MAAC,CAACL,IAAI,CAACC,GAAG,CAAC,CAAAI,KAAA,OAAM,CACxDL,IAAI,CAAEI,KAAK,CAAE,CAAC,CAACH,GAAG,CAAC,EAAE,EAAEE,OAAO,CAAC,CAAC,CAClC,CAAC,EAAC,CAAC,CAEH;AACA,KAAM,CAAAG,SAAS,CAAG,GAAI,CAAAC,GAAG,CAAC1B,UAAU,CAACG,GAAG,CAACM,CAAC,EAAIA,CAAC,CAACK,UAAU,CAAC,CAAC,CAACa,IAAI,CAEjE;AACA,KAAM,CAAAC,OAAO,CAAG9B,KAAK,CAACZ,MAAM,CAAC2C,CAAC,OAAAC,aAAA,OAAI,EAAAA,aAAA,CAAAD,CAAC,CAAC7B,UAAU,UAAA8B,aAAA,iBAAZA,aAAA,CAAcxC,MAAM,EAAG,CAAC,GAAC,CAACA,MAAM,CAClE,KAAM,CAAAyC,WAAW,CAAG,CAAC,CAAEH,OAAO,CAAC,EAAE,CAAC,GAAG,EAAGN,OAAO,CAAC,CAAC,CAAC,CAElD;AACA,KAAM,CAAAU,cAAc,CAAG,CAAC,CAAE,CAAC,EAAE,CAAGJ,OAAO,EAAE,EAAE,CAAC,GAAG,EAAGN,OAAO,CAAC,CAAC,CAAC,CAE5D;AACA,KAAM,CAAAW,eAAe,CAAG,CAAC,CAAC3B,QAAQ,CAACN,UAAU,CAACV,MAAM,EAAEgC,OAAO,CAAC,CAAC,CAAC,CAEhE;AACA,KAAM,CAAAY,EAAE,CAAGnB,YAAY,CAACZ,GAAG,CAACf,CAAC,EAAEA,CAAC,CAACiC,KAAK,CAAC,GAAG,CAAC,CAC3C,KAAM,CAAAc,CAAC,CAAG,CAACD,EAAE,CAAC3B,MAAM,CAAC,CAAC6B,GAAG,CAACC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAACD,GAAG,CAAGC,CAAC,CAACC,IAAI,CAACC,IAAI,CAACF,CAAC,CAAC,CAACD,GAAG,CAAC,CAAC,CAAC,CAC7D,KAAM,CAAAI,IAAI,CAAGF,IAAI,CAACC,IAAI,CAACL,EAAE,CAAC5C,MAAM,EAAE,CAAC,CAAC,CACpC,KAAM,CAAAmD,YAAY,CAAGD,IAAI,CAAG,CAAC,CAACL,CAAC,CAACK,IAAI,CAAC,GAAG,EAAElB,OAAO,CAAC,CAAC,CAAC,CAAG,CAAC,CAExD;AACA,KAAM,CAAAoB,OAAO,CAAG,CAAC,CAAC,CAClB1C,UAAU,CAACY,OAAO,CAACH,CAAC,EAAI,CACtB,KAAM,CAAAkC,CAAC,CAAGC,QAAQ,CAACnC,CAAC,CAACJ,IAAI,CAACwC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAC3CH,OAAO,CAACC,CAAC,CAAC,CAAG,CAACD,OAAO,CAACC,CAAC,CAAC,EAAE,CAAC,EAAIlC,CAAC,CAACC,QAAQ,CAC3C,CAAC,CAAC,CACF,KAAM,CAAAoC,QAAQ,CAAG9B,MAAM,CAACC,OAAO,CAACyB,OAAO,CAAC,CAACnC,MAAM,CAAC,CAACE,CAAC,CAACsC,CAAC,GAAKA,CAAC,CAAC,CAAC,CAAC,CAACtC,CAAC,CAAC,CAAC,CAAC,CAACsC,CAAC,CAACtC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAEjF;AACA,KAAM,CAAAuC,MAAM,CAAG,CAAC,GAAGhD,UAAU,CAAC,CAACiD,IAAI,CAAC,CAACxC,CAAC,CAACsC,CAAC,GACtC,CAACtC,CAAC,CAACJ,IAAI,CAACwC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAG,CAACE,CAAC,CAAC1C,IAAI,CAACwC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9C,CAAC,CACD,GAAI,CAAAK,SAAS,CAAG,CAAC,CACjB,KAAM,CAAAC,WAAW,CAAG,CAAC,CAAC,CACtBH,MAAM,CAACpC,OAAO,CAAC,CAACH,CAAC,CAAC2C,CAAC,GAAG,CACpB,GAAGA,CAAC,CAACJ,MAAM,CAAC1D,MAAM,CAAC,CAAC,CAAC,CACnB,KAAM,CAAA+D,IAAI,CAAGhI,WAAW,CAACoF,CAAC,CAACK,UAAU,CAAC,EAAE,OAAO,CAC/C,KAAM,CAAAwC,IAAI,CAAGjI,WAAW,CAAC2H,MAAM,CAACI,CAAC,CAAC,CAAC,CAAC,CAACtC,UAAU,CAAC,EAAE,OAAO,CACzD,GAAGuC,IAAI,GAAGC,IAAI,CAAEJ,SAAS,EAAE,CAC3B,KAAM,CAAAK,GAAG,CAAG,GAAGF,IAAI,IAAIC,IAAI,EAAE,CAC7BH,WAAW,CAACI,GAAG,CAAC,CAAG,CAACJ,WAAW,CAACI,GAAG,CAAC,EAAE,CAAC,EAAI,CAAC,CAC9C,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,UAAU,CAAGR,MAAM,CAAC1D,MAAM,CAAC,CAAC,CAAG0D,MAAM,CAAC1D,MAAM,CAAC,CAAC,CAAG,CAAC,CACxD,KAAM,CAAAmE,eAAe,CAAG,CAAC,CAAEP,SAAS,CAACM,UAAU,CAAC,GAAG,EAAGlC,OAAO,CAAC,CAAC,CAAC,CAChE,KAAM,CAAAoC,aAAa,CAAG,EAAA7D,qBAAA,CAAAmB,MAAM,CAACC,OAAO,CAACkC,WAAW,CAAC,CAC9CF,IAAI,CAAC,CAACxC,CAAC,CAACsC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,CAACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAAZ,qBAAA,iBADNA,qBAAA,CACS,CAAC,CAAC,GAAI,KAAK,CAE1C;AACA,KAAM,CAAA8D,QAAQ,CAAG/D,UAAU,CAACV,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACyE,GAAG,GAAKjE,MAAM,CAACiE,GAAG,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAnC,GAAG,CAAC1B,UAAU,CAACG,GAAG,CAACM,CAAC,EAAEA,CAAC,CAACK,UAAU,CAAC,CAAC,CACrD,KAAM,CAAAgD,UAAU,CAAGH,QAAQ,CAACxD,GAAG,CAAC4D,EAAE,EAAI,CACpC,KAAM,CAAAC,KAAK,CAAG,CAACD,EAAE,CAAChE,SAAS,EAAE,EAAE,EAAEE,OAAO,CAACC,EAAE,EAAEA,EAAE,CAACF,UAAU,CAACG,GAAG,CAACC,GAAG,EAAEA,GAAG,CAACU,UAAU,CAAC,CAAC,CACpF,KAAM,CAAAmD,IAAI,CAAG,GAAI,CAAAvC,GAAG,CAACsC,KAAK,CAAC,CAC3B,KAAM,CAAAE,KAAK,CAAG,CAAC,GAAGL,IAAI,CAAC,CAAC3E,MAAM,CAACiF,CAAC,EAAEF,IAAI,CAACG,GAAG,CAACD,CAAC,CAAC,CAAC,CAAC7E,MAAM,CACrD,KAAM,CAAA+E,KAAK,CAAG,GAAI,CAAA3C,GAAG,CAAC,CAAC,GAAGmC,IAAI,CAAC,GAAGI,IAAI,CAAC,CAAC,CAACtC,IAAI,EAAI,CAAC,CAClD,MAAO,CAAAuC,KAAK,CAACG,KAAK,CACpB,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAGX,QAAQ,CAACrE,MAAM,CACxBwE,UAAU,CAACvD,MAAM,CAAC,CAACsB,CAAC,CAAC0C,CAAC,GAAG1C,CAAC,CAAC0C,CAAC,CAAC,CAAC,CAAC,CAACZ,QAAQ,CAACrE,MAAM,CAAC,GAAG,CACnD,CAAC,CACL,KAAM,CAAAkF,sBAAsB,CAAG,CAACF,IAAI,CAAChD,OAAO,CAAC,CAAC,CAAC,CAE/C;AACA,KAAM,CAAAmD,MAAM,CAAG,CAAE9H,WAAW,CAAC,CAAC,CAAEC,YAAY,CAAC,CAAC,CAAEC,IAAI,CAAC,CAAE,CAAC,CACxDmD,UAAU,CAACY,OAAO,CAACH,CAAC,EAAE,CACpB,KAAM,CAAAiE,GAAG,CAAGrJ,WAAW,CAACoF,CAAC,CAACK,UAAU,CAAC,EAAE,MAAM,CAC7C,KAAM,CAAA6D,CAAC,CAAGjI,QAAQ,CAACgI,GAAG,CAAC,EAAE,MAAM,CAC/BD,MAAM,CAACE,CAAC,CAAC,EAAIlE,CAAC,CAACC,QAAQ,CACzB,CAAC,CAAC,CACF,KAAM,CAAAkE,YAAY,CAAG5D,MAAM,CAACC,OAAO,CAACwD,MAAM,CAAC,CAACtE,GAAG,CAAC0E,KAAA,MAAC,CAACC,OAAO,CAAC1D,GAAG,CAAC,CAAAyD,KAAA,OAAI,CAChEC,OAAO,CAAEzD,KAAK,CAAE,CAAC,CAACD,GAAG,CAACd,QAAQ,CAAC,GAAG,EAAEgB,OAAO,CAAC,CAAC,CAC/C,CAAC,EAAC,CAAC,CAEH;AACA,KAAM,CAAAyD,KAAK,CAAGnF,UAAU,CAACO,GAAG,CAAChB,CAAC,EAAE,CAC9B,KAAM,CAAA6F,IAAI,CAAG,CAAC7F,CAAC,CAACY,SAAS,EAAE,EAAE,EAAEE,OAAO,CAACC,EAAE,EAAEA,EAAE,CAACF,UAAU,CAAC,CACzD,KAAM,CAAAiF,GAAG,CAAGD,IAAI,CAACzE,MAAM,CAAC,CAACsB,CAAC,CAACpB,CAAC,GAAGoB,CAAC,CAACpB,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC,EAAI,CAAC,CACnD,KAAM,CAAAwE,IAAI,CAAG,CAAEvI,WAAW,CAAC,CAAC,CAAEC,YAAY,CAAC,CAAC,CAAEC,IAAI,CAAC,CAAE,CAAC,CACtDmI,IAAI,CAACpE,OAAO,CAACH,CAAC,EAAE,CACd,KAAM,CAAAiE,GAAG,CAACrJ,WAAW,CAACoF,CAAC,CAACK,UAAU,CAAC,EAAE,MAAM,CAC3CoE,IAAI,CAACxI,QAAQ,CAACgI,GAAG,CAAC,EAAE,MAAM,CAAC,EAAIjE,CAAC,CAACC,QAAQ,CAC3C,CAAC,CAAC,CACF,MAAO,CACLyE,IAAI,CAAE,GAAI,CAAA7G,IAAI,CAACa,CAAC,CAACE,SAAS,CAAC,CAAC+F,kBAAkB,CAAC,CAAC,CAChDzI,WAAW,CAAE,CAAC,CAACuI,IAAI,CAACvI,WAAW,CAACsI,GAAG,CAAC,GAAG,EAAE3D,OAAO,CAAC,CAAC,CAAC,CACnD1E,YAAY,CAAC,CAAC,CAACsI,IAAI,CAACtI,YAAY,CAACqI,GAAG,CAAC,GAAG,EAAE3D,OAAO,CAAC,CAAC,CAAC,CACpDzE,IAAI,CAAQ,CAAC,CAACqI,IAAI,CAACrI,IAAI,CAACoI,GAAG,CAAC,GAAG,EAAE3D,OAAO,CAAC,CAAC,CAC5C,CAAC,CACH,CAAC,CAAC,CAEF;AACA,KAAM,CAAA+D,CAAC,CAAGtE,YAAY,CAACzB,MAAM,EAAI,CAAC,CAClC,KAAM,CAAAgG,OAAO,CAAG,GAAG,CAACD,CAAC,CACrB,KAAM,CAAAE,GAAG,CAAG,CAAC,CAAGxE,YAAY,CAACR,MAAM,CAAC,CAAC6B,GAAG,CAACvB,CAAC,GAAIuB,GAAG,CAACE,IAAI,CAACkD,GAAG,CAAC3E,CAAC,CAACQ,KAAK,CAACiE,OAAO,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CACnF,KAAM,CAAAG,YAAY,CAAG,CAACF,GAAG,CAACjE,OAAO,CAAC,CAAC,CAAC,CAEpC,MAAO,CACLP,YAAY,CAAEQ,KAAK,CAAEE,SAAS,CAAEM,WAAW,CAC3CC,cAAc,CAAEC,eAAe,CAAEQ,YAAY,CAC7CK,QAAQ,CAAEW,eAAe,CAAEC,aAAa,CACxCc,sBAAsB,CAAEI,YAAY,CAAEG,KAAK,CAC3CU,YACF,CAAC,CACH,CAEA,mBACErK,KAAA,QAAKsK,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCvK,KAAA,WAAQsK,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjCzK,IAAA,CAACrB,IAAI,EAAC0D,EAAE,CAAC,qBAAqB,CAAAoI,QAAA,CAAC,eAAQ,CAAM,CAAC,cAC9CzK,IAAA,OAAAyK,QAAA,CAAI,4BAAuB,CAAI,CAAC,EAC1B,CAAC,cAETvK,KAAA,YAASsK,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACjCvK,KAAA,UAAAuK,QAAA,EAAO,QAAM,cAAAzK,IAAA,UAAO0K,IAAI,CAAC,MAAM,CAACvE,KAAK,CAAEhE,IAAK,CAACwI,QAAQ,CAAEC,CAAC,EAAExI,OAAO,CAACwI,CAAC,CAACC,MAAM,CAAC1E,KAAK,CAAE,CAAE,CAAC,EAAO,CAAC,cAC7FjG,KAAA,UAAAuK,QAAA,EAAO,QAAM,cAAAzK,IAAA,UAAO0K,IAAI,CAAC,MAAM,CAACvE,KAAK,CAAE9D,EAAG,CAACsI,QAAQ,CAAEC,CAAC,EAAEtI,KAAK,CAACsI,CAAC,CAACC,MAAM,CAAC1E,KAAK,CAAE,CAAE,CAAC,EAAO,CAAC,cACzFjG,KAAA,UAAAuK,QAAA,EAAO,SACL,cAAAzK,IAAA,WAAQmG,KAAK,CAAE5D,QAAQ,EAAE,EAAG,CAACoI,QAAQ,CAAEC,CAAC,EAAEpI,WAAW,CAACoI,CAAC,CAACC,MAAM,CAAC1E,KAAK,CAAE,CAAAsE,QAAA,CACnExI,QAAQ,CAACgD,GAAG,CAAChB,CAAC,EAAE,CACf,KAAM,CAAAC,CAAC,CAAG,GAAI,CAAAd,IAAI,CAACa,CAAC,CAACE,SAAS,CAAC,CAAC+F,kBAAkB,CAAC,CAAC,CACpD,mBAAOlK,IAAA,WAA0BmG,KAAK,CAAElC,CAAC,CAACE,SAAU,CAAAsG,QAAA,CAAEvG,CAAC,EAAnCD,CAAC,CAACE,SAA0C,CAAC,CACnE,CAAC,CAAC,CACI,CAAC,EACJ,CAAC,EACD,CAAC,CAET1B,OAAO,eACNvC,KAAA,QAAKsK,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BvK,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,cAAY,cAAAzK,IAAA,WAAAyK,QAAA,CAAShI,OAAO,CAAC8D,SAAS,CAAS,CAAC,EAAK,CAAC,cACnFrG,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,gBAAc,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAACoE,WAAW,CAAC,GAAC,EAAQ,CAAC,EAAK,CAAC,cACxF3G,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,mBAAc,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAACqE,cAAc,CAAC,GAAC,EAAQ,CAAC,EAAK,CAAC,cAC3F5G,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,qBAAgB,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAACsE,eAAe,CAAC,MAAI,EAAQ,CAAC,EAAK,CAAC,cACjG7G,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,eAAU,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAAC8E,YAAY,CAAC,GAAC,EAAQ,CAAC,EAAK,CAAC,cACrFrH,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,aAAW,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAACmF,QAAQ,CAAC,KAAG,EAAQ,CAAC,EAAK,CAAC,cACpF1H,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,eAAa,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAAC8F,eAAe,CAAC,GAAC,EAAQ,CAAC,EAAK,CAAC,cAC3FrI,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,qBAAgB,cAAAzK,IAAA,WAAAyK,QAAA,CAAShI,OAAO,CAAC+F,aAAa,CAAS,CAAC,EAAK,CAAC,cAC3FtI,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,mBAAiB,cAAAvK,KAAA,WAAAuK,QAAA,EAAShI,OAAO,CAAC6G,sBAAsB,CAAC,GAAC,EAAQ,CAAC,EAAK,CAAC,cACtGpJ,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,wBAAmB,cAAAzK,IAAA,WAAAyK,QAAA,CAAShI,OAAO,CAAC8H,YAAY,CAAS,CAAC,EAAK,CAAC,EAC1F,CACN,CAEA9H,OAAO,eACNvC,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAE1BvK,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzK,IAAA,OAAAyK,QAAA,CAAI,oCAA4B,CAAI,CAAC,cACrCzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAACrB,QAAQ,EAAA4L,QAAA,eACPzK,IAAA,CAAClB,GAAG,EACFoE,IAAI,CAAET,OAAO,CAACoD,YAAa,CAC3BmF,OAAO,CAAC,OAAO,CACfC,OAAO,CAAC,MAAM,CACdC,EAAE,CAAC,KAAK,CACRC,EAAE,CAAC,KAAK,CACRC,WAAW,CAAE,EAAG,CAChBC,KAAK,MAAAZ,QAAA,CAEJhI,OAAO,CAACoD,YAAY,CAACZ,GAAG,CAAC,CAACqG,KAAK,CAAEpD,CAAC,gBACjClI,IAAA,CAACjB,IAAI,EAASwM,IAAI,CAAE3J,MAAM,CAACsG,CAAC,CAAGtG,MAAM,CAACwC,MAAM,CAAE,EAAnC8D,CAAqC,CACjD,CAAC,CACC,CAAC,cACNlI,IAAA,CAAChB,OAAO,GAAE,CAAC,cACXgB,IAAA,CAACf,MAAM,GAAE,CAAC,EACF,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNiB,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzK,IAAA,OAAAyK,QAAA,CAAI,uBAAkB,CAAI,CAAC,cAC3BzK,IAAA,MAAAyK,QAAA,CAAG,8BAA4B,CAAG,CAAC,cACnCzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAACrB,QAAQ,EAAA4L,QAAA,eACPvK,KAAA,CAACpB,GAAG,EACFoE,IAAI,CAAE,CACJ,CAAE+C,IAAI,CAAE,QAAQ,CAAEE,KAAK,CAAE1D,OAAO,CAACqE,cAAe,CAAC,CACjD,CAAEb,IAAI,CAAE,UAAU,CAAEE,KAAK,CAAE,CAAC,CAAC,GAAG,CAAC1D,OAAO,CAACqE,cAAc,EAAEV,OAAO,CAAC,CAAC,CAAE,CAAC,CACrE,CACF4E,OAAO,CAAC,OAAO,CACfC,OAAO,CAAC,MAAM,CACdC,EAAE,CAAC,KAAK,CACRC,EAAE,CAAC,KAAK,CACRC,WAAW,CAAE,EAAG,CAChBC,KAAK,MAAAZ,QAAA,eAELzK,IAAA,CAACjB,IAAI,EAACwM,IAAI,CAAC,SAAS,CAAE,CAAC,cACvBvL,IAAA,CAACjB,IAAI,EAACwM,IAAI,CAAC,SAAS,CAAE,CAAC,EACpB,CAAC,cACNvL,IAAA,CAAChB,OAAO,EAACwM,SAAS,CAAEtF,GAAG,EAAI,GAAGA,GAAG,GAAI,CAAE,CAAC,cACxClG,IAAA,CAACf,MAAM,GAAE,CAAC,EACF,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNiB,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzK,IAAA,OAAAyK,QAAA,CAAI,6BAAwB,CAAI,CAAC,cACjCzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAAChB,QAAQ,EAACgE,IAAI,CAAE,CAAC,CAAE+C,IAAI,CAAE,OAAO,CAAEE,KAAK,CAAE1D,OAAO,CAACsE,eAAgB,CAAC,CAAE,CAAA0D,QAAA,eAClEzK,IAAA,CAACV,aAAa,EAACmM,eAAe,CAAC,KAAK,CAAE,CAAC,cACvCzL,IAAA,CAACZ,KAAK,EAAC4L,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBhL,IAAA,CAACX,KAAK,EAACqM,IAAI,CAAC,MAAM,CAAC,CAAC,cACpB1L,IAAA,CAAChB,OAAO,GAAE,CAAC,cACXgB,IAAA,CAACb,GAAG,EAAC6L,OAAO,CAAC,OAAO,CAACO,IAAI,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNrL,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzK,IAAA,OAAAyK,QAAA,CAAI,0BAAqB,CAAI,CAAC,cAC9BzK,IAAA,MAAAyK,QAAA,CAAG,2CAAsC,CAAG,CAAC,cAC7CzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAAChB,QAAQ,EAACgE,IAAI,CAAE,CAAC,CAAE+C,IAAI,CAAE,aAAa,CAAEE,KAAK,CAAE1D,OAAO,CAAC8F,eAAgB,CAAC,CAAE,CAAAkC,QAAA,eACxEzK,IAAA,CAACZ,KAAK,EAAC4L,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBhL,IAAA,CAACX,KAAK,EAACsM,MAAM,CAAE,CAAC,CAAC,CAAC,GAAG,CAAE,CAACD,IAAI,CAAC,GAAG,CAAE,CAAC,cACnC1L,IAAA,CAAChB,OAAO,EAACwM,SAAS,CAAEtF,GAAG,EAAE,GAAGA,GAAG,GAAI,CAAE,CAAC,cACtClG,IAAA,CAACb,GAAG,EAAC6L,OAAO,CAAC,OAAO,CAACO,IAAI,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNrL,KAAA,QAAKsK,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BzK,IAAA,OAAAyK,QAAA,CAAI,kCAA0B,CAAI,CAAC,cACnCzK,IAAA,MAAAyK,QAAA,CAAG,4CAAuC,CAAG,CAAC,cAC9CzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAAChB,QAAQ,EAACgE,IAAI,CAAE,CAAC,CAAE+C,IAAI,CAAE,SAAS,CAAEE,KAAK,CAAE1D,OAAO,CAAC6G,sBAAuB,CAAC,CAAE,CAAAmB,QAAA,eAC3EzK,IAAA,CAACZ,KAAK,EAAC4L,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBhL,IAAA,CAACX,KAAK,EAACsM,MAAM,CAAE,CAAC,CAAC,CAAC,GAAG,CAAE,CAACD,IAAI,CAAC,GAAG,CAAE,CAAC,cACnC1L,IAAA,CAAChB,OAAO,EAACwM,SAAS,CAAEtF,GAAG,EAAE,GAAGA,GAAG,GAAI,CAAE,CAAC,cACtClG,IAAA,CAACb,GAAG,EAAC6L,OAAO,CAAC,OAAO,CAACO,IAAI,CAAC,SAAS,CAAE,CAAC,EAC9B,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNrL,KAAA,QAAKsK,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCzK,IAAA,OAAAyK,QAAA,CAAI,iCAA+B,CAAI,CAAC,cACxCzK,IAAA,CAACF,mBAAmB,EAACgL,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5CvK,KAAA,CAACN,SAAS,EAACsD,IAAI,CAAET,OAAO,CAACoH,KAAM,CAAAY,QAAA,eAC7BzK,IAAA,CAACV,aAAa,EAACmM,eAAe,CAAC,KAAK,CAAE,CAAC,cACvCzL,IAAA,CAACZ,KAAK,EAAC4L,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBhL,IAAA,CAACX,KAAK,EAACqM,IAAI,CAAC,GAAG,CAAE,CAAC,cAClB1L,IAAA,CAAChB,OAAO,GAAE,CAAC,cACXgB,IAAA,CAACH,IAAI,EAAC6K,IAAI,CAAC,UAAU,CAACM,OAAO,CAAC,aAAa,CAACY,MAAM,CAAC,SAAS,CAAE,CAAC,cAC/D5L,IAAA,CAACH,IAAI,EAAC6K,IAAI,CAAC,UAAU,CAACM,OAAO,CAAC,cAAc,CAACY,MAAM,CAAC,SAAS,CAAE,CAAC,cAChE5L,IAAA,CAACH,IAAI,EAAC6K,IAAI,CAAC,UAAU,CAACM,OAAO,CAAC,MAAM,CAACY,MAAM,CAAC,SAAS,CAAE,CAAC,cACxD5L,IAAA,CAACf,MAAM,GAAE,CAAC,EACD,CAAC,CACO,CAAC,EACnB,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAA4C,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}