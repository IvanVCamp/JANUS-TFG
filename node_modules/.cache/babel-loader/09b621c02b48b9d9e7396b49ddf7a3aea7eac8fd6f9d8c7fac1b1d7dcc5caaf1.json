{"ast":null,"code":"// src/pages/PatientTemplatesPage.js\nimport React,{useState,useEffect}from'react';import assignedRoutineService from'../services/assignedRoutineService';import'../styles/routineTemplates.css';import'./patientTemplates.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientTemplatesPage(){const[templates,setTemplates]=useState([]);const[loading,setLoading]=useState(true);const[expandedIds,setExpanded]=useState([]);const[search,setSearch]=useState('');const[filterStatus,setFilter]=useState('all');const[sortKey,setSort]=useState('dueDate');// 1) Leemos rawUser de localStorage y validamos que no sea \"undefined\" ni null\nlet patientId='';try{const rawUser=localStorage.getItem('user');if(rawUser&&rawUser!=='undefined'){const parsed=JSON.parse(rawUser);patientId=parsed.id||'';}}catch(e){console.warn('Error parseando user en localStorage:',e);}useEffect(()=>{if(!patientId){console.error('No se ha encontrado patientId en localStorage');setLoading(false);return;}assignedRoutineService.getAssignedTemplates(patientId).then(_ref=>{let{data}=_ref;const arr=data.map(inst=>({id:inst._id,title:inst.template.name||inst.template.title,description:inst.template.description,dueDate:inst.template.dueDate||inst.assignedAt,activities:inst.template.activities.map((act,idx)=>({id:idx,name:act.name,details:act.desc||act.details||'',estimatedTime:act.minutes||act.estimatedTime||'',completed:inst.completedActivities.includes(idx),note:''})),progress:inst.template.activities.length===0?0:Math.round(inst.completedActivities.length/inst.template.activities.length*100),status:inst.completedActivities.length===inst.template.activities.length?'completed':inst.completedActivities.length>0?'in-progress':'pending'}));setTemplates(arr);}).catch(err=>console.error('Error cargando plantillas:',err)).finally(()=>setLoading(false));},[patientId]);const toggleExpand=id=>setExpanded(ids=>ids.includes(id)?ids.filter(x=>x!==id):[...ids,id]);const handleActivityToggle=(tplId,actId)=>{const inst=templates.find(t=>t.id===tplId);const currently=inst.activities.find(a=>a.id===actId).completed;assignedRoutineService.toggleActivity(tplId,actId,!currently).then(()=>{setTemplates(ts=>ts.map(t=>{if(t.id!==tplId)return t;const completedCount=t.activities.filter(a=>a.completed).length+(currently?-1:1);return{...t,activities:t.activities.map(a=>a.id===actId?{...a,completed:!currently}:a),progress:Math.round(completedCount/t.activities.length*100)};}));}).catch(err=>console.error('Error marcando actividad:',err));};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"pt-loading\",children:\"Cargando plantillas\\u2026\"});if(!patientId)return/*#__PURE__*/_jsx(\"div\",{className:\"pt-loading\",children:\"No has iniciado sesi\\xF3n correctamente.\"});// Filtrado, búsqueda y ordenación\nconst visible=templates.filter(t=>filterStatus==='all'||t.status===filterStatus).filter(t=>t.title.toLowerCase().includes(search.toLowerCase())).sort((a,b)=>{if(sortKey==='dueDate')return new Date(a.dueDate)-new Date(b.dueDate);if(sortKey==='progress')return a.progress-b.progress;return 0;});return/*#__PURE__*/_jsxs(\"div\",{className:\"pt-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"pt-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mis Plantillas Asignadas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar plantilla\\u2026\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pendientes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"in-progress\",children:\"En progreso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completadas\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:sortKey,onChange:e=>setSort(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"dueDate\",children:\"Por fecha\"}),/*#__PURE__*/_jsx(\"option\",{value:\"progress\",children:\"Por progreso\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-grid\",children:visible.map(t=>/*#__PURE__*/_jsxs(\"div\",{className:\"pt-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pt-card-header\",onClick:()=>toggleExpand(t.id),children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:t.title}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Vence: \",new Date(t.dueDate).toLocaleDateString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-progress-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-progress-filled\",style:{width:`${t.progress}%`}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"pt-progress-label\",children:[t.progress,\"%\"]})]})]}),expandedIds.includes(t.id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"pt-card-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pt-description\",children:t.description}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-activities\",children:t.activities.map(act=>/*#__PURE__*/_jsx(\"div\",{className:`pt-activity-item ${act.completed?'done':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"pt-act-main\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:act.completed,onChange:()=>handleActivityToggle(t.id,act.id)}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:act.name}),/*#__PURE__*/_jsx(\"p\",{children:act.details}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Tiempo estimado: \",act.estimatedTime,\" min\"]})]})]})},act.id))})]})]},t.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","assignedRoutineService","jsx","_jsx","jsxs","_jsxs","PatientTemplatesPage","templates","setTemplates","loading","setLoading","expandedIds","setExpanded","search","setSearch","filterStatus","setFilter","sortKey","setSort","patientId","rawUser","localStorage","getItem","parsed","JSON","parse","id","e","console","warn","error","getAssignedTemplates","then","_ref","data","arr","map","inst","_id","title","template","name","description","dueDate","assignedAt","activities","act","idx","details","desc","estimatedTime","minutes","completed","completedActivities","includes","note","progress","length","Math","round","status","catch","err","finally","toggleExpand","ids","filter","x","handleActivityToggle","tplId","actId","find","t","currently","a","toggleActivity","ts","completedCount","className","children","visible","toLowerCase","sort","b","Date","type","placeholder","value","onChange","target","onClick","toLocaleDateString","style","width","checked"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientTemplatesPage.js"],"sourcesContent":["// src/pages/PatientTemplatesPage.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport assignedRoutineService from '../services/assignedRoutineService';\r\nimport '../styles/routineTemplates.css';\r\nimport './patientTemplates.css';\r\n\r\nexport default function PatientTemplatesPage() {\r\n  const [templates, setTemplates]   = useState([]);\r\n  const [loading, setLoading]       = useState(true);\r\n  const [expandedIds, setExpanded]  = useState([]);\r\n  const [search, setSearch]         = useState('');\r\n  const [filterStatus, setFilter]   = useState('all');\r\n  const [sortKey, setSort]          = useState('dueDate');\r\n\r\n  // 1) Leemos rawUser de localStorage y validamos que no sea \"undefined\" ni null\r\n  let patientId = '';\r\n  try {\r\n    const rawUser = localStorage.getItem('user');\r\n    if (rawUser && rawUser !== 'undefined') {\r\n      const parsed = JSON.parse(rawUser);\r\n      patientId = parsed.id || '';\r\n    }\r\n  } catch (e) {\r\n    console.warn('Error parseando user en localStorage:', e);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!patientId) {\r\n      console.error('No se ha encontrado patientId en localStorage');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    assignedRoutineService\r\n      .getAssignedTemplates(patientId)\r\n      .then(({ data }) => {\r\n        const arr = data.map(inst => ({\r\n          id: inst._id,\r\n          title: inst.template.name || inst.template.title,\r\n          description: inst.template.description,\r\n          dueDate: inst.template.dueDate || inst.assignedAt,\r\n          activities: inst.template.activities.map((act, idx) => ({\r\n            id: idx,\r\n            name: act.name,\r\n            details: act.desc || act.details || '',\r\n            estimatedTime: act.minutes || act.estimatedTime || '',\r\n            completed: inst.completedActivities.includes(idx),\r\n            note: '' \r\n          })),\r\n          progress:\r\n            inst.template.activities.length === 0\r\n              ? 0\r\n              : Math.round(\r\n                  inst.completedActivities.length /\r\n                    inst.template.activities.length *\r\n                  100\r\n                ),\r\n          status:\r\n            inst.completedActivities.length === inst.template.activities.length\r\n              ? 'completed'\r\n              : inst.completedActivities.length > 0\r\n              ? 'in-progress'\r\n              : 'pending'\r\n        }));\r\n        setTemplates(arr);\r\n      })\r\n      .catch(err => console.error('Error cargando plantillas:', err))\r\n      .finally(() => setLoading(false));\r\n  }, [patientId]);\r\n\r\n  const toggleExpand = id =>\r\n    setExpanded(ids =>\r\n      ids.includes(id) ? ids.filter(x => x !== id) : [...ids, id]\r\n    );\r\n\r\n  const handleActivityToggle = (tplId, actId) => {\r\n    const inst = templates.find(t => t.id === tplId);\r\n    const currently = inst.activities.find(a => a.id === actId).completed;\r\n\r\n    assignedRoutineService\r\n      .toggleActivity(tplId, actId, !currently)\r\n      .then(() => {\r\n        setTemplates(ts =>\r\n          ts.map(t => {\r\n            if (t.id !== tplId) return t;\r\n            const completedCount = t.activities.filter(a => a.completed).length + (currently ? -1 : 1);\r\n            return {\r\n              ...t,\r\n              activities: t.activities.map(a =>\r\n                a.id === actId ? { ...a, completed: !currently } : a\r\n              ),\r\n              progress: Math.round(\r\n                (completedCount / t.activities.length) * 100\r\n              )\r\n            };\r\n          })\r\n        );\r\n      })\r\n      .catch(err => console.error('Error marcando actividad:', err));\r\n  };\r\n\r\n  if (loading) return <div className=\"pt-loading\">Cargando plantillas…</div>;\r\n  if (!patientId)\r\n    return <div className=\"pt-loading\">No has iniciado sesión correctamente.</div>;\r\n\r\n  // Filtrado, búsqueda y ordenación\r\n  const visible = templates\r\n    .filter(t => filterStatus === 'all' || t.status === filterStatus)\r\n    .filter(t => t.title.toLowerCase().includes(search.toLowerCase()))\r\n    .sort((a, b) => {\r\n      if (sortKey === 'dueDate')\r\n        return new Date(a.dueDate) - new Date(b.dueDate);\r\n      if (sortKey === 'progress')\r\n        return a.progress - b.progress;\r\n      return 0;\r\n    });\r\n\r\n  return (\r\n    <div className=\"pt-container\">\r\n      <header className=\"pt-header\">\r\n        <h1>Mis Plantillas Asignadas</h1>\r\n        <div className=\"pt-controls\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar plantilla…\"\r\n            value={search}\r\n            onChange={e => setSearch(e.target.value)}\r\n          />\r\n          <select\r\n            value={filterStatus}\r\n            onChange={e => setFilter(e.target.value)}\r\n          >\r\n            <option value=\"all\">Todas</option>\r\n            <option value=\"pending\">Pendientes</option>\r\n            <option value=\"in-progress\">En progreso</option>\r\n            <option value=\"completed\">Completadas</option>\r\n          </select>\r\n          <select\r\n            value={sortKey}\r\n            onChange={e => setSort(e.target.value)}\r\n          >\r\n            <option value=\"dueDate\">Por fecha</option>\r\n            <option value=\"progress\">Por progreso</option>\r\n          </select>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"pt-grid\">\r\n        {visible.map(t => (\r\n          <div key={t.id} className=\"pt-card\">\r\n            <div\r\n              className=\"pt-card-header\"\r\n              onClick={() => toggleExpand(t.id)}\r\n            >\r\n              <div>\r\n                <h2>{t.title}</h2>\r\n                <small>\r\n                  Vence: {new Date(t.dueDate).toLocaleDateString()}\r\n                </small>\r\n              </div>\r\n              <div className=\"pt-progress-wrapper\">\r\n                <div className=\"pt-progress-bar\">\r\n                  <div\r\n                    className=\"pt-progress-filled\"\r\n                    style={{ width: `${t.progress}%` }}\r\n                  />\r\n                </div>\r\n                <span className=\"pt-progress-label\">\r\n                  {t.progress}%\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {expandedIds.includes(t.id) && (\r\n              <div className=\"pt-card-body\">\r\n                <p className=\"pt-description\">\r\n                  {t.description}\r\n                </p>\r\n                <div className=\"pt-activities\">\r\n                  {t.activities.map(act => (\r\n                    <div\r\n                      key={act.id}\r\n                      className={`pt-activity-item ${\r\n                        act.completed ? 'done' : ''\r\n                      }`}\r\n                    >\r\n                      <div className=\"pt-act-main\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={act.completed}\r\n                          onChange={() =>\r\n                            handleActivityToggle(t.id, act.id)\r\n                          }\r\n                        />\r\n                        <div>\r\n                          <h3>{act.name}</h3>\r\n                          <p>{act.details}</p>\r\n                          <small>\r\n                            Tiempo estimado: {act.estimatedTime} min\r\n                          </small>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}