{"ast":null,"code":"// services/chatService.js\nimport axios from'axios';const API_URL='http://localhost:8080/api';const chatService={getChats:async()=>{const token=localStorage.getItem('token');const response=await axios.get(`${API_URL}/chats`,{headers:{'x-auth-token':token}});return response.data;},startChat:async userId=>{const token=localStorage.getItem('token');const response=await axios.post(`${API_URL}/chats`,{userId},{headers:{'x-auth-token':token}});return response.data;},getMessages:async chatId=>{const token=localStorage.getItem('token');const response=await axios.get(`${API_URL}/chats/${chatId}/messages`,{headers:{'x-auth-token':token}});return response.data;},sendMessage:async(chatId,formData)=>{const token=localStorage.getItem('token');const response=await axios.post(`${API_URL}/chats/${chatId}/messages`,formData,{headers:{'x-auth-token':token,'Content-Type':'multipart/form-data'}});return response.data;},searchUsers:async query=>{const token=localStorage.getItem('token');const response=await axios.get(`${API_URL}/users/search`,{params:{q:query},headers:{'x-auth-token':token}});return response.data;}};export default chatService;","map":{"version":3,"names":["axios","API_URL","chatService","getChats","token","localStorage","getItem","response","get","headers","data","startChat","userId","post","getMessages","chatId","sendMessage","formData","searchUsers","query","params","q"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/services/chatService.js"],"sourcesContent":["// services/chatService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:8080/api';\r\n\r\nconst chatService = {\r\n  getChats: async () => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get(`${API_URL}/chats`, {\r\n      headers: { 'x-auth-token': token },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  startChat: async (userId) => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.post(\r\n      `${API_URL}/chats`,\r\n      { userId },\r\n      { headers: { 'x-auth-token': token } }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  getMessages: async (chatId) => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get(`${API_URL}/chats/${chatId}/messages`, {\r\n      headers: { 'x-auth-token': token },\r\n    });\r\n    return response.data;\r\n  },\r\n\r\n  sendMessage: async (chatId, formData) => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.post(\r\n      `${API_URL}/chats/${chatId}/messages`,\r\n      formData,\r\n      {\r\n        headers: {\r\n          'x-auth-token': token,\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      }\r\n    );\r\n    return response.data;\r\n  },\r\n\r\n  searchUsers: async (query) => {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get(`${API_URL}/users/search`, {\r\n      params: { q: query },\r\n      headers: { 'x-auth-token': token },\r\n    });\r\n    return response.data;\r\n  },\r\n};\r\n\r\nexport default chatService;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAG,2BAA2B,CAE3C,KAAM,CAAAC,WAAW,CAAG,CAClBC,QAAQ,CAAE,KAAAA,CAAA,GAAY,CACpB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,QAAQ,CAAE,CACnDQ,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CACnC,CAAC,CAAC,CACF,MAAO,CAAAG,QAAQ,CAACG,IAAI,CACtB,CAAC,CAEDC,SAAS,CAAE,KAAO,CAAAC,MAAM,EAAK,CAC3B,KAAM,CAAAR,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACa,IAAI,CAC/B,GAAGZ,OAAO,QAAQ,CAClB,CAAEW,MAAO,CAAC,CACV,CAAEH,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CAAE,CACvC,CAAC,CACD,MAAO,CAAAG,QAAQ,CAACG,IAAI,CACtB,CAAC,CAEDI,WAAW,CAAE,KAAO,CAAAC,MAAM,EAAK,CAC7B,KAAM,CAAAX,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,UAAUc,MAAM,WAAW,CAAE,CACtEN,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CACnC,CAAC,CAAC,CACF,MAAO,CAAAG,QAAQ,CAACG,IAAI,CACtB,CAAC,CAEDM,WAAW,CAAE,KAAAA,CAAOD,MAAM,CAAEE,QAAQ,GAAK,CACvC,KAAM,CAAAb,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACa,IAAI,CAC/B,GAAGZ,OAAO,UAAUc,MAAM,WAAW,CACrCE,QAAQ,CACR,CACER,OAAO,CAAE,CACP,cAAc,CAAEL,KAAK,CACrB,cAAc,CAAE,qBAClB,CACF,CACF,CAAC,CACD,MAAO,CAAAG,QAAQ,CAACG,IAAI,CACtB,CAAC,CAEDQ,WAAW,CAAE,KAAO,CAAAC,KAAK,EAAK,CAC5B,KAAM,CAAAf,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,eAAe,CAAE,CAC1DmB,MAAM,CAAE,CAAEC,CAAC,CAAEF,KAAM,CAAC,CACpBV,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CACnC,CAAC,CAAC,CACF,MAAO,CAAAG,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,cAAe,CAAAR,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}