{"ast":null,"code":"// src/components/PatientInterests.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{ResponsiveContainer,BarChart,Bar,XAxis,YAxis,Tooltip,Legend,PieChart,Pie,Cell}from'recharts';import'../styles/therapistRoutines.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientInterests(){const{patientId}=useParams();const[diary,setDiary]=useState(undefined);const[metrics,setMetrics]=useState(null);// Map activityId ➔ category\nconst categoryMap={futbol:'Ocio',dibujos:'Ocio',comics:'Ocio',tarea:'Obligaciones',videojuegos:'Ocio',helado:'Ocio',parque:'Ocio',banio:'Autocuidado',dormir:'Autocuidado',musica:'Ocio',bailar:'Ocio',amigos:'Ocio',bicicleta:'Ocio',dibujar:'Ocio',mascotas:'Ocio',experimentos:'Obligaciones',cantar:'Ocio',lego:'Ocio',nadar:'Autocuidado',computadora:'Ocio'};useEffect(()=>{const fetchDiary=async()=>{try{const token=localStorage.getItem('token');const{data}=await axios.get(`/api/emotions?patientId=${patientId}`,{headers:{'x-auth-token':token}});setDiary(data&&data.length>0?data[0].diary:null);}catch{setDiary(null);}};fetchDiary();},[patientId]);useEffect(()=>{if(!Array.isArray(diary)||diary.length===0)return;const ratings=diary.map(e=>e.rating);const n=ratings.length;const sum=ratings.reduce((a,b)=>a+b,0);const average=+(sum/n).toFixed(2);// Median\nconst sorted=[...ratings].sort((a,b)=>a-b);const mid=Math.floor(n/2);const median=n%2===0?+((sorted[mid-1]+sorted[mid])/2).toFixed(2):sorted[mid];// Mode\nconst freq={};ratings.forEach(r=>freq[r]=(freq[r]||0)+1);const mode=+Object.entries(freq).sort((a,b)=>b[1]-a[1])[0][0];// Std dev\nconst variance=ratings.reduce((acc,r)=>acc+(r-average)**2,0)/n;const stdDev=+Math.sqrt(variance).toFixed(2);// Distribution 1–5\nconst distribution=[1,2,3,4,5].map(r=>({rating:r,count:freq[r]||0}));// Positive / Neutral / Negative\nconst pos=distribution.filter(d=>d.rating>=4).reduce((a,d)=>a+d.count,0);const neu=distribution.find(d=>d.rating===3).count;const neg=distribution.filter(d=>d.rating<=2).reduce((a,d)=>a+d.count,0);const pnDistribution=[{category:'Positivo (4–5)',value:pos},{category:'Neutral (3)',value:neu},{category:'Negativo (1–2)',value:neg}];// Activities data\nconst activities=diary.map(e=>({name:e.title,rating:e.rating}));// Category grouping\nconst catCounts={};const catSums={};diary.forEach(e=>{const cat=categoryMap[e.activityId]||'Otros';catCounts[cat]=(catCounts[cat]||0)+1;catSums[cat]=(catSums[cat]||0)+e.rating;});const categoryDistribution=Object.entries(catCounts).map(_ref=>{let[category,count]=_ref;return{category,count};});const categoryAvg=Object.entries(catSums).map(_ref2=>{let[category,sum]=_ref2;return{category,avg:+(sum/catCounts[category]).toFixed(2)};});setMetrics({average,median,mode,stdDev,distribution,pnDistribution,activities,categoryDistribution,categoryAvg});},[diary]);if(diary===undefined){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando diario\\u2026\"})]});}if(diary===null){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"No hay diario guardado para este paciente.\"})]});}if(!metrics){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Calculando estad\\xEDsticas\\u2026\"})]});}const COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];const PN_COLORS=['#82ca9d','#ffc658','#ff8042'];const CAT_COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042'];return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Promedio: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.average})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Mediana: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.median})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Moda: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.mode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Desviaci\\xF3n: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.stdDev})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Actividades: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.activities.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n de Calificaciones\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"count\",nameKey:\"rating\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((_,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{verticalAlign:\"bottom\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Positivo / Neutral / Negativo\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.pnDistribution,dataKey:\"value\",nameKey:\"category\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.pnDistribution.map((_,i)=>/*#__PURE__*/_jsx(Cell,{fill:PN_COLORS[i%PN_COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Conteo por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.categoryDistribution,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:CAT_COLORS[0]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nota Media por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.categoryAvg,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\"}),/*#__PURE__*/_jsx(YAxis,{domain:[1,5]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"avg\",fill:CAT_COLORS[1]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Calificaci\\xF3n por Actividad\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.activities,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{domain:[1,5]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"rating\",fill:\"#82ca9d\"})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","ResponsiveContainer","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","PieChart","Pie","Cell","jsx","_jsx","jsxs","_jsxs","PatientInterests","patientId","diary","setDiary","undefined","metrics","setMetrics","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","fetchDiary","token","localStorage","getItem","data","get","headers","length","Array","isArray","ratings","map","e","rating","n","sum","reduce","a","b","average","toFixed","sorted","sort","mid","Math","floor","median","freq","forEach","r","mode","Object","entries","variance","acc","stdDev","sqrt","distribution","count","pos","filter","d","neu","find","neg","pnDistribution","category","value","activities","name","title","catCounts","catSums","cat","activityId","categoryDistribution","_ref","categoryAvg","_ref2","avg","className","children","to","COLORS","PN_COLORS","CAT_COLORS","width","height","dataKey","nameKey","cx","cy","outerRadius","label","_","i","fill","verticalAlign","margin","top","right","left","bottom","domain"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientInterests.js"],"sourcesContent":["// src/components/PatientInterests.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  ResponsiveContainer,\r\n  BarChart, Bar, XAxis, YAxis, Tooltip, Legend,\r\n  PieChart, Pie, Cell\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\nexport default function PatientInterests() {\r\n  const { patientId } = useParams();\r\n  const [diary, setDiary] = useState(undefined);\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  // Map activityId ➔ category\r\n  const categoryMap = {\r\n    futbol: 'Ocio',\r\n    dibujos: 'Ocio',\r\n    comics: 'Ocio',\r\n    tarea: 'Obligaciones',\r\n    videojuegos: 'Ocio',\r\n    helado: 'Ocio',\r\n    parque: 'Ocio',\r\n    banio: 'Autocuidado',\r\n    dormir: 'Autocuidado',\r\n    musica: 'Ocio',\r\n    bailar: 'Ocio',\r\n    amigos: 'Ocio',\r\n    bicicleta: 'Ocio',\r\n    dibujar: 'Ocio',\r\n    mascotas: 'Ocio',\r\n    experimentos: 'Obligaciones',\r\n    cantar: 'Ocio',\r\n    lego: 'Ocio',\r\n    nadar: 'Autocuidado',\r\n    computadora: 'Ocio'\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchDiary = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const { data } = await axios.get(`/api/emotions?patientId=${patientId}`, {\r\n          headers: { 'x-auth-token': token }\r\n        });\r\n        setDiary(data && data.length > 0 ? data[0].diary : null);\r\n      } catch {\r\n        setDiary(null);\r\n      }\r\n    };\r\n    fetchDiary();\r\n  }, [patientId]);\r\n\r\n  useEffect(() => {\r\n    if (!Array.isArray(diary) || diary.length === 0) return;\r\n\r\n    const ratings = diary.map(e => e.rating);\r\n    const n = ratings.length;\r\n    const sum = ratings.reduce((a, b) => a + b, 0);\r\n    const average = +(sum / n).toFixed(2);\r\n\r\n    // Median\r\n    const sorted = [...ratings].sort((a, b) => a - b);\r\n    const mid = Math.floor(n / 2);\r\n    const median = n % 2 === 0\r\n      ? +(((sorted[mid - 1] + sorted[mid]) / 2).toFixed(2))\r\n      : sorted[mid];\r\n\r\n    // Mode\r\n    const freq = {};\r\n    ratings.forEach(r => (freq[r] = (freq[r] || 0) + 1));\r\n    const mode = +Object.entries(freq).sort((a, b) => b[1] - a[1])[0][0];\r\n\r\n    // Std dev\r\n    const variance = ratings.reduce((acc, r) => acc + (r - average) ** 2, 0) / n;\r\n    const stdDev = +Math.sqrt(variance).toFixed(2);\r\n\r\n    // Distribution 1–5\r\n    const distribution = [1, 2, 3, 4, 5].map(r => ({\r\n      rating: r,\r\n      count: freq[r] || 0\r\n    }));\r\n\r\n    // Positive / Neutral / Negative\r\n    const pos = distribution.filter(d => d.rating >= 4).reduce((a, d) => a + d.count, 0);\r\n    const neu = distribution.find(d => d.rating === 3).count;\r\n    const neg = distribution.filter(d => d.rating <= 2).reduce((a, d) => a + d.count, 0);\r\n    const pnDistribution = [\r\n      { category: 'Positivo (4–5)', value: pos },\r\n      { category: 'Neutral (3)',      value: neu },\r\n      { category: 'Negativo (1–2)',  value: neg }\r\n    ];\r\n\r\n    // Activities data\r\n    const activities = diary.map(e => ({ name: e.title, rating: e.rating }));\r\n\r\n    // Category grouping\r\n    const catCounts = {};\r\n    const catSums = {};\r\n    diary.forEach(e => {\r\n      const cat = categoryMap[e.activityId] || 'Otros';\r\n      catCounts[cat] = (catCounts[cat] || 0) + 1;\r\n      catSums[cat]   = (catSums[cat]   || 0) + e.rating;\r\n    });\r\n    const categoryDistribution = Object.entries(catCounts).map(([category, count]) => ({ category, count }));\r\n    const categoryAvg = Object.entries(catSums).map(([category, sum]) => ({\r\n      category,\r\n      avg: +(sum / catCounts[category]).toFixed(2)\r\n    }));\r\n\r\n    setMetrics({\r\n      average, median, mode, stdDev,\r\n      distribution, pnDistribution,\r\n      activities,\r\n      categoryDistribution,\r\n      categoryAvg\r\n    });\r\n  }, [diary]);\r\n\r\n  if (diary === undefined) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>Cargando diario…</p>\r\n      </div>\r\n    );\r\n  }\r\n  if (diary === null) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>No hay diario guardado para este paciente.</p>\r\n      </div>\r\n    );\r\n  }\r\n  if (!metrics) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>Calculando estadísticas…</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const COLORS = ['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];\r\n  const PN_COLORS = ['#82ca9d','#ffc658','#ff8042'];\r\n  const CAT_COLORS = ['#8884d8','#82ca9d','#ffc658','#ff8042'];\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/interests\">← Volver</Link>\r\n        <h2>Estadísticas de Emociones</h2>\r\n      </header>\r\n\r\n      <div className=\"metrics-grid\">\r\n        <div className=\"metric-card\">Promedio: <strong>{metrics.average}</strong></div>\r\n        <div className=\"metric-card\">Mediana: <strong>{metrics.median}</strong></div>\r\n        <div className=\"metric-card\">Moda: <strong>{metrics.mode}</strong></div>\r\n        <div className=\"metric-card\">Desviación: <strong>{metrics.stdDev}</strong></div>\r\n        <div className=\"metric-card\">Actividades: <strong>{metrics.activities.length}</strong></div>\r\n      </div>\r\n\r\n      <div className=\"charts-grid\">\r\n        {/* Distribución de Puntuaciones */}\r\n        <div className=\"chart-block\">\r\n          <h3>Distribución de Calificaciones</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie\r\n                data={metrics.distribution}\r\n                dataKey=\"count\"\r\n                nameKey=\"rating\"\r\n                cx=\"50%\" cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {metrics.distribution.map((_,i) =>\r\n                  <Cell key={i} fill={COLORS[i % COLORS.length]} />\r\n                )}\r\n              </Pie>\r\n              <Tooltip /><Legend verticalAlign=\"bottom\" />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Pos/Neu/Neg */}\r\n        <div className=\"chart-block\">\r\n          <h3>Positivo / Neutral / Negativo</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie\r\n                data={metrics.pnDistribution}\r\n                dataKey=\"value\"\r\n                nameKey=\"category\"\r\n                cx=\"50%\" cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {metrics.pnDistribution.map((_,i) =>\r\n                  <Cell key={i} fill={PN_COLORS[i % PN_COLORS.length]} />\r\n                )}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Por Categoría: cuenta */}\r\n        <div className=\"chart-block\">\r\n          <h3>Conteo por Categoría</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <BarChart data={metrics.categoryDistribution} margin={{ top:20, right:30, left:0, bottom:0 }}>\r\n              <XAxis dataKey=\"category\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Bar dataKey=\"count\" fill={CAT_COLORS[0]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Por Categoría: nota media */}\r\n        <div className=\"chart-block\">\r\n          <h3>Nota Media por Categoría</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <BarChart data={metrics.categoryAvg} margin={{ top:20, right:30, left:0, bottom:0 }}>\r\n              <XAxis dataKey=\"category\" />\r\n              <YAxis domain={[1,5]} />\r\n              <Tooltip />\r\n              <Bar dataKey=\"avg\" fill={CAT_COLORS[1]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Calificación por Actividad */}\r\n        <div className=\"chart-block full-width\">\r\n          <h3>Calificación por Actividad</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart\r\n              data={metrics.activities}\r\n              margin={{ top:20, right:30, left:0, bottom:0 }}\r\n            >\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis domain={[1,5]} />\r\n              <Tooltip />\r\n              <Bar dataKey=\"rating\" fill=\"#82ca9d\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,IAAI,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OACEC,mBAAmB,CACnBC,QAAQ,CAAEC,GAAG,CAAEC,KAAK,CAAEC,KAAK,CAAEC,OAAO,CAAEC,MAAM,CAC5CC,QAAQ,CAAEC,GAAG,CAAEC,IAAI,KACd,UAAU,CACjB,MAAO,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,cAAe,SAAS,CAAAC,gBAAgBA,CAAA,CAAG,CACzC,KAAM,CAAEC,SAAU,CAAC,CAAGlB,SAAS,CAAC,CAAC,CACjC,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAACuB,SAAS,CAAC,CAC7C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAE5C;AACA,KAAM,CAAA0B,WAAW,CAAG,CAClBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,MAAM,CACfC,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,cAAc,CACrBC,WAAW,CAAE,MAAM,CACnBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,MAAM,CACdC,KAAK,CAAE,aAAa,CACpBC,MAAM,CAAE,aAAa,CACrBC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,MAAM,CACdC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,MAAM,CACjBC,OAAO,CAAE,MAAM,CACfC,QAAQ,CAAE,MAAM,CAChBC,YAAY,CAAE,cAAc,CAC5BC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,MAAM,CACZC,KAAK,CAAE,aAAa,CACpBC,WAAW,CAAE,MACf,CAAC,CAED7C,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8C,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAA/C,KAAK,CAACgD,GAAG,CAAC,2BAA2BhC,SAAS,EAAE,CAAE,CACvEiC,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CACnC,CAAC,CAAC,CACF1B,QAAQ,CAAC6B,IAAI,EAAIA,IAAI,CAACG,MAAM,CAAG,CAAC,CAAGH,IAAI,CAAC,CAAC,CAAC,CAAC9B,KAAK,CAAG,IAAI,CAAC,CAC1D,CAAE,KAAM,CACNC,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CACDyB,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,CAAC3B,SAAS,CAAC,CAAC,CAEfnB,SAAS,CAAC,IAAM,CACd,GAAI,CAACsD,KAAK,CAACC,OAAO,CAACnC,KAAK,CAAC,EAAIA,KAAK,CAACiC,MAAM,GAAK,CAAC,CAAE,OAEjD,KAAM,CAAAG,OAAO,CAAGpC,KAAK,CAACqC,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,MAAM,CAAC,CACxC,KAAM,CAAAC,CAAC,CAAGJ,OAAO,CAACH,MAAM,CACxB,KAAM,CAAAQ,GAAG,CAAGL,OAAO,CAACM,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAGC,CAAC,CAAE,CAAC,CAAC,CAC9C,KAAM,CAAAC,OAAO,CAAG,CAAC,CAACJ,GAAG,CAAGD,CAAC,EAAEM,OAAO,CAAC,CAAC,CAAC,CAErC;AACA,KAAM,CAAAC,MAAM,CAAG,CAAC,GAAGX,OAAO,CAAC,CAACY,IAAI,CAAC,CAACL,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAAGC,CAAC,CAAC,CACjD,KAAM,CAAAK,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACX,CAAC,CAAG,CAAC,CAAC,CAC7B,KAAM,CAAAY,MAAM,CAAGZ,CAAC,CAAG,CAAC,GAAK,CAAC,CACtB,CAAE,CAAC,CAACO,MAAM,CAACE,GAAG,CAAG,CAAC,CAAC,CAAGF,MAAM,CAACE,GAAG,CAAC,EAAI,CAAC,EAAEH,OAAO,CAAC,CAAC,CAAE,CACnDC,MAAM,CAACE,GAAG,CAAC,CAEf;AACA,KAAM,CAAAI,IAAI,CAAG,CAAC,CAAC,CACfjB,OAAO,CAACkB,OAAO,CAACC,CAAC,EAAKF,IAAI,CAACE,CAAC,CAAC,CAAG,CAACF,IAAI,CAACE,CAAC,CAAC,EAAI,CAAC,EAAI,CAAE,CAAC,CACpD,KAAM,CAAAC,IAAI,CAAG,CAACC,MAAM,CAACC,OAAO,CAACL,IAAI,CAAC,CAACL,IAAI,CAAC,CAACL,CAAC,CAAEC,CAAC,GAAKA,CAAC,CAAC,CAAC,CAAC,CAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAEpE;AACA,KAAM,CAAAgB,QAAQ,CAAGvB,OAAO,CAACM,MAAM,CAAC,CAACkB,GAAG,CAAEL,CAAC,GAAKK,GAAG,CAAG,CAACL,CAAC,CAAGV,OAAO,GAAK,CAAC,CAAE,CAAC,CAAC,CAAGL,CAAC,CAC5E,KAAM,CAAAqB,MAAM,CAAG,CAACX,IAAI,CAACY,IAAI,CAACH,QAAQ,CAAC,CAACb,OAAO,CAAC,CAAC,CAAC,CAE9C;AACA,KAAM,CAAAiB,YAAY,CAAG,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CAAC1B,GAAG,CAACkB,CAAC,GAAK,CAC7ChB,MAAM,CAAEgB,CAAC,CACTS,KAAK,CAAEX,IAAI,CAACE,CAAC,CAAC,EAAI,CACpB,CAAC,CAAC,CAAC,CAEH;AACA,KAAM,CAAAU,GAAG,CAAGF,YAAY,CAACG,MAAM,CAACC,CAAC,EAAIA,CAAC,CAAC5B,MAAM,EAAI,CAAC,CAAC,CAACG,MAAM,CAAC,CAACC,CAAC,CAAEwB,CAAC,GAAKxB,CAAC,CAAGwB,CAAC,CAACH,KAAK,CAAE,CAAC,CAAC,CACpF,KAAM,CAAAI,GAAG,CAAGL,YAAY,CAACM,IAAI,CAACF,CAAC,EAAIA,CAAC,CAAC5B,MAAM,GAAK,CAAC,CAAC,CAACyB,KAAK,CACxD,KAAM,CAAAM,GAAG,CAAGP,YAAY,CAACG,MAAM,CAACC,CAAC,EAAIA,CAAC,CAAC5B,MAAM,EAAI,CAAC,CAAC,CAACG,MAAM,CAAC,CAACC,CAAC,CAAEwB,CAAC,GAAKxB,CAAC,CAAGwB,CAAC,CAACH,KAAK,CAAE,CAAC,CAAC,CACpF,KAAM,CAAAO,cAAc,CAAG,CACrB,CAAEC,QAAQ,CAAE,gBAAgB,CAAEC,KAAK,CAAER,GAAI,CAAC,CAC1C,CAAEO,QAAQ,CAAE,aAAa,CAAOC,KAAK,CAAEL,GAAI,CAAC,CAC5C,CAAEI,QAAQ,CAAE,gBAAgB,CAAGC,KAAK,CAAEH,GAAI,CAAC,CAC5C,CAED;AACA,KAAM,CAAAI,UAAU,CAAG1E,KAAK,CAACqC,GAAG,CAACC,CAAC,GAAK,CAAEqC,IAAI,CAAErC,CAAC,CAACsC,KAAK,CAAErC,MAAM,CAAED,CAAC,CAACC,MAAO,CAAC,CAAC,CAAC,CAExE;AACA,KAAM,CAAAsC,SAAS,CAAG,CAAC,CAAC,CACpB,KAAM,CAAAC,OAAO,CAAG,CAAC,CAAC,CAClB9E,KAAK,CAACsD,OAAO,CAAChB,CAAC,EAAI,CACjB,KAAM,CAAAyC,GAAG,CAAG1E,WAAW,CAACiC,CAAC,CAAC0C,UAAU,CAAC,EAAI,OAAO,CAChDH,SAAS,CAACE,GAAG,CAAC,CAAG,CAACF,SAAS,CAACE,GAAG,CAAC,EAAI,CAAC,EAAI,CAAC,CAC1CD,OAAO,CAACC,GAAG,CAAC,CAAK,CAACD,OAAO,CAACC,GAAG,CAAC,EAAM,CAAC,EAAIzC,CAAC,CAACC,MAAM,CACnD,CAAC,CAAC,CACF,KAAM,CAAA0C,oBAAoB,CAAGxB,MAAM,CAACC,OAAO,CAACmB,SAAS,CAAC,CAACxC,GAAG,CAAC6C,IAAA,MAAC,CAACV,QAAQ,CAAER,KAAK,CAAC,CAAAkB,IAAA,OAAM,CAAEV,QAAQ,CAAER,KAAM,CAAC,EAAC,CAAC,CACxG,KAAM,CAAAmB,WAAW,CAAG1B,MAAM,CAACC,OAAO,CAACoB,OAAO,CAAC,CAACzC,GAAG,CAAC+C,KAAA,MAAC,CAACZ,QAAQ,CAAE/B,GAAG,CAAC,CAAA2C,KAAA,OAAM,CACpEZ,QAAQ,CACRa,GAAG,CAAE,CAAC,CAAC5C,GAAG,CAAGoC,SAAS,CAACL,QAAQ,CAAC,EAAE1B,OAAO,CAAC,CAAC,CAC7C,CAAC,EAAC,CAAC,CAEH1C,UAAU,CAAC,CACTyC,OAAO,CAAEO,MAAM,CAAEI,IAAI,CAAEK,MAAM,CAC7BE,YAAY,CAAEQ,cAAc,CAC5BG,UAAU,CACVO,oBAAoB,CACpBE,WACF,CAAC,CAAC,CACJ,CAAC,CAAE,CAACnF,KAAK,CAAC,CAAC,CAEX,GAAIA,KAAK,GAAKE,SAAS,CAAE,CACvB,mBACEL,KAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC1F,KAAA,WAAQyF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjC5F,IAAA,CAACb,IAAI,EAAC0G,EAAE,CAAC,sBAAsB,CAAAD,QAAA,CAAC,eAAQ,CAAM,CAAC,cAC/C5F,IAAA,OAAA4F,QAAA,CAAI,8BAAyB,CAAI,CAAC,EAC5B,CAAC,cACT5F,IAAA,MAAA4F,QAAA,CAAG,uBAAgB,CAAG,CAAC,EACpB,CAAC,CAEV,CACA,GAAIvF,KAAK,GAAK,IAAI,CAAE,CAClB,mBACEH,KAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC1F,KAAA,WAAQyF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjC5F,IAAA,CAACb,IAAI,EAAC0G,EAAE,CAAC,sBAAsB,CAAAD,QAAA,CAAC,eAAQ,CAAM,CAAC,cAC/C5F,IAAA,OAAA4F,QAAA,CAAI,8BAAyB,CAAI,CAAC,EAC5B,CAAC,cACT5F,IAAA,MAAA4F,QAAA,CAAG,4CAA0C,CAAG,CAAC,EAC9C,CAAC,CAEV,CACA,GAAI,CAACpF,OAAO,CAAE,CACZ,mBACEN,KAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC1F,KAAA,WAAQyF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjC5F,IAAA,CAACb,IAAI,EAAC0G,EAAE,CAAC,sBAAsB,CAAAD,QAAA,CAAC,eAAQ,CAAM,CAAC,cAC/C5F,IAAA,OAAA4F,QAAA,CAAI,8BAAyB,CAAI,CAAC,EAC5B,CAAC,cACT5F,IAAA,MAAA4F,QAAA,CAAG,kCAAwB,CAAG,CAAC,EAC5B,CAAC,CAEV,CAEA,KAAM,CAAAE,MAAM,CAAG,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAClE,KAAM,CAAAC,SAAS,CAAG,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CACjD,KAAM,CAAAC,UAAU,CAAG,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,CAE5D,mBACE9F,KAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC1F,KAAA,WAAQyF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eACjC5F,IAAA,CAACb,IAAI,EAAC0G,EAAE,CAAC,sBAAsB,CAAAD,QAAA,CAAC,eAAQ,CAAM,CAAC,cAC/C5F,IAAA,OAAA4F,QAAA,CAAI,8BAAyB,CAAI,CAAC,EAC5B,CAAC,cAET1F,KAAA,QAAKyF,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1F,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,YAAU,cAAA5F,IAAA,WAAA4F,QAAA,CAASpF,OAAO,CAAC0C,OAAO,CAAS,CAAC,EAAK,CAAC,cAC/EhD,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,WAAS,cAAA5F,IAAA,WAAA4F,QAAA,CAASpF,OAAO,CAACiD,MAAM,CAAS,CAAC,EAAK,CAAC,cAC7EvD,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,QAAM,cAAA5F,IAAA,WAAA4F,QAAA,CAASpF,OAAO,CAACqD,IAAI,CAAS,CAAC,EAAK,CAAC,cACxE3D,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,iBAAY,cAAA5F,IAAA,WAAA4F,QAAA,CAASpF,OAAO,CAAC0D,MAAM,CAAS,CAAC,EAAK,CAAC,cAChFhE,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,eAAa,cAAA5F,IAAA,WAAA4F,QAAA,CAASpF,OAAO,CAACuE,UAAU,CAACzC,MAAM,CAAS,CAAC,EAAK,CAAC,EACzF,CAAC,cAENpC,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAE1B1F,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5F,IAAA,OAAA4F,QAAA,CAAI,mCAA8B,CAAI,CAAC,cACvC5F,IAAA,CAACX,mBAAmB,EAAC4G,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5C1F,KAAA,CAACN,QAAQ,EAAAgG,QAAA,eACP5F,IAAA,CAACH,GAAG,EACFsC,IAAI,CAAE3B,OAAO,CAAC4D,YAAa,CAC3B+B,OAAO,CAAC,OAAO,CACfC,OAAO,CAAC,QAAQ,CAChBC,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CACjBC,WAAW,CAAE,EAAG,CAChBC,KAAK,MAAAZ,QAAA,CAEJpF,OAAO,CAAC4D,YAAY,CAAC1B,GAAG,CAAC,CAAC+D,CAAC,CAACC,CAAC,gBAC5B1G,IAAA,CAACF,IAAI,EAAS6G,IAAI,CAAEb,MAAM,CAACY,CAAC,CAAGZ,MAAM,CAACxD,MAAM,CAAE,EAAnCoE,CAAqC,CAClD,CAAC,CACE,CAAC,cACN1G,IAAA,CAACN,OAAO,GAAE,CAAC,cAAAM,IAAA,CAACL,MAAM,EAACiH,aAAa,CAAC,QAAQ,CAAE,CAAC,EACpC,CAAC,CACQ,CAAC,EACnB,CAAC,cAGN1G,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5F,IAAA,OAAA4F,QAAA,CAAI,+BAA6B,CAAI,CAAC,cACtC5F,IAAA,CAACX,mBAAmB,EAAC4G,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5C1F,KAAA,CAACN,QAAQ,EAAAgG,QAAA,eACP5F,IAAA,CAACH,GAAG,EACFsC,IAAI,CAAE3B,OAAO,CAACoE,cAAe,CAC7BuB,OAAO,CAAC,OAAO,CACfC,OAAO,CAAC,UAAU,CAClBC,EAAE,CAAC,KAAK,CAACC,EAAE,CAAC,KAAK,CACjBC,WAAW,CAAE,EAAG,CAChBC,KAAK,MAAAZ,QAAA,CAEJpF,OAAO,CAACoE,cAAc,CAAClC,GAAG,CAAC,CAAC+D,CAAC,CAACC,CAAC,gBAC9B1G,IAAA,CAACF,IAAI,EAAS6G,IAAI,CAAEZ,SAAS,CAACW,CAAC,CAAGX,SAAS,CAACzD,MAAM,CAAE,EAAzCoE,CAA2C,CACxD,CAAC,CACE,CAAC,cACN1G,IAAA,CAACN,OAAO,GAAE,CAAC,EACH,CAAC,CACQ,CAAC,EACnB,CAAC,cAGNQ,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5F,IAAA,OAAA4F,QAAA,CAAI,yBAAoB,CAAI,CAAC,cAC7B5F,IAAA,CAACX,mBAAmB,EAAC4G,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5C1F,KAAA,CAACZ,QAAQ,EAAC6C,IAAI,CAAE3B,OAAO,CAAC8E,oBAAqB,CAACuB,MAAM,CAAE,CAAEC,GAAG,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAAEC,IAAI,CAAC,CAAC,CAAEC,MAAM,CAAC,CAAE,CAAE,CAAArB,QAAA,eAC3F5F,IAAA,CAACR,KAAK,EAAC2G,OAAO,CAAC,UAAU,CAAE,CAAC,cAC5BnG,IAAA,CAACP,KAAK,GAAE,CAAC,cACTO,IAAA,CAACN,OAAO,GAAE,CAAC,cACXM,IAAA,CAACT,GAAG,EAAC4G,OAAO,CAAC,OAAO,CAACQ,IAAI,CAAEX,UAAU,CAAC,CAAC,CAAE,CAAE,CAAC,EACpC,CAAC,CACQ,CAAC,EACnB,CAAC,cAGN9F,KAAA,QAAKyF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5F,IAAA,OAAA4F,QAAA,CAAI,6BAAwB,CAAI,CAAC,cACjC5F,IAAA,CAACX,mBAAmB,EAAC4G,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5C1F,KAAA,CAACZ,QAAQ,EAAC6C,IAAI,CAAE3B,OAAO,CAACgF,WAAY,CAACqB,MAAM,CAAE,CAAEC,GAAG,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAAEC,IAAI,CAAC,CAAC,CAAEC,MAAM,CAAC,CAAE,CAAE,CAAArB,QAAA,eAClF5F,IAAA,CAACR,KAAK,EAAC2G,OAAO,CAAC,UAAU,CAAE,CAAC,cAC5BnG,IAAA,CAACP,KAAK,EAACyH,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,CAAE,CAAE,CAAC,cACxBlH,IAAA,CAACN,OAAO,GAAE,CAAC,cACXM,IAAA,CAACT,GAAG,EAAC4G,OAAO,CAAC,KAAK,CAACQ,IAAI,CAAEX,UAAU,CAAC,CAAC,CAAE,CAAE,CAAC,EAClC,CAAC,CACQ,CAAC,EACnB,CAAC,cAGN9F,KAAA,QAAKyF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC5F,IAAA,OAAA4F,QAAA,CAAI,+BAA0B,CAAI,CAAC,cACnC5F,IAAA,CAACX,mBAAmB,EAAC4G,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAN,QAAA,cAC5C1F,KAAA,CAACZ,QAAQ,EACP6C,IAAI,CAAE3B,OAAO,CAACuE,UAAW,CACzB8B,MAAM,CAAE,CAAEC,GAAG,CAAC,EAAE,CAAEC,KAAK,CAAC,EAAE,CAAEC,IAAI,CAAC,CAAC,CAAEC,MAAM,CAAC,CAAE,CAAE,CAAArB,QAAA,eAE/C5F,IAAA,CAACR,KAAK,EAAC2G,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBnG,IAAA,CAACP,KAAK,EAACyH,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,CAAE,CAAE,CAAC,cACxBlH,IAAA,CAACN,OAAO,GAAE,CAAC,cACXM,IAAA,CAACT,GAAG,EAAC4G,OAAO,CAAC,QAAQ,CAACQ,IAAI,CAAC,SAAS,CAAE,CAAC,EAC/B,CAAC,CACQ,CAAC,EACnB,CAAC,EACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}