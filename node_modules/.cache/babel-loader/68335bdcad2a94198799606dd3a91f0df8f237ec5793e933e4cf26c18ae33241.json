{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,LineChart,Line,ResponsiveContainer}from'recharts';import'../styles/therapistRoutines.css';// Mapeos\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categoryMap={futbol:'Ocio',dibujos:'Ocio',comics:'Ocio',tarea:'Obligaciones',videojuegos:'Ocio',helado:'Ocio',parque:'Ocio',banio:'Autocuidado',dormir:'Autocuidado',musica:'Ocio',bailar:'Ocio',amigos:'Ocio',bicicleta:'Ocio',dibujar:'Ocio',mascotas:'Ocio',experimentos:'Obligaciones',cantar:'Ocio',lego:'Ocio',nadar:'Autocuidado',computadora:'Ocio'};const groupMap={Autocuidado:'Autocuidado',Obligaciones:'Obligaciones',Ocio:'Ocio'};const COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[from,setFrom]=useState('');const[to,setTo]=useState('');const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);// Carga inicial de datos\nuseEffect(()=>{const token=localStorage.getItem('token');axios.get(`/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}}).then(resp=>{setResults(resp.data);const now=new Date(),weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}).catch(console.error);},[patientId]);// Filtrado por fechas\nuseEffect(()=>{if(!from||!to)return;const f=new Date(from),t=new Date(to);t.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=f&&d<=t;}));},[results,from,to]);// Selección del primer día filtrado\nuseEffect(()=>{setSelected(filtered.length?filtered[0].createdAt:null);},[filtered]);// Cálculo de métricas al cambiar la selección\nuseEffect(()=>{if(!selected)return setMetrics(null);const res=filtered.find(r=>r.createdAt===selected);setMetrics(res?computeMetrics(res,filtered):null);},[selected,filtered]);// Función de métricas\nfunction computeMetrics(result,allResults){const slots=result.timeSlots||[];const activities=slots.flatMap(slot=>(slot.activities||[]).map(act=>({...act,slot:slot.slot})));const total=activities.reduce((sum,a)=>sum+a.duration,0);// Distribución %\nconst catSum={};activities.forEach(a=>{const c=categoryMap[a.activityId]||'Otros';catSum[c]=(catSum[c]||0)+a.duration;});const distribution=Object.entries(catSum).map(_ref=>{let[name,val]=_ref;return{name,value:+(val/total*100).toFixed(1)};});// Horas absolutas\nconst hours=Object.entries(catSum).map(_ref2=>{let[name,val]=_ref2;return{name,hours:+(val/60).toFixed(2)};});// Diversidad\nconst diversity=new Set(activities.map(a=>a.activityId)).size;// Consistencia\nconst covered=slots.filter(s=>{var _s$activities;return((_s$activities=s.activities)===null||_s$activities===void 0?void 0:_s$activities.length)>0;}).length;const consistency=+(covered/24*100).toFixed(1);// Continuidad\nconst sorted=[...activities].sort((a,b)=>parseInt(a.slot)-parseInt(b.slot));let trans=0;for(let i=1;i<sorted.length;i++)if(sorted[i].activityId!==sorted[i-1].activityId)trans++;const continuity=sorted.length>1?+((1-trans/(sorted.length-1))*100).toFixed(1):100;// Patrón horario\nconst periods={Mañana:[6,11],Tarde:[12,17],Noche:[18,23]};const pdSum={Mañana:0,Tarde:0,Noche:0};activities.forEach(a=>{const h=parseInt(a.slot,10);for(let p in periods){const[s,e]=periods[p];if(h>=s&&h<=e)pdSum[p]+=a.duration;}});const timeOfDay=Object.entries(pdSum).map(_ref3=>{let[name,val]=_ref3;return{name,hours:+(val/60).toFixed(2)};});// Balance de grupos\nconst grpSum={Autocuidado:0,Obligaciones:0,Ocio:0};activities.forEach(a=>{const cat=categoryMap[a.activityId]||'Ocio';grpSum[groupMap[cat]]+=a.duration;});const groupBalance=Object.entries(grpSum).map(_ref4=>{let[subject,val]=_ref4;return{subject,value:+(val/total*100).toFixed(1)};});// Tendencia semanal\nconst trend=allResults.map(r=>{const acts=(r.timeSlots||[]).flatMap(sl=>sl.activities.map(act=>({...act,slot:sl.slot})));const tot=acts.reduce((s,a)=>s+a.duration,0);const sums={Autocuidado:0,Obligaciones:0,Ocio:0};acts.forEach(a=>{const grp=groupMap[categoryMap[a.activityId]||'Ocio'];sums[grp]+=a.duration;});return{date:new Date(r.createdAt).toLocaleDateString(),Autocuidado:+(sums.Autocuidado/tot*100).toFixed(1),Obligaciones:+(sums.Obligaciones/tot*100).toFixed(1),Ocio:+(sums.Ocio/tot*100).toFixed(1)};});// Índice global\nconst N=distribution.length,uni=100/N;const diff=distribution.reduce((a,c)=>a+Math.abs(c.value-uni),0);const balanceIndex=+(1-diff/(2*100)).toFixed(2);// Correspondencia Mié vs Sáb\nlet similarity=null;const other=allResults.find(r=>r.day&&r.day!==result.day);if(other){const A=new Set(activities.map(a=>a.activityId));const B=new Set((other.timeSlots||[]).flatMap(sl=>sl.activities.map(a=>a.activityId)));const inter=[...A].filter(x=>B.has(x)).length;const uniAB=new Set([...A,...B]).size;similarity=uniAB>0?+(inter/uniAB*100).toFixed(1):0;}return{distribution,hours,diversity,consistency,continuity,timeOfDay,groupBalance,trend,balanceIndex,similarity};}return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Desde: \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:from,onChange:e=>setFrom(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Hasta: \",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:to,onChange:e=>setTo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Seleccionar d\\xEDa:\",/*#__PURE__*/_jsx(\"select\",{value:selected||'',onChange:e=>setSelected(e.target.value),children:filtered.map(r=>{const d=new Date(r.createdAt).toLocaleDateString();return/*#__PURE__*/_jsx(\"option\",{value:r.createdAt,children:d},r.createdAt);})})]})]}),metrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Diversidad: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.diversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Consistencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.consistency,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Continuidad: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.continuity,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Correspondencia: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.similarity!=null?metrics.similarity+'%':'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"\\xCDndice Equilibrio: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.balanceIndex})]})]}),metrics&&/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n % por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((entry,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.hours,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:\"#8884d8\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Balance Autocuidado/Obligaciones/Ocio\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(RadarChart,{data:metrics.groupBalance,cx:\"50%\",cy:\"50%\",outerRadius:80,children:[/*#__PURE__*/_jsx(PolarGrid,{}),/*#__PURE__*/_jsx(PolarAngleAxis,{dataKey:\"subject\"}),/*#__PURE__*/_jsx(PolarRadiusAxis,{angle:30,domain:[0,100]}),/*#__PURE__*/_jsx(Radar,{dataKey:\"value\",stroke:\"#82ca9d\",fill:\"#82ca9d\",fillOpacity:0.6}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tendencia Semanal (% por Grupo)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:metrics.trend,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Autocuidado\",stroke:\"#8884d8\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Obligaciones\",stroke:\"#82ca9d\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"Ocio\",stroke:\"#ffc658\"}),/*#__PURE__*/_jsx(Legend,{})]})})]})]})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","LineChart","Line","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","groupMap","Autocuidado","Obligaciones","Ocio","COLORS","PatientRoutines","patientId","results","setResults","filtered","setFiltered","from","setFrom","to","setTo","selected","setSelected","metrics","setMetrics","token","localStorage","getItem","get","headers","then","resp","data","now","Date","weekAgo","setDate","getDate","toISOString","slice","catch","console","error","f","t","setHours","filter","r","d","createdAt","length","res","find","computeMetrics","result","allResults","slots","timeSlots","activities","flatMap","slot","map","act","total","reduce","sum","a","duration","catSum","forEach","c","activityId","distribution","Object","entries","_ref","name","val","value","toFixed","hours","_ref2","diversity","Set","size","covered","s","_s$activities","consistency","sorted","sort","b","parseInt","trans","i","continuity","periods","Mañana","Tarde","Noche","pdSum","h","p","e","timeOfDay","_ref3","grpSum","cat","groupBalance","_ref4","subject","trend","acts","sl","tot","sums","grp","date","toLocaleDateString","N","uni","diff","Math","abs","balanceIndex","similarity","other","day","A","B","inter","x","has","uniAB","className","children","type","onChange","target","width","height","dataKey","nameKey","cx","cy","outerRadius","label","entry","fill","margin","top","right","left","bottom","strokeDasharray","angle","domain","stroke","fillOpacity"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  PieChart, Pie, Cell, Tooltip, Legend,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  LineChart, Line,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Mapeos\r\nconst categoryMap = {\r\n  futbol: 'Ocio', dibujos: 'Ocio', comics: 'Ocio',\r\n  tarea: 'Obligaciones', videojuegos: 'Ocio', helado: 'Ocio',\r\n  parque: 'Ocio', banio: 'Autocuidado', dormir: 'Autocuidado',\r\n  musica: 'Ocio', bailar: 'Ocio', amigos: 'Ocio',\r\n  bicicleta: 'Ocio', dibujar: 'Ocio', mascotas: 'Ocio',\r\n  experimentos: 'Obligaciones', cantar: 'Ocio', lego: 'Ocio',\r\n  nadar: 'Autocuidado', computadora: 'Ocio'\r\n};\r\nconst groupMap = {\r\n  Autocuidado: 'Autocuidado',\r\n  Obligaciones: 'Obligaciones',\r\n  Ocio: 'Ocio'\r\n};\r\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  // Carga inicial de datos\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get(`/api/game?patientId=${patientId}`, {\r\n      headers: { 'x-auth-token': token }\r\n    }).then(resp => {\r\n      setResults(resp.data);\r\n      const now = new Date(), weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0,10));\r\n      setTo(now.toISOString().slice(0,10));\r\n    }).catch(console.error);\r\n  }, [patientId]);\r\n\r\n  // Filtrado por fechas\r\n  useEffect(() => {\r\n    if (!from || !to) return;\r\n    const f = new Date(from), t = new Date(to);\r\n    t.setHours(23,59,59,999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d >= f && d <= t;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  // Selección del primer día filtrado\r\n  useEffect(() => {\r\n    setSelected(filtered.length ? filtered[0].createdAt : null);\r\n  }, [filtered]);\r\n\r\n  // Cálculo de métricas al cambiar la selección\r\n  useEffect(() => {\r\n    if (!selected) return setMetrics(null);\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    setMetrics(res ? computeMetrics(res, filtered) : null);\r\n  }, [selected, filtered]);\r\n\r\n  // Función de métricas\r\n  function computeMetrics(result, allResults) {\r\n    const slots = result.timeSlots || [];\r\n    const activities = slots.flatMap(slot =>\r\n      (slot.activities||[]).map(act => ({ ...act, slot: slot.slot })));\r\n    const total = activities.reduce((sum, a) => sum + a.duration, 0);\r\n\r\n    // Distribución %\r\n    const catSum = {};\r\n    activities.forEach(a => {\r\n      const c = categoryMap[a.activityId] || 'Otros';\r\n      catSum[c] = (catSum[c]||0) + a.duration;\r\n    });\r\n    const distribution = Object.entries(catSum)\r\n      .map(([name,val]) => ({ name, value: +((val/total)*100).toFixed(1) }));\r\n\r\n    // Horas absolutas\r\n    const hours = Object.entries(catSum)\r\n      .map(([name,val]) => ({ name, hours: +(val/60).toFixed(2) }));\r\n\r\n    // Diversidad\r\n    const diversity = new Set(activities.map(a => a.activityId)).size;\r\n\r\n    // Consistencia\r\n    const covered = slots.filter(s => s.activities?.length > 0).length;\r\n    const consistency = +((covered/24)*100).toFixed(1);\r\n\r\n    // Continuidad\r\n    const sorted = [...activities].sort(\r\n      (a,b) => parseInt(a.slot) - parseInt(b.slot)\r\n    );\r\n    let trans = 0;\r\n    for (let i = 1; i < sorted.length; i++)\r\n      if (sorted[i].activityId !== sorted[i-1].activityId) trans++;\r\n    const continuity = sorted.length > 1\r\n      ? +((1 - trans/(sorted.length-1))*100).toFixed(1)\r\n      : 100;\r\n\r\n    // Patrón horario\r\n    const periods = { Mañana:[6,11], Tarde:[12,17], Noche:[18,23] };\r\n    const pdSum = { Mañana:0, Tarde:0, Noche:0 };\r\n    activities.forEach(a => {\r\n      const h = parseInt(a.slot,10);\r\n      for (let p in periods) {\r\n        const [s,e] = periods[p];\r\n        if (h>=s && h<=e) pdSum[p] += a.duration;\r\n      }\r\n    });\r\n    const timeOfDay = Object.entries(pdSum)\r\n      .map(([name,val]) => ({ name, hours: +(val/60).toFixed(2) }));\r\n\r\n    // Balance de grupos\r\n    const grpSum = { Autocuidado:0, Obligaciones:0, Ocio:0 };\r\n    activities.forEach(a => {\r\n      const cat = categoryMap[a.activityId] || 'Ocio';\r\n      grpSum[groupMap[cat]] += a.duration;\r\n    });\r\n    const groupBalance = Object.entries(grpSum)\r\n      .map(([subject,val]) => ({ subject, value: +((val/total)*100).toFixed(1) }));\r\n\r\n    // Tendencia semanal\r\n    const trend = allResults.map(r => {\r\n      const acts = (r.timeSlots||[]).flatMap(sl =>\r\n        sl.activities.map(act => ({ ...act, slot: sl.slot })));\r\n      const tot = acts.reduce((s,a)=>s+a.duration,0);\r\n      const sums = { Autocuidado:0, Obligaciones:0, Ocio:0 };\r\n      acts.forEach(a => {\r\n        const grp = groupMap[categoryMap[a.activityId]||'Ocio'];\r\n        sums[grp] += a.duration;\r\n      });\r\n      return {\r\n        date: new Date(r.createdAt).toLocaleDateString(),\r\n        Autocuidado: +( (sums.Autocuidado/tot)*100 ).toFixed(1),\r\n        Obligaciones:+( (sums.Obligaciones/tot)*100 ).toFixed(1),\r\n        Ocio:       +( (sums.Ocio/tot)*100 ).toFixed(1)\r\n      };\r\n    });\r\n\r\n    // Índice global\r\n    const N = distribution.length, uni = 100/N;\r\n    const diff = distribution.reduce((a,c)=>a+Math.abs(c.value-uni),0);\r\n    const balanceIndex = +(1 - diff/(2*100)).toFixed(2);\r\n\r\n    // Correspondencia Mié vs Sáb\r\n    let similarity = null;\r\n    const other = allResults.find(r => r.day && r.day !== result.day);\r\n    if (other) {\r\n      const A = new Set(activities.map(a=>a.activityId));\r\n      const B = new Set((other.timeSlots||[])\r\n        .flatMap(sl=>sl.activities.map(a=>a.activityId)));\r\n      const inter = [...A].filter(x=>B.has(x)).length;\r\n      const uniAB = new Set([...A, ...B]).size;\r\n      similarity = uniAB>0 ? +((inter/uniAB)*100).toFixed(1) : 0;\r\n    }\r\n\r\n    return {\r\n      distribution, hours, diversity,\r\n      consistency, continuity,\r\n      timeOfDay, groupBalance,\r\n      trend, balanceIndex, similarity\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      <section className=\"filter-section\">\r\n        <label>\r\n          Desde: <input type=\"date\" value={from}\r\n                        onChange={e=>setFrom(e.target.value)} />\r\n        </label>\r\n        <label>\r\n          Hasta: <input type=\"date\" value={to}\r\n                        onChange={e=>setTo(e.target.value)} />\r\n        </label>\r\n        <label>\r\n          Seleccionar día:\r\n          <select value={selected||''}\r\n                  onChange={e=>setSelected(e.target.value)}>\r\n            {filtered.map(r => {\r\n              const d = new Date(r.createdAt)\r\n                          .toLocaleDateString();\r\n              return <option key={r.createdAt}\r\n                             value={r.createdAt}>\r\n                       {d}\r\n                     </option>;\r\n            })}\r\n          </select>\r\n        </label>\r\n      </section>\r\n\r\n      {metrics && (\r\n        <div className=\"metrics-grid\">\r\n          <div className=\"metric-card\">\r\n            Diversidad: <strong>{metrics.diversity}</strong>\r\n          </div>\r\n          <div className=\"metric-card\">\r\n            Consistencia: <strong>{metrics.consistency}%</strong>\r\n          </div>\r\n          <div className=\"metric-card\">\r\n            Continuidad: <strong>{metrics.continuity}%</strong>\r\n          </div>\r\n          <div className=\"metric-card\">\r\n            Correspondencia: <strong>\r\n              {metrics.similarity != null\r\n                ? metrics.similarity + '%'\r\n                : 'N/A'}\r\n            </strong>\r\n          </div>\r\n          <div className=\"metric-card\">\r\n            Índice Equilibrio: <strong>{metrics.balanceIndex}</strong>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {metrics && (\r\n        <div className=\"charts-grid\">\r\n          {/* Distribución % */}\r\n          <div className=\"chart-block\">\r\n            <h3>Distribución % por Categoría</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={metrics.distribution}\r\n                  dataKey=\"value\"\r\n                  nameKey=\"name\"\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  outerRadius={80}\r\n                  label\r\n                >\r\n                  {metrics.distribution.map((entry, i) => (\r\n                    <Cell key={i}\r\n                          fill={COLORS[i % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n                <Legend />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Horas por categoría */}\r\n          <div className=\"chart-block\">\r\n            <h3>Horas por Categoría</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <BarChart data={metrics.hours}\r\n                        margin={{ top:20, right:30, left:0, bottom:0 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Bar dataKey=\"hours\" fill=\"#8884d8\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Radar balance */}\r\n          <div className=\"chart-block\">\r\n            <h3>Balance Autocuidado/Obligaciones/Ocio</h3>\r\n            <ResponsiveContainer width=\"100%\" height={250}>\r\n              <RadarChart\r\n                data={metrics.groupBalance}\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n              >\r\n                <PolarGrid />\r\n                <PolarAngleAxis dataKey=\"subject\" />\r\n                <PolarRadiusAxis angle={30} domain={[0,100]} />\r\n                <Radar\r\n                  dataKey=\"value\"\r\n                  stroke=\"#82ca9d\"\r\n                  fill=\"#82ca9d\"\r\n                  fillOpacity={0.6}\r\n                />\r\n                <Tooltip />\r\n              </RadarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Tendencia semanal */}\r\n          <div className=\"chart-block full-width\">\r\n            <h3>Tendencia Semanal (% por Grupo)</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <LineChart data={metrics.trend}\r\n                         margin={{ top:20, right:30, left:0, bottom:0 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Line type=\"monotone\"\r\n                      dataKey=\"Autocuidado\"\r\n                      stroke=\"#8884d8\" />\r\n                <Line type=\"monotone\"\r\n                      dataKey=\"Obligaciones\"\r\n                      stroke=\"#82ca9d\" />\r\n                <Line type=\"monotone\"\r\n                      dataKey=\"Ocio\"\r\n                      stroke=\"#ffc658\" />\r\n                <Legend />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}