{"ast":null,"code":"// src/components/PatientRoutines.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,RadialBarChart,RadialBar,ResponsiveContainer}from'recharts';import'../styles/therapistRoutines.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const categoryMap={futbol:'Ocio',dibujos:'Ocio',comics:'Ocio',tarea:'Obligaciones',videojuegos:'Ocio',helado:'Ocio',parque:'Ocio',banio:'Autocuidado',dormir:'Autocuidado',musica:'Ocio',bailar:'Ocio',amigos:'Ocio',bicicleta:'Ocio',dibujar:'Ocio',mascotas:'Ocio',experimentos:'Obligaciones',cantar:'Ocio',lego:'Ocio',nadar:'Autocuidado',computadora:'Ocio'};const groupMap={Autocuidado:'Autocuidado',Obligaciones:'Obligaciones',Ocio:'Ocio'};const COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[from,setFrom]=useState('');const[to,setTo]=useState('');const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);useEffect(()=>{const token=localStorage.getItem('token');axios.get(`http://localhost:8080/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}}).then(_ref=>{let{data}=_ref;setResults(data);const now=new Date();const weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}).catch(console.error);},[patientId]);useEffect(()=>{if(!from||!to)return;const f=new Date(from),t=new Date(to);t.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=f&&d<=t;}));},[results,from,to]);useEffect(()=>{setSelected(filtered.length?filtered[0].createdAt:null);},[filtered]);useEffect(()=>{if(!selected)return;const res=filtered.find(r=>r.createdAt===selected);if(!res)return;// Flatten activities\nconst slots=res.timeSlots||[];const acts=slots.flatMap(s=>(s.activities||[]).map(a=>({...a,slot:s.slot})));if(!acts.length)return;const totalMin=acts.reduce((sum,a)=>sum+a.duration,0);const n=acts.length;// Basic stats\nconst durations=acts.map(a=>a.duration);const avgDuration=+(totalMin/n).toFixed(2);const sortedD=[...durations].sort((a,b)=>a-b);const median=n%2===0?+((sortedD[n/2-1]+sortedD[n/2])/2).toFixed(2):sortedD[Math.floor(n/2)];const minDur=sortedD[0];const maxDur=sortedD[n-1];const variance=durations.reduce((acc,d)=>acc+(d-avgDuration)**2,0)/n;const stdDev=+Math.sqrt(variance).toFixed(2);// Total hours\nconst totalHours=+(totalMin/60).toFixed(2);// Slot durations\nconst slotDurations=slots.map(s=>{const mins=(s.activities||[]).reduce((sum,a)=>sum+a.duration,0);return{slot:s.slot,minutes:mins};});const busiest=slotDurations.reduce((max,c)=>c.minutes>max.minutes?c:max,slotDurations[0]);const least=slotDurations.reduce((min,c)=>c.minutes<min.minutes?c:min,slotDurations[0]);// Distribution %\nconst catSum={};acts.forEach(a=>{const c=categoryMap[a.activityId]||'Otros';catSum[c]=(catSum[c]||0)+a.duration;});const distribution=Object.entries(catSum).map(_ref2=>{let[name,val]=_ref2;return{name,value:+(val/totalMin*100).toFixed(1)};});// Hours per category\nconst hours=Object.entries(catSum).map(_ref3=>{let[name,val]=_ref3;return{name,hours:+(val/60).toFixed(2)};});// Diversity & consistency\nconst diversity=new Set(acts.map(a=>a.activityId)).size;const occupiedSlots=slots.filter(s=>{var _s$activities;return((_s$activities=s.activities)===null||_s$activities===void 0?void 0:_s$activities.length)>0;}).length;const consistency=+(occupiedSlots/slots.length*100).toFixed(1);// Group balance\nconst grpSum={Autocuidado:0,Obligaciones:0,Ocio:0};acts.forEach(a=>grpSum[groupMap[categoryMap[a.activityId]||'Ocio']]+=a.duration);const groupBalance=Object.entries(grpSum).map(_ref4=>{let[subject,val]=_ref4;return{subject,value:+(val/totalMin*100).toFixed(1)};});// Balance index\nconst N=distribution.length;const uniform=100/N;const distDiff=distribution.reduce((acc,d)=>acc+Math.abs(d.value-uniform),0)/2;const balanceIndex=+((100-distDiff)/100*100).toFixed(1);// Top3\nconst actSum={};acts.forEach(a=>actSum[a.activityId]=(actSum[a.activityId]||0)+a.duration);const top3=Object.entries(actSum).sort((a,b)=>b[1]-a[1]).slice(0,3).map(_ref5=>{let[id,val]=_ref5;return{name:id,hours:+(val/60).toFixed(2)};});setMetrics({totalHours,avgDuration,median,minDur,maxDur,stdDev,busiest,least,distribution,hours,diversity,consistency,groupBalance,balanceIndex,top3,slotDurations});},[selected,filtered]);return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Desde:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:from,onChange:e=>setFrom(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Hasta:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:to,onChange:e=>setTo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"D\\xEDa:\",/*#__PURE__*/_jsx(\"select\",{value:selected||'',onChange:e=>setSelected(e.target.value),children:filtered.map(r=>/*#__PURE__*/_jsx(\"option\",{value:r.createdAt,children:new Date(r.createdAt).toLocaleDateString()},r.createdAt))})]})]}),metrics?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Total Horas: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.totalHours})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Duraci\\xF3n Media (min): \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.avgDuration})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Mediana (min): \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.median})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"M\\xEDn/Max (min): \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.minDur,\"/\",metrics.maxDur]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Desviaci\\xF3n (min): \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.stdDev})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Diversidad: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.diversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Consistencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.consistency,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"\\xCDndice Equilibrio: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.balanceIndex,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Franja m\\xE1s activa: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.busiest.slot})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Franja menos activa: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.least.slot})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n % por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((_,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.hours,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:COLORS[1]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Balance Grupo (Radar)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(RadarChart,{data:metrics.groupBalance,cx:\"50%\",cy:\"50%\",outerRadius:80,children:[/*#__PURE__*/_jsx(PolarGrid,{}),/*#__PURE__*/_jsx(PolarAngleAxis,{dataKey:\"subject\"}),/*#__PURE__*/_jsx(PolarRadiusAxis,{domain:[0,100]}),/*#__PURE__*/_jsx(Radar,{dataKey:\"value\",stroke:COLORS[2],fill:COLORS[2],fillOpacity:0.6}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 3 Actividades por Tiempo\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.top3,layout:\"vertical\",margin:{top:10,right:30,left:50,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"name\",type:\"category\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:COLORS[3]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tiempo por Franja Horaria\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.slotDurations,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"slot\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"minutes\",fill:COLORS[4]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\xCDndice de Equilibrio (%)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(RadialBarChart,{cx:\"50%\",cy:\"50%\",innerRadius:\"60%\",outerRadius:\"100%\",data:[{name:'Equilibrio',value:metrics.balanceIndex}],startAngle:180,endAngle:0,children:[/*#__PURE__*/_jsx(RadialBar,{minAngle:15,background:true,clockWise:true,dataKey:\"value\"}),/*#__PURE__*/_jsx(Legend,{iconSize:10,layout:\"vertical\",verticalAlign:\"middle\",align:\"right\"}),/*#__PURE__*/_jsx(Tooltip,{})]})})]})]})]}):/*#__PURE__*/_jsx(\"p\",{style:{padding:'20px'},children:\"Selecciona un d\\xEDa para ver estad\\xEDsticas\"})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","RadialBarChart","RadialBar","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","groupMap","Autocuidado","Obligaciones","Ocio","COLORS","PatientRoutines","patientId","results","setResults","filtered","setFiltered","from","setFrom","to","setTo","selected","setSelected","metrics","setMetrics","token","localStorage","getItem","get","headers","then","_ref","data","now","Date","weekAgo","setDate","getDate","toISOString","slice","catch","console","error","f","t","setHours","filter","r","d","createdAt","length","res","find","slots","timeSlots","acts","flatMap","s","activities","map","a","slot","totalMin","reduce","sum","duration","n","durations","avgDuration","toFixed","sortedD","sort","b","median","Math","floor","minDur","maxDur","variance","acc","stdDev","sqrt","totalHours","slotDurations","mins","minutes","busiest","max","c","least","min","catSum","forEach","activityId","distribution","Object","entries","_ref2","name","val","value","hours","_ref3","diversity","Set","size","occupiedSlots","_s$activities","consistency","grpSum","groupBalance","_ref4","subject","N","uniform","distDiff","abs","balanceIndex","actSum","top3","_ref5","id","className","children","type","onChange","e","target","toLocaleDateString","width","height","dataKey","nameKey","cx","cy","outerRadius","label","_","i","fill","margin","top","right","left","bottom","strokeDasharray","domain","stroke","fillOpacity","layout","innerRadius","startAngle","endAngle","minAngle","background","clockWise","iconSize","verticalAlign","align","style","padding"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["// src/components/PatientRoutines.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  PieChart, Pie, Cell, Tooltip, Legend,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  RadialBarChart, RadialBar,\r\n  ResponsiveContainer\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\nconst categoryMap = {\r\n  futbol: 'Ocio', dibujos: 'Ocio', comics: 'Ocio', tarea: 'Obligaciones',\r\n  videojuegos: 'Ocio', helado: 'Ocio', parque: 'Ocio', banio: 'Autocuidado',\r\n  dormir: 'Autocuidado', musica: 'Ocio', bailar: 'Ocio', amigos: 'Ocio',\r\n  bicicleta: 'Ocio', dibujar: 'Ocio', mascotas: 'Ocio', experimentos: 'Obligaciones',\r\n  cantar: 'Ocio', lego: 'Ocio', nadar: 'Autocuidado', computadora: 'Ocio'\r\n};\r\nconst groupMap = { Autocuidado:'Autocuidado', Obligaciones:'Obligaciones', Ocio:'Ocio' };\r\nconst COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get(`http://localhost:8080/api/game?patientId=${patientId}`, {\r\n      headers: { 'x-auth-token': token }\r\n    }).then(({ data }) => {\r\n      setResults(data);\r\n      const now = new Date();\r\n      const weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0,10));\r\n      setTo(now.toISOString().slice(0,10));\r\n    }).catch(console.error);\r\n  }, [patientId]);\r\n\r\n  useEffect(() => {\r\n    if (!from||!to) return;\r\n    const f = new Date(from), t = new Date(to);\r\n    t.setHours(23,59,59,999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d>=f && d<=t;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  useEffect(() => {\r\n    setSelected(filtered.length ? filtered[0].createdAt : null);\r\n  }, [filtered]);\r\n\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    if (!res) return;\r\n\r\n    // Flatten activities\r\n    const slots = res.timeSlots || [];\r\n    const acts = slots.flatMap(s => (s.activities||[]).map(a=>({...a, slot: s.slot})));\r\n    if (!acts.length) return;\r\n\r\n    const totalMin = acts.reduce((sum,a)=>sum+a.duration,0);\r\n    const n = acts.length;\r\n\r\n    // Basic stats\r\n    const durations = acts.map(a=>a.duration);\r\n    const avgDuration = +(totalMin/n).toFixed(2);\r\n    const sortedD = [...durations].sort((a,b)=>a-b);\r\n    const median = n%2===0\r\n      ? +(((sortedD[n/2-1]+sortedD[n/2])/2).toFixed(2))\r\n      : sortedD[Math.floor(n/2)];\r\n    const minDur = sortedD[0];\r\n    const maxDur = sortedD[n-1];\r\n    const variance = durations.reduce((acc,d)=>acc+(d-avgDuration)**2,0)/n;\r\n    const stdDev = +Math.sqrt(variance).toFixed(2);\r\n\r\n    // Total hours\r\n    const totalHours = +(totalMin/60).toFixed(2);\r\n\r\n    // Slot durations\r\n    const slotDurations = slots.map(s => {\r\n      const mins = (s.activities||[]).reduce((sum,a)=>sum+a.duration,0);\r\n      return { slot: s.slot, minutes: mins };\r\n    });\r\n    const busiest = slotDurations.reduce((max,c)=>c.minutes>max.minutes?c:max, slotDurations[0]);\r\n    const least = slotDurations.reduce((min,c)=>c.minutes<min.minutes?c:min, slotDurations[0]);\r\n\r\n    // Distribution %\r\n    const catSum = {};\r\n    acts.forEach(a=>{\r\n      const c = categoryMap[a.activityId]||'Otros';\r\n      catSum[c] = (catSum[c]||0)+a.duration;\r\n    });\r\n    const distribution = Object.entries(catSum).map(([name,val])=>({\r\n      name, value: +(val/totalMin*100).toFixed(1)\r\n    }));\r\n\r\n    // Hours per category\r\n    const hours = Object.entries(catSum).map(([name,val])=>({\r\n      name, hours: +(val/60).toFixed(2)\r\n    }));\r\n\r\n    // Diversity & consistency\r\n    const diversity = new Set(acts.map(a=>a.activityId)).size;\r\n    const occupiedSlots = slots.filter(s=>s.activities?.length>0).length;\r\n    const consistency = +((occupiedSlots/slots.length*100).toFixed(1));\r\n\r\n    // Group balance\r\n    const grpSum = {Autocuidado:0,Obligaciones:0,Ocio:0};\r\n    acts.forEach(a=> grpSum[groupMap[categoryMap[a.activityId]||'Ocio']] += a.duration);\r\n    const groupBalance = Object.entries(grpSum).map(([subject,val])=>({\r\n      subject, value: +(val/totalMin*100).toFixed(1)\r\n    }));\r\n\r\n    // Balance index\r\n    const N = distribution.length;\r\n    const uniform = 100/N;\r\n    const distDiff = distribution.reduce((acc,d)=>acc+Math.abs(d.value-uniform),0)/2;\r\n    const balanceIndex = +((100-distDiff)/100*100).toFixed(1);\r\n\r\n    // Top3\r\n    const actSum = {};\r\n    acts.forEach(a=> actSum[a.activityId]=(actSum[a.activityId]||0)+a.duration);\r\n    const top3 = Object.entries(actSum)\r\n      .sort((a,b)=>b[1]-a[1]).slice(0,3)\r\n      .map(([id,val])=>({ name: id, hours: +(val/60).toFixed(2) }));\r\n\r\n    setMetrics({\r\n      totalHours, avgDuration, median, minDur, maxDur, stdDev,\r\n      busiest, least,\r\n      distribution, hours,\r\n      diversity, consistency, groupBalance, balanceIndex, top3,\r\n      slotDurations\r\n    });\r\n  }, [selected, filtered]);\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      <section className=\"filter-section\">\r\n        <label>Desde:<input type=\"date\" value={from} onChange={e=>setFrom(e.target.value)} /></label>\r\n        <label>Hasta:<input type=\"date\" value={to} onChange={e=>setTo(e.target.value)} /></label>\r\n        <label>Día:\r\n          <select value={selected||''} onChange={e=>setSelected(e.target.value)}>\r\n            {filtered.map(r=><option key={r.createdAt} value={r.createdAt}>\r\n              {new Date(r.createdAt).toLocaleDateString()}\r\n            </option>)}\r\n          </select>\r\n        </label>\r\n      </section>\r\n\r\n      {metrics ? (\r\n        <>\r\n          <div className=\"metrics-grid\">\r\n            <div className=\"metric-card\">Total Horas: <strong>{metrics.totalHours}</strong></div>\r\n            <div className=\"metric-card\">Duración Media (min): <strong>{metrics.avgDuration}</strong></div>\r\n            <div className=\"metric-card\">Mediana (min): <strong>{metrics.median}</strong></div>\r\n            <div className=\"metric-card\">Mín/Max (min): <strong>{metrics.minDur}/{metrics.maxDur}</strong></div>\r\n            <div className=\"metric-card\">Desviación (min): <strong>{metrics.stdDev}</strong></div>\r\n            <div className=\"metric-card\">Diversidad: <strong>{metrics.diversity}</strong></div>\r\n            <div className=\"metric-card\">Consistencia: <strong>{metrics.consistency}%</strong></div>\r\n            <div className=\"metric-card\">Índice Equilibrio: <strong>{metrics.balanceIndex}%</strong></div>\r\n            <div className=\"metric-card\">Franja más activa: <strong>{metrics.busiest.slot}</strong></div>\r\n            <div className=\"metric-card\">Franja menos activa: <strong>{metrics.least.slot}</strong></div>\r\n          </div>\r\n\r\n          <div className=\"charts-grid\">\r\n            <div className=\"chart-block\">\r\n              <h3>Distribución % por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <PieChart>\r\n                  <Pie\r\n                    data={metrics.distribution} dataKey=\"value\" nameKey=\"name\"\r\n                    cx=\"50%\" cy=\"50%\" outerRadius={80} label\r\n                  >\r\n                    {metrics.distribution.map((_,i)=>\r\n                      <Cell key={i} fill={COLORS[i%COLORS.length]} />\r\n                    )}\r\n                  </Pie>\r\n                  <Tooltip /><Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-block\">\r\n              <h3>Horas por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <BarChart data={metrics.hours} margin={{ top:20,right:30,left:0,bottom:0 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Bar dataKey=\"hours\" fill={COLORS[1]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-block\">\r\n              <h3>Balance Grupo (Radar)</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <RadarChart data={metrics.groupBalance} cx=\"50%\" cy=\"50%\" outerRadius={80}>\r\n                  <PolarGrid />\r\n                  <PolarAngleAxis dataKey=\"subject\" />\r\n                  <PolarRadiusAxis domain={[0,100]} />\r\n                  <Radar dataKey=\"value\" stroke={COLORS[2]} fill={COLORS[2]} fillOpacity={0.6}/>\r\n                  <Tooltip/>\r\n                </RadarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-block\">\r\n              <h3>Top 3 Actividades por Tiempo</h3>\r\n              <ResponsiveContainer width=\"100%\" height={200}>\r\n                <BarChart data={metrics.top3} layout=\"vertical\" margin={{ top:10,right:30,left:50,bottom:5 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\r\n                  <XAxis type=\"number\"/>\r\n                  <YAxis dataKey=\"name\" type=\"category\"/>\r\n                  <Tooltip/>\r\n                  <Bar dataKey=\"hours\" fill={COLORS[3]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-block\">\r\n              <h3>Tiempo por Franja Horaria</h3>\r\n              <ResponsiveContainer width=\"100%\" height={200}>\r\n                <BarChart data={metrics.slotDurations} margin={{ top:20,right:30,left:0,bottom:0 }}>\r\n                  <XAxis dataKey=\"slot\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Bar dataKey=\"minutes\" fill={COLORS[4]} />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            <div className=\"chart-block full-width\">\r\n              <h3>Índice de Equilibrio (%)</h3>\r\n              <ResponsiveContainer width=\"100%\" height={200}>\r\n                <RadialBarChart\r\n                  cx=\"50%\" cy=\"50%\" innerRadius=\"60%\" outerRadius=\"100%\"\r\n                  data={[{ name:'Equilibrio', value: metrics.balanceIndex }]}\r\n                  startAngle={180} endAngle={0}\r\n                >\r\n                  <RadialBar minAngle={15} background clockWise dataKey=\"value\" />\r\n                  <Legend iconSize={10} layout=\"vertical\" verticalAlign=\"middle\" align=\"right\"/>\r\n                  <Tooltip/>\r\n                </RadialBarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p style={{ padding: '20px' }}>Selecciona un día para ver estadísticas</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}