{"ast":null,"code":"// src/components/PatientInterests.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{ResponsiveContainer,BarChart,Bar,XAxis,YAxis,Tooltip,Legend,PieChart,Pie,Cell}from'recharts';import'../styles/therapistRoutines.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientInterests(){const{patientId}=useParams();const[diary,setDiary]=useState(undefined);// undefined = loading, null = no diary, array = data\nconst[metrics,setMetrics]=useState(null);// Fetch the patient's latest diary\nuseEffect(()=>{const fetchDiary=async()=>{try{const token=localStorage.getItem('token');const{data}=await axios.get(`/api/emotions?patientId=${patientId}`,{headers:{'x-auth-token':token}});setDiary(data&&data.length>0?data[0].diary:null);}catch(err){console.error(err);setDiary(null);}};fetchDiary();},[patientId]);// Compute extended metrics once diary is available\nuseEffect(()=>{if(!Array.isArray(diary)||diary.length===0)return;const ratings=diary.map(e=>e.rating);const n=ratings.length;const sum=ratings.reduce((a,b)=>a+b,0);const average=+(sum/n).toFixed(2);// Median\nconst sorted=[...ratings].sort((a,b)=>a-b);const middle=Math.floor(n/2);const median=n%2===0?+((sorted[middle-1]+sorted[middle])/2).toFixed(2):sorted[middle];// Mode\nconst freq={};ratings.forEach(r=>freq[r]=(freq[r]||0)+1);const mode=+Object.entries(freq).sort((a,b)=>b[1]-a[1])[0][0];// Standard deviation\nconst variance=ratings.reduce((acc,r)=>acc+Math.pow(r-average,2),0)/n;const stdDev=+Math.sqrt(variance).toFixed(2);// Distribution per rating 1–5\nconst distribution=[1,2,3,4,5].map(r=>({rating:r,count:freq[r]||0}));// Positive / Neutral / Negative proportions\nconst posCount=distribution.filter(d=>d.rating>=4).reduce((a,d)=>a+d.count,0);const neuCount=distribution.find(d=>d.rating===3).count;const negCount=distribution.filter(d=>d.rating<=2).reduce((a,d)=>a+d.count,0);const pnDistribution=[{category:'Positivo (4–5)',value:posCount},{category:'Neutral (3)',value:neuCount},{category:'Negativo (1–2)',value:negCount}];// Activity-by-activity ratings\nconst activities=diary.map(e=>({name:e.title,rating:e.rating}));setMetrics({average,median,mode,stdDev,distribution,pnDistribution,activities});},[diary]);// Render guards\nif(diary===undefined){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando diario de emociones\\u2026\"})]});}if(diary===null){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"No se ha encontrado un diario guardado para este paciente.\"})]});}if(!metrics){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Calculando estad\\xEDsticas\\u2026\"})]});}const COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];const PN_COLORS=['#82ca9d','#ffc658','#ff8042'];return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/interests\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Emociones\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Promedio: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.average})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Mediana: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.median})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Moda: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.mode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Desviaci\\xF3n est\\xE1ndar: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.stdDev})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Actividades: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.activities.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n de Calificaciones\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"count\",nameKey:\"rating\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((_,idx)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[idx%COLORS.length]},idx))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{verticalAlign:\"bottom\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Proporci\\xF3n Positivo/Neutral/Negativo\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.pnDistribution,dataKey:\"value\",nameKey:\"category\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.pnDistribution.map((_,idx)=>/*#__PURE__*/_jsx(Cell,{fill:PN_COLORS[idx%PN_COLORS.length]},idx))}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Calificaci\\xF3n por Actividad\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.activities,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{domain:[1,5]}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"rating\",fill:\"#82ca9d\"})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","ResponsiveContainer","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","PieChart","Pie","Cell","jsx","_jsx","jsxs","_jsxs","PatientInterests","patientId","diary","setDiary","undefined","metrics","setMetrics","fetchDiary","token","localStorage","getItem","data","get","headers","length","err","console","error","Array","isArray","ratings","map","e","rating","n","sum","reduce","a","b","average","toFixed","sorted","sort","middle","Math","floor","median","freq","forEach","r","mode","Object","entries","variance","acc","pow","stdDev","sqrt","distribution","count","posCount","filter","d","neuCount","find","negCount","pnDistribution","category","value","activities","name","title","className","children","to","COLORS","PN_COLORS","width","height","dataKey","nameKey","cx","cy","outerRadius","label","_","idx","fill","verticalAlign","margin","top","right","left","bottom","domain"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientInterests.js"],"sourcesContent":["// src/components/PatientInterests.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  ResponsiveContainer,\r\n  BarChart, Bar, XAxis, YAxis, Tooltip, Legend,\r\n  PieChart, Pie, Cell\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\nexport default function PatientInterests() {\r\n  const { patientId } = useParams();\r\n  const [diary, setDiary] = useState(undefined);    // undefined = loading, null = no diary, array = data\r\n  const [metrics, setMetrics] = useState(null);\r\n\r\n  // Fetch the patient's latest diary\r\n  useEffect(() => {\r\n    const fetchDiary = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const { data } = await axios.get(`/api/emotions?patientId=${patientId}`, {\r\n          headers: { 'x-auth-token': token }\r\n        });\r\n        setDiary(data && data.length > 0 ? data[0].diary : null);\r\n      } catch (err) {\r\n        console.error(err);\r\n        setDiary(null);\r\n      }\r\n    };\r\n    fetchDiary();\r\n  }, [patientId]);\r\n\r\n  // Compute extended metrics once diary is available\r\n  useEffect(() => {\r\n    if (!Array.isArray(diary) || diary.length === 0) return;\r\n\r\n    const ratings = diary.map(e => e.rating);\r\n    const n = ratings.length;\r\n    const sum = ratings.reduce((a, b) => a + b, 0);\r\n    const average = +(sum / n).toFixed(2);\r\n\r\n    // Median\r\n    const sorted = [...ratings].sort((a, b) => a - b);\r\n    const middle = Math.floor(n / 2);\r\n    const median =\r\n      n % 2 === 0\r\n        ? +(((sorted[middle - 1] + sorted[middle]) / 2).toFixed(2))\r\n        : sorted[middle];\r\n\r\n    // Mode\r\n    const freq = {};\r\n    ratings.forEach(r => (freq[r] = (freq[r] || 0) + 1));\r\n    const mode = +Object.entries(freq).sort((a, b) => b[1] - a[1])[0][0];\r\n\r\n    // Standard deviation\r\n    const variance = ratings.reduce((acc, r) => acc + Math.pow(r - average, 2), 0) / n;\r\n    const stdDev = +Math.sqrt(variance).toFixed(2);\r\n\r\n    // Distribution per rating 1–5\r\n    const distribution = [1, 2, 3, 4, 5].map(r => ({\r\n      rating: r,\r\n      count: freq[r] || 0\r\n    }));\r\n\r\n    // Positive / Neutral / Negative proportions\r\n    const posCount = distribution.filter(d => d.rating >= 4).reduce((a, d) => a + d.count, 0);\r\n    const neuCount = distribution.find(d => d.rating === 3).count;\r\n    const negCount = distribution.filter(d => d.rating <= 2).reduce((a, d) => a + d.count, 0);\r\n    const pnDistribution = [\r\n      { category: 'Positivo (4–5)', value: posCount },\r\n      { category: 'Neutral (3)',      value: neuCount },\r\n      { category: 'Negativo (1–2)',  value: negCount }\r\n    ];\r\n\r\n    // Activity-by-activity ratings\r\n    const activities = diary.map(e => ({\r\n      name: e.title,\r\n      rating: e.rating\r\n    }));\r\n\r\n    setMetrics({\r\n      average,\r\n      median,\r\n      mode,\r\n      stdDev,\r\n      distribution,\r\n      pnDistribution,\r\n      activities\r\n    });\r\n  }, [diary]);\r\n\r\n  // Render guards\r\n  if (diary === undefined) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>Cargando diario de emociones…</p>\r\n      </div>\r\n    );\r\n  }\r\n  if (diary === null) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>No se ha encontrado un diario guardado para este paciente.</p>\r\n      </div>\r\n    );\r\n  }\r\n  if (!metrics) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/interests\">← Volver</Link>\r\n          <h2>Estadísticas de Emociones</h2>\r\n        </header>\r\n        <p>Calculando estadísticas…</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const COLORS = ['#8884d8', '#82ca9d', '#ffc658', '#ff8042', '#0088FE'];\r\n  const PN_COLORS = ['#82ca9d', '#ffc658', '#ff8042'];\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/interests\">← Volver</Link>\r\n        <h2>Estadísticas de Emociones</h2>\r\n      </header>\r\n\r\n      <div className=\"metrics-grid\">\r\n        <div className=\"metric-card\">Promedio: <strong>{metrics.average}</strong></div>\r\n        <div className=\"metric-card\">Mediana: <strong>{metrics.median}</strong></div>\r\n        <div className=\"metric-card\">Moda: <strong>{metrics.mode}</strong></div>\r\n        <div className=\"metric-card\">Desviación estándar: <strong>{metrics.stdDev}</strong></div>\r\n        <div className=\"metric-card\">Actividades: <strong>{metrics.activities.length}</strong></div>\r\n      </div>\r\n\r\n      <div className=\"charts-grid\">\r\n        {/* Pie Chart: distribution 1–5 */}\r\n        <div className=\"chart-block\">\r\n          <h3>Distribución de Calificaciones</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie\r\n                data={metrics.distribution}\r\n                dataKey=\"count\"\r\n                nameKey=\"rating\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {metrics.distribution.map((_, idx) => (\r\n                  <Cell key={idx} fill={COLORS[idx % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n              <Legend verticalAlign=\"bottom\" />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Pie Chart: Positive/Neutral/Negative */}\r\n        <div className=\"chart-block\">\r\n          <h3>Proporción Positivo/Neutral/Negativo</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie\r\n                data={metrics.pnDistribution}\r\n                dataKey=\"value\"\r\n                nameKey=\"category\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                outerRadius={80}\r\n                label\r\n              >\r\n                {metrics.pnDistribution.map((_, idx) => (\r\n                  <Cell key={idx} fill={PN_COLORS[idx % PN_COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Bar Chart: ratings by activity */}\r\n        <div className=\"chart-block full-width\">\r\n          <h3>Calificación por Actividad</h3>\r\n          <ResponsiveContainer width=\"100%\" height={300}>\r\n            <BarChart\r\n              data={metrics.activities}\r\n              margin={{ top: 20, right: 30, left: 0, bottom: 0 }}\r\n            >\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis domain={[1, 5]} />\r\n              <Tooltip />\r\n              <Bar dataKey=\"rating\" fill=\"#82ca9d\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}