{"ast":null,"code":"import React,{useEffect,useState}from'react';import routineService from'../services/routineTemplateService';import'../styles/routineTemplates.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function PatientAssignedRoutines(){const[assigns,setAssigns]=useState([]);useEffect(()=>{routineService.getAssignments().then(res=>setAssigns(res.data)).catch(console.error);},[]);const updateStatus=async(id,status)=>{await routineService.updateAssign(id,{status});setAssigns(a=>a.map(x=>x._id===id?{...x,status}:x));};return/*#__PURE__*/_jsxs(\"div\",{className:\"patient-assigns\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mis Rutinas\"}),assigns.map(a=>/*#__PURE__*/_jsxs(\"div\",{className:`assign-card status-${a.status}`,children:[/*#__PURE__*/_jsx(\"h3\",{children:a.template.title}),/*#__PURE__*/_jsx(\"p\",{children:a.template.description}),/*#__PURE__*/_jsxs(\"small\",{children:[a.template.type,\" \\xB7 \",a.template.duration,\" min\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"assign-actions\",children:[a.status==='pending'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(a._id,'completed'),className:\"btn-complete\",children:\"Completar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(a._id,'postponed'),className:\"btn-postpone\",children:\"Posponer\"})]}),a.status!=='pending'&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Estado: \",/*#__PURE__*/_jsx(\"strong\",{children:a.status})]})]})]},a._id))]});}","map":{"version":3,"names":["React","useEffect","useState","routineService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PatientAssignedRoutines","assigns","setAssigns","getAssignments","then","res","data","catch","console","error","updateStatus","id","status","updateAssign","a","map","x","_id","className","children","template","title","description","type","duration","onClick"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientAssignedRoutines.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport routineService from '../services/routineTemplateService';\r\nimport '../styles/routineTemplates.css';\r\n\r\nexport default function PatientAssignedRoutines() {\r\n  const [assigns, setAssigns] = useState([]);\r\n\r\n  useEffect(() => {\r\n    routineService.getAssignments()\r\n      .then(res => setAssigns(res.data))\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  const updateStatus = async (id, status) => {\r\n    await routineService.updateAssign(id, { status });\r\n    setAssigns(a=>a.map(x=> x._id===id ? {...x, status} : x ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"patient-assigns\">\r\n      <h1>Mis Rutinas</h1>\r\n      {assigns.map(a => (\r\n        <div key={a._id} className={`assign-card status-${a.status}`}>\r\n          <h3>{a.template.title}</h3>\r\n          <p>{a.template.description}</p>\r\n          <small>{a.template.type} Â· {a.template.duration} min</small>\r\n          <div className=\"assign-actions\">\r\n            {a.status==='pending' && (\r\n              <>\r\n                <button onClick={()=>updateStatus(a._id,'completed')} className=\"btn-complete\">Completar</button>\r\n                <button onClick={()=>updateStatus(a._id,'postponed')} className=\"btn-postpone\">Posponer</button>\r\n              </>\r\n            )}\r\n            {a.status!=='pending' && (\r\n              <span>Estado: <strong>{a.status}</strong></span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAExC,cAAe,SAAS,CAAAC,uBAAuBA,CAAA,CAAG,CAChD,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACdE,cAAc,CAACU,cAAc,CAAC,CAAC,CAC5BC,IAAI,CAACC,GAAG,EAAIH,UAAU,CAACG,GAAG,CAACC,IAAI,CAAC,CAAC,CACjCC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAOC,EAAE,CAAEC,MAAM,GAAK,CACzC,KAAM,CAAAnB,cAAc,CAACoB,YAAY,CAACF,EAAE,CAAE,CAAEC,MAAO,CAAC,CAAC,CACjDV,UAAU,CAACY,CAAC,EAAEA,CAAC,CAACC,GAAG,CAACC,CAAC,EAAGA,CAAC,CAACC,GAAG,GAAGN,EAAE,CAAG,CAAC,GAAGK,CAAC,CAAEJ,MAAM,CAAC,CAAGI,CAAE,CAAC,CAAC,CAC5D,CAAC,CAED,mBACEnB,KAAA,QAAKqB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BxB,IAAA,OAAAwB,QAAA,CAAI,aAAW,CAAI,CAAC,CACnBlB,OAAO,CAACc,GAAG,CAACD,CAAC,eACZjB,KAAA,QAAiBqB,SAAS,CAAE,sBAAsBJ,CAAC,CAACF,MAAM,EAAG,CAAAO,QAAA,eAC3DxB,IAAA,OAAAwB,QAAA,CAAKL,CAAC,CAACM,QAAQ,CAACC,KAAK,CAAK,CAAC,cAC3B1B,IAAA,MAAAwB,QAAA,CAAIL,CAAC,CAACM,QAAQ,CAACE,WAAW,CAAI,CAAC,cAC/BzB,KAAA,UAAAsB,QAAA,EAAQL,CAAC,CAACM,QAAQ,CAACG,IAAI,CAAC,QAAG,CAACT,CAAC,CAACM,QAAQ,CAACI,QAAQ,CAAC,MAAI,EAAO,CAAC,cAC5D3B,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5BL,CAAC,CAACF,MAAM,GAAG,SAAS,eACnBf,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eACExB,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAIf,YAAY,CAACI,CAAC,CAACG,GAAG,CAAC,WAAW,CAAE,CAACC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,WAAS,CAAQ,CAAC,cACjGxB,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAIf,YAAY,CAACI,CAAC,CAACG,GAAG,CAAC,WAAW,CAAE,CAACC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAChG,CACH,CACAL,CAAC,CAACF,MAAM,GAAG,SAAS,eACnBf,KAAA,SAAAsB,QAAA,EAAM,UAAQ,cAAAxB,IAAA,WAAAwB,QAAA,CAASL,CAAC,CAACF,MAAM,CAAS,CAAC,EAAM,CAChD,EACE,CAAC,GAdEE,CAAC,CAACG,GAeP,CACN,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}