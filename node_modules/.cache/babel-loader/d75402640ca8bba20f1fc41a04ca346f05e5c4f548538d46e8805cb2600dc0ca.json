{"ast":null,"code":"// src/components/TherapistRoutines.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'../styles/patientsList.css';// reutiliza el CSS existente\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TherapistRoutines(){const navigate=useNavigate();const[patients,setPatients]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{async function fetchPatients(){try{const token=localStorage.getItem('token');const res=await axios.get('/api/therapist/patients',{headers:{'x-auth-token':token}});setPatients(res.data);}catch(err){console.error(err);}finally{setLoading(false);}}fetchPatients();},[]);const openRoutines=patientId=>{navigate(`/therapist/routines/${patientId}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"therapist-patient-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pacientes - Equilibrio Ocupacional\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Cargando pacientes...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"patient-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nombre Completo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha de Nacimiento\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"action-col\",children:\"Acci\\xF3n\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:patients.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[p.nombre,\" \",p.apellidos]}),/*#__PURE__*/_jsx(\"td\",{children:new Date(p.fechaNacimiento).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:p.email}),/*#__PURE__*/_jsx(\"td\",{className:\"action-col\",children:/*#__PURE__*/_jsx(\"button\",{className:\"detail-btn\",onClick:()=>openRoutines(p._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bar-chart\"})})})]},p._id))})]})]});}export default TherapistRoutines;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","TherapistRoutines","navigate","patients","setPatients","loading","setLoading","fetchPatients","token","localStorage","getItem","res","get","headers","data","err","console","error","openRoutines","patientId","className","children","map","p","nombre","apellidos","Date","fechaNacimiento","toLocaleDateString","email","onClick","_id"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/TherapistRoutines.js"],"sourcesContent":["// src/components/TherapistRoutines.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/patientsList.css'; // reutiliza el CSS existente\r\n\r\nfunction TherapistRoutines() {\r\n  const navigate = useNavigate();\r\n  const [patients, setPatients] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchPatients() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const res = await axios.get('/api/therapist/patients', {\r\n          headers: { 'x-auth-token': token }\r\n        });\r\n        setPatients(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchPatients();\r\n  }, []);\r\n\r\n  const openRoutines = (patientId) => {\r\n    navigate(`/therapist/routines/${patientId}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"therapist-patient-list\">\r\n      <h1>Pacientes - Equilibrio Ocupacional</h1>\r\n      {loading ? (\r\n        <p>Cargando pacientes...</p>\r\n      ) : (\r\n        <table className=\"patient-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Nombre Completo</th>\r\n              <th>Fecha de Nacimiento</th>\r\n              <th>Email</th>\r\n              <th className=\"action-col\">Acci√≥n</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {patients.map(p => (\r\n              <tr key={p._id}>\r\n                <td>{p.nombre} {p.apellidos}</td>\r\n                <td>{new Date(p.fechaNacimiento).toLocaleDateString()}</td>\r\n                <td>{p.email}</td>\r\n                <td className=\"action-col\">\r\n                  <button className=\"detail-btn\" onClick={() => openRoutines(p._id)}>\r\n                    <i className=\"fa fa-bar-chart\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TherapistRoutines;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,4BAA4B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAa,aAAaA,CAAA,CAAG,CAC7B,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAf,KAAK,CAACgB,GAAG,CAAC,yBAAyB,CAAE,CACrDC,OAAO,CAAE,CAAE,cAAc,CAAEL,KAAM,CACnC,CAAC,CAAC,CACFJ,WAAW,CAACO,GAAG,CAACG,IAAI,CAAC,CACvB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CAAC,OAAS,CACRT,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CACAC,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAW,YAAY,CAAIC,SAAS,EAAK,CAClCjB,QAAQ,CAAC,uBAAuBiB,SAAS,EAAE,CAAC,CAC9C,CAAC,CAED,mBACEnB,KAAA,QAAKoB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCvB,IAAA,OAAAuB,QAAA,CAAI,oCAAkC,CAAI,CAAC,CAC1ChB,OAAO,cACNP,IAAA,MAAAuB,QAAA,CAAG,uBAAqB,CAAG,CAAC,cAE5BrB,KAAA,UAAOoB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9BvB,IAAA,UAAAuB,QAAA,cACErB,KAAA,OAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBvB,IAAA,OAAAuB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BvB,IAAA,OAAAuB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvB,IAAA,OAAIsB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,WAAM,CAAI,CAAC,EACpC,CAAC,CACA,CAAC,cACRvB,IAAA,UAAAuB,QAAA,CACGlB,QAAQ,CAACmB,GAAG,CAACC,CAAC,eACbvB,KAAA,OAAAqB,QAAA,eACErB,KAAA,OAAAqB,QAAA,EAAKE,CAAC,CAACC,MAAM,CAAC,GAAC,CAACD,CAAC,CAACE,SAAS,EAAK,CAAC,cACjC3B,IAAA,OAAAuB,QAAA,CAAK,GAAI,CAAAK,IAAI,CAACH,CAAC,CAACI,eAAe,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,cAC3D9B,IAAA,OAAAuB,QAAA,CAAKE,CAAC,CAACM,KAAK,CAAK,CAAC,cAClB/B,IAAA,OAAIsB,SAAS,CAAC,YAAY,CAAAC,QAAA,cACxBvB,IAAA,WAAQsB,SAAS,CAAC,YAAY,CAACU,OAAO,CAAEA,CAAA,GAAMZ,YAAY,CAACK,CAAC,CAACQ,GAAG,CAAE,CAAAV,QAAA,cAChEvB,IAAA,MAAGsB,SAAS,CAAC,iBAAiB,CAAI,CAAC,CAC7B,CAAC,CACP,CAAC,GAREG,CAAC,CAACQ,GASP,CACL,CAAC,CACG,CAAC,EACH,CACR,EACE,CAAC,CAEV,CAEA,cAAe,CAAA9B,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}