{"ast":null,"code":"// src/components/Dashboard.js\nimport React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import Calendar from'react-calendar';import axios from'axios';import'react-calendar/dist/Calendar.css';import'../styles/home.css';import'../styles/taskPlanner.css';// Decodifica JWT\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function decodeJwt(token){try{const b64=token.split('.')[1].replace(/-/g,'+').replace(/_/g,'/');return JSON.parse(atob(b64));}catch{return null;}}function getUserId(){var _payload$user;const raw=localStorage.getItem('token');if(!raw)return null;const token=raw.startsWith('Bearer ')?raw.slice(7):raw;const payload=decodeJwt(token);return(payload===null||payload===void 0?void 0:payload.id)||(payload===null||payload===void 0?void 0:payload.sub)||(payload===null||payload===void 0?void 0:(_payload$user=payload.user)===null||_payload$user===void 0?void 0:_payload$user.id)||null;}export default function Home(){const navigate=useNavigate();// Calendario y recordatorios\nconst[selectedDate,setSelectedDate]=useState(new Date());const[tasks,setTasks]=useState([]);const[upcoming,setUpcoming]=useState([]);const[expiredReminders,setExpiredReminders]=useState([]);const[countdowns,setCountdowns]=useState({});const timerRef=useRef();// Modals\nconst[showCreateModal,setShowCreateModal]=useState(false);const[showManage,setShowManage]=useState(false);const[newTitle,setNewTitle]=useState('');const[newDateTime,setNewDateTime]=useState('');const[editStates,setEditStates]=useState({});// Perfil paciente\nconst[showProfileModal,setShowProfileModal]=useState(false);const[profilePhoto,setProfilePhoto]=useState(null);const[newPhotoFile,setNewPhotoFile]=useState(null);useEffect(()=>{// Carga foto de perfil\nconst fetchProfile=async()=>{try{const token=localStorage.getItem('token');const{data}=await axios.get('/api/users/me',{headers:{'x-auth-token':token}});setProfilePhoto(data.photoUrl);}catch{}};fetchProfile();},[]);const handleFileChange=e=>{const file=e.target.files[0];if(file){setNewPhotoFile(file);setProfilePhoto(URL.createObjectURL(file));}};const handleUploadPhoto=async()=>{if(!newPhotoFile)return;const formData=new FormData();formData.append('photo',newPhotoFile);try{const token=localStorage.getItem('token');const{data}=await axios.post('/api/users/me/photo',formData,{headers:{'x-auth-token':token,'Content-Type':'multipart/form-data'}});setProfilePhoto(data.photoUrl);setShowProfileModal(false);}catch(err){console.error(err);}};// Fetch reminders\nuseEffect(()=>{const fetchTasks=async()=>{const token=localStorage.getItem('token');const userId=getUserId();if(!token||!userId)return;try{const{data}=await axios.get('/api/tasks',{headers:{'x-auth-token':token}});const all=Array.isArray(data)?data:[];setTasks(all);const now=Date.now();setExpiredReminders(all.filter(t=>new Date(t.startTime).getTime()<=now).sort((a,b)=>new Date(b.startTime)-new Date(a.startTime)));setUpcoming(all.filter(t=>new Date(t.startTime).getTime()>now).sort((a,b)=>new Date(a.startTime)-new Date(b.startTime)));}catch(err){console.error(err);}};fetchTasks();},[]);// Countdowns\nuseEffect(()=>{if(!upcoming.length)return;const updateCounts=()=>{const now=Date.now();const cnts={};upcoming.forEach(t=>{const diff=new Date(t.startTime).getTime()-now;const d=String(Math.floor(diff/86400000)).padStart(2,'0');const h=String(Math.floor(diff%86400000/3600000)).padStart(2,'0');const m=String(Math.floor(diff%3600000/60000)).padStart(2,'0');const s=String(Math.floor(diff%60000/1000)).padStart(2,'0');cnts[t._id]=diff>0?`${d}:${h}:${m}:${s}`:'00:00:00:00';});setCountdowns(cnts);};updateCounts();timerRef.current=setInterval(updateCounts,1000);return()=>clearInterval(timerRef.current);},[upcoming]);const handleCreate=async()=>{if(!newTitle||!newDateTime)return;const token=localStorage.getItem('token');try{await axios.post('/api/tasks',{title:newTitle,startTime:newDateTime,endTime:newDateTime},{headers:{'x-auth-token':token}});setNewTitle('');setNewDateTime('');setShowCreateModal(false);// refrescarâ€¦\nconst{data}=await axios.get('/api/tasks',{headers:{'x-auth-token':token}});setTasks(data);}catch(err){console.error(err);}};const openManage=()=>{const init={};tasks.forEach(t=>{init[t._id]={title:t.title,datetime:t.startTime.slice(0,16)};});setEditStates(init);setShowManage(true);};const handleEdit=async id=>{const token=localStorage.getItem('token');const{title,datetime}=editStates[id];try{await axios.put(`/api/tasks/${id}`,{title,startTime:datetime,endTime:datetime},{headers:{'x-auth-token':token}});setShowManage(false);}catch(err){console.error(err);}};const handleDelete=async id=>{const token=localStorage.getItem('token');try{await axios.delete(`/api/tasks/${id}`,{headers:{'x-auth-token':token}});setTasks(ts=>ts.filter(t=>t._id!==id));}catch(err){console.error(err);}};const tileContent=_ref=>{let{date,view}=_ref;if(view!=='month')return null;const day=date.toISOString().slice(0,10);const has=upcoming.some(t=>t.startTime.slice(0,10)===day)||expiredReminders.some(t=>t.startTime.slice(0,10)===day);return has?/*#__PURE__*/_jsx(\"div\",{className:\"task-dot\"}):null;};const handleLogout=()=>navigate('/');return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"top-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-section\",children:/*#__PURE__*/_jsx(\"img\",{src:profilePhoto||'/default-avatar.png',alt:\"Perfil\",className:\"user-avatar\",onClick:()=>setShowProfileModal(true)})}),/*#__PURE__*/_jsx(\"div\",{className:\"center-section\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"JANUS\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-wrapper\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bell bell-icon\"}),expiredReminders.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notification-dot\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-sign-out\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Salir\"})]})]})]}),showProfileModal&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile-modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Cambiar Foto de Perfil\"}),profilePhoto&&/*#__PURE__*/_jsx(\"img\",{src:profilePhoto,className:\"profile-pic\",alt:\"Preview\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange,className:\"profile-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleUploadPhoto,disabled:!newPhotoFile,children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowProfileModal(false),children:\"Cancelar\"})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"intro-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\xA1Bienvenido/a a JANUS!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Explora o gestiona tus recordatorios:\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"create-task-btn\",onClick:()=>setShowCreateModal(true),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus\"}),\" A\\xF1adir recordatorio\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"manage-btn\",onClick:openManage,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-cog\"}),\" Gestionar Recordatorios\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-and-calendar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-block\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"option-btn\",onClick:()=>navigate('/messaging'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-comments icon\"}),\" Mensajer\\xEDa\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"option-btn\",onClick:()=>navigate('/time-machine-game'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-clock-o icon\"}),\" M\\xE1quina del Tiempo\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"option-btn\",onClick:()=>navigate('/mi-planeta'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-globe icon\"}),\" Mi Planeta\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"option-btn\",onClick:()=>navigate('/patient/templates'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-folder-open icon\"}),\" Mis Plantillas\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"option-btn\",onClick:()=>navigate('/diario-de-emociones'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-book icon\"}),\" Diario de Emociones\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"calendar-block\",children:/*#__PURE__*/_jsx(Calendar,{onChange:setSelectedDate,value:selectedDate,tileContent:tileContent})})]})]}),showCreateModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Nuevo Recordatorio\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"T\\xEDtulo\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTitle,onChange:e=>setNewTitle(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Fecha y hora\",/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:newDateTime,onChange:e=>setNewDateTime(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowCreateModal(false),children:\"Cancelar\"})]})]})}),showManage&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content manage-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gestionar Recordatorios\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"manage-list\",children:tasks.map(t=>{const{title,datetime}=editStates[t._id]||{};return/*#__PURE__*/_jsxs(\"li\",{className:\"manage-item\",children:[/*#__PURE__*/_jsx(\"input\",{value:title||'',onChange:e=>{setEditStates(es=>({...es,[t._id]:{...es[t._id],title:e.target.value}}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",value:datetime||'',onChange:e=>{setEditStates(es=>({...es,[t._id]:{...es[t._id],datetime:e.target.value}}));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"manage-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(t._id),children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(t._id),children:\"Eliminar\"})]})]},t._id);})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowManage(false),children:\"Cerrar\"})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer-bar\",children:/*#__PURE__*/_jsx(\"p\",{children:\"2025 \\xA9 Iv\\xE1n Vela Campos\"})})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","Calendar","axios","jsx","_jsx","jsxs","_jsxs","decodeJwt","token","b64","split","replace","JSON","parse","atob","getUserId","_payload$user","raw","localStorage","getItem","startsWith","slice","payload","id","sub","user","Home","navigate","selectedDate","setSelectedDate","Date","tasks","setTasks","upcoming","setUpcoming","expiredReminders","setExpiredReminders","countdowns","setCountdowns","timerRef","showCreateModal","setShowCreateModal","showManage","setShowManage","newTitle","setNewTitle","newDateTime","setNewDateTime","editStates","setEditStates","showProfileModal","setShowProfileModal","profilePhoto","setProfilePhoto","newPhotoFile","setNewPhotoFile","fetchProfile","data","get","headers","photoUrl","handleFileChange","e","file","target","files","URL","createObjectURL","handleUploadPhoto","formData","FormData","append","post","err","console","error","fetchTasks","userId","all","Array","isArray","now","filter","t","startTime","getTime","sort","a","b","length","updateCounts","cnts","forEach","diff","d","String","Math","floor","padStart","h","m","s","_id","current","setInterval","clearInterval","handleCreate","title","endTime","openManage","init","datetime","handleEdit","put","handleDelete","delete","ts","tileContent","_ref","date","view","day","toISOString","has","some","className","handleLogout","children","src","alt","onClick","type","accept","onChange","disabled","value","map","es"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/Dashboard.js"],"sourcesContent":["// src/components/Dashboard.js\r\n\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate }                      from 'react-router-dom';\r\nimport Calendar                              from 'react-calendar';\r\nimport axios                                 from 'axios';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport '../styles/home.css';\r\nimport '../styles/taskPlanner.css';\r\n\r\n// Decodifica JWT\r\nfunction decodeJwt(token) {\r\n  try {\r\n    const b64 = token.split('.')[1].replace(/-/g,'+').replace(/_/g,'/');\r\n    return JSON.parse(atob(b64));\r\n  } catch { return null; }\r\n}\r\nfunction getUserId() {\r\n  const raw = localStorage.getItem('token');\r\n  if (!raw) return null;\r\n  const token  = raw.startsWith('Bearer ') ? raw.slice(7) : raw;\r\n  const payload = decodeJwt(token);\r\n  return payload?.id || payload?.sub || payload?.user?.id || null;\r\n}\r\n\r\nexport default function Home() {\r\n  const navigate = useNavigate();\r\n\r\n  // Calendario y recordatorios\r\n  const [selectedDate, setSelectedDate]     = useState(new Date());\r\n  const [tasks, setTasks]                   = useState([]);\r\n  const [upcoming, setUpcoming]             = useState([]);\r\n  const [expiredReminders, setExpiredReminders] = useState([]);\r\n  const [countdowns, setCountdowns]         = useState({});\r\n  const timerRef = useRef();\r\n\r\n  // Modals\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showManage, setShowManage]           = useState(false);\r\n  const [newTitle, setNewTitle]               = useState('');\r\n  const [newDateTime, setNewDateTime]         = useState('');\r\n  const [editStates, setEditStates]           = useState({});\r\n\r\n  // Perfil paciente\r\n  const [showProfileModal, setShowProfileModal] = useState(false);\r\n  const [profilePhoto, setProfilePhoto]         = useState(null);\r\n  const [newPhotoFile, setNewPhotoFile]         = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Carga foto de perfil\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const { data } = await axios.get('/api/users/me', {\r\n          headers: { 'x-auth-token': token }\r\n        });\r\n        setProfilePhoto(data.photoUrl);\r\n      } catch {}\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const handleFileChange = e => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setNewPhotoFile(file);\r\n      setProfilePhoto(URL.createObjectURL(file));\r\n    }\r\n  };\r\n  const handleUploadPhoto = async () => {\r\n    if (!newPhotoFile) return;\r\n    const formData = new FormData();\r\n    formData.append('photo', newPhotoFile);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const { data } = await axios.post('/api/users/me/photo', formData, {\r\n        headers: {\r\n          'x-auth-token': token,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      setProfilePhoto(data.photoUrl);\r\n      setShowProfileModal(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Fetch reminders\r\n  useEffect(() => {\r\n    const fetchTasks = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const userId = getUserId();\r\n      if (!token || !userId) return;\r\n      try {\r\n        const { data } = await axios.get('/api/tasks', {\r\n          headers: { 'x-auth-token': token }\r\n        });\r\n        const all = Array.isArray(data) ? data : [];\r\n        setTasks(all);\r\n        const now = Date.now();\r\n        setExpiredReminders(\r\n          all.filter(t => new Date(t.startTime).getTime() <= now)\r\n             .sort((a,b) => new Date(b.startTime) - new Date(a.startTime))\r\n        );\r\n        setUpcoming(\r\n          all.filter(t => new Date(t.startTime).getTime() > now)\r\n             .sort((a,b) => new Date(a.startTime) - new Date(b.startTime))\r\n        );\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  // Countdowns\r\n  useEffect(() => {\r\n    if (!upcoming.length) return;\r\n    const updateCounts = () => {\r\n      const now = Date.now();\r\n      const cnts = {};\r\n      upcoming.forEach(t => {\r\n        const diff = new Date(t.startTime).getTime() - now;\r\n        const d = String(Math.floor(diff/86400000)).padStart(2,'0');\r\n        const h = String(Math.floor((diff%86400000)/3600000)).padStart(2,'0');\r\n        const m = String(Math.floor((diff%3600000)/60000)).padStart(2,'0');\r\n        const s = String(Math.floor((diff%60000)/1000)).padStart(2,'0');\r\n        cnts[t._id] = diff>0 ? `${d}:${h}:${m}:${s}` : '00:00:00:00';\r\n      });\r\n      setCountdowns(cnts);\r\n    };\r\n    updateCounts();\r\n    timerRef.current = setInterval(updateCounts, 1000);\r\n    return () => clearInterval(timerRef.current);\r\n  }, [upcoming]);\r\n\r\n  const handleCreate = async () => {\r\n    if (!newTitle || !newDateTime) return;\r\n    const token = localStorage.getItem('token');\r\n    try {\r\n      await axios.post('/api/tasks', {\r\n        title: newTitle,\r\n        startTime: newDateTime,\r\n        endTime: newDateTime\r\n      }, {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setNewTitle(''); setNewDateTime(''); setShowCreateModal(false);\r\n      // refrescarâ€¦\r\n      const { data } = await axios.get('/api/tasks', {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setTasks(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const openManage = () => {\r\n    const init = {};\r\n    tasks.forEach(t => {\r\n      init[t._id] = { title: t.title, datetime: t.startTime.slice(0,16) };\r\n    });\r\n    setEditStates(init);\r\n    setShowManage(true);\r\n  };\r\n  const handleEdit = async id => {\r\n    const token = localStorage.getItem('token');\r\n    const { title, datetime } = editStates[id];\r\n    try {\r\n      await axios.put(`/api/tasks/${id}`, {\r\n        title,\r\n        startTime: datetime,\r\n        endTime: datetime\r\n      }, {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setShowManage(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n  const handleDelete = async id => {\r\n    const token = localStorage.getItem('token');\r\n    try {\r\n      await axios.delete(`/api/tasks/${id}`, {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setTasks(ts => ts.filter(t => t._id !== id));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const tileContent = ({ date, view }) => {\r\n    if (view !== 'month') return null;\r\n    const day = date.toISOString().slice(0,10);\r\n    const has = upcoming.some(t=>t.startTime.slice(0,10)===day) ||\r\n                expiredReminders.some(t=>t.startTime.slice(0,10)===day);\r\n    return has ? <div className=\"task-dot\" /> : null;\r\n  };\r\n\r\n  const handleLogout = () => navigate('/');\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <header className=\"top-bar\">\r\n        <div className=\"left-section\">\r\n          <img\r\n            src={profilePhoto || '/default-avatar.png'}\r\n            alt=\"Perfil\"\r\n            className=\"user-avatar\"\r\n            onClick={() => setShowProfileModal(true)}\r\n          />\r\n        </div>\r\n        <div className=\"center-section\">\r\n          <h1 className=\"title\">JANUS</h1>\r\n        </div>\r\n        <div className=\"right-section\">\r\n          <div className=\"notification-wrapper\">\r\n            <i className=\"fa fa-bell bell-icon\" />\r\n            {expiredReminders.length>0 && <span className=\"notification-dot\" />}\r\n          </div>\r\n          <button className=\"logout-btn\" onClick={handleLogout}>\r\n            <i className=\"fa fa-sign-out\" /><span>Salir</span>\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Modal: cambiar foto */}\r\n      {showProfileModal && (\r\n        <div className=\"profile-modal-overlay\">\r\n          <div className=\"profile-modal-content\">\r\n            <h2>Cambiar Foto de Perfil</h2>\r\n            {profilePhoto && (\r\n              <img src={profilePhoto} className=\"profile-pic\" alt=\"Preview\" />\r\n            )}\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={handleFileChange}\r\n              className=\"profile-input\"\r\n            />\r\n            <div className=\"profile-buttons\">\r\n              <button onClick={handleUploadPhoto} disabled={!newPhotoFile}>\r\n                Guardar\r\n              </button>\r\n              <button onClick={() => setShowProfileModal(false)}>\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/** notification panel omitted for brevity **/}\r\n\r\n      <main className=\"main-content\">\r\n        <section className=\"intro-section\">\r\n          <h2>Â¡Bienvenido/a a JANUS!</h2>\r\n          <p>Explora o gestiona tus recordatorios:</p>\r\n          <button className=\"create-task-btn\" onClick={()=>setShowCreateModal(true)}>\r\n            <i className=\"fa fa-plus\" /> AÃ±adir recordatorio\r\n          </button>\r\n          <button className=\"manage-btn\" onClick={openManage}>\r\n            <i className=\"fa fa-cog\" /> Gestionar Recordatorios\r\n          </button>\r\n        </section>\r\n\r\n        <div className=\"buttons-and-calendar\">\r\n          <div className=\"buttons-block\">\r\n            <button className=\"option-btn\" onClick={()=>navigate('/messaging')}>\r\n              <i className=\"fa fa-comments icon\" /> MensajerÃ­a\r\n            </button>\r\n            <button className=\"option-btn\" onClick={()=>navigate('/time-machine-game')}>\r\n              <i className=\"fa fa-clock-o icon\" /> MÃ¡quina del Tiempo\r\n            </button>\r\n            <button className=\"option-btn\" onClick={()=>navigate('/mi-planeta')}>\r\n              <i className=\"fa fa-globe icon\" /> Mi Planeta\r\n            </button>\r\n            <button className=\"option-btn\" onClick={()=>navigate('/patient/templates')}>\r\n              <i className=\"fa fa-folder-open icon\" /> Mis Plantillas\r\n            </button>\r\n            <button className=\"option-btn\" onClick={()=>navigate('/diario-de-emociones')}>\r\n              <i className=\"fa fa-book icon\" /> Diario de Emociones\r\n            </button>\r\n          </div>\r\n          <div className=\"calendar-block\">\r\n            <Calendar\r\n              onChange={setSelectedDate}\r\n              value={selectedDate}\r\n              tileContent={tileContent}\r\n            />\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Crear recordatorio modal */}\r\n      {showCreateModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content\">\r\n            <h2>Nuevo Recordatorio</h2>\r\n            <label>\r\n              TÃ­tulo\r\n              <input\r\n                type=\"text\"\r\n                value={newTitle}\r\n                onChange={e=>setNewTitle(e.target.value)}\r\n              />\r\n            </label>\r\n            <label>\r\n              Fecha y hora\r\n              <input\r\n                type=\"datetime-local\"\r\n                value={newDateTime}\r\n                onChange={e=>setNewDateTime(e.target.value)}\r\n              />\r\n            </label>\r\n            <div className=\"modal-buttons\">\r\n              <button onClick={handleCreate}>Guardar</button>\r\n              <button onClick={()=>setShowCreateModal(false)}>Cancelar</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Gestionar recordatorios modal */}\r\n      {showManage && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal-content manage-content\">\r\n            <h2>Gestionar Recordatorios</h2>\r\n            <ul className=\"manage-list\">\r\n              {tasks.map(t => {\r\n                const { title, datetime } = editStates[t._id]||{};\r\n                return (\r\n                  <li key={t._id} className=\"manage-item\">\r\n                    <input\r\n                      value={title||''}\r\n                      onChange={e=>{\r\n                        setEditStates(es=>({\r\n                          ...es,\r\n                          [t._id]: { ...es[t._id], title: e.target.value }\r\n                        }));\r\n                      }}\r\n                    />\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={datetime||''}\r\n                      onChange={e=>{\r\n                        setEditStates(es=>({\r\n                          ...es,\r\n                          [t._id]: { ...es[t._id], datetime: e.target.value }\r\n                        }));\r\n                      }}\r\n                    />\r\n                    <div className=\"manage-actions\">\r\n                      <button onClick={()=>handleEdit(t._id)}>Guardar</button>\r\n                      <button onClick={()=>handleDelete(t._id)}>Eliminar</button>\r\n                    </div>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n            <button onClick={()=>setShowManage(false)}>Cerrar</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <footer className=\"footer-bar\">\r\n        <p>2025 Â© IvÃ¡n Vela Campos</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,WAAW,KAA6B,kBAAkB,CACnE,MAAO,CAAAC,QAAQ,KAAmC,gBAAgB,CAClE,MAAO,CAAAC,KAAK,KAAsC,OAAO,CACzD,MAAO,kCAAkC,CACzC,MAAO,oBAAoB,CAC3B,MAAO,2BAA2B,CAElC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,QAAS,CAAAC,SAASA,CAACC,KAAK,CAAE,CACxB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CACnE,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACL,GAAG,CAAC,CAAC,CAC9B,CAAE,KAAM,CAAE,MAAO,KAAI,CAAE,CACzB,CACA,QAAS,CAAAM,SAASA,CAAA,CAAG,KAAAC,aAAA,CACnB,KAAM,CAAAC,GAAG,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACzC,GAAI,CAACF,GAAG,CAAE,MAAO,KAAI,CACrB,KAAM,CAAAT,KAAK,CAAIS,GAAG,CAACG,UAAU,CAAC,SAAS,CAAC,CAAGH,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC,CAAGJ,GAAG,CAC7D,KAAM,CAAAK,OAAO,CAAGf,SAAS,CAACC,KAAK,CAAC,CAChC,MAAO,CAAAc,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEC,EAAE,IAAID,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEE,GAAG,IAAIF,OAAO,SAAPA,OAAO,kBAAAN,aAAA,CAAPM,OAAO,CAAEG,IAAI,UAAAT,aAAA,iBAAbA,aAAA,CAAeO,EAAE,GAAI,IAAI,CACjE,CAEA,cAAe,SAAS,CAAAG,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAAAC,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAC4B,YAAY,CAAEC,eAAe,CAAC,CAAOhC,QAAQ,CAAC,GAAI,CAAAiC,IAAI,CAAC,CAAC,CAAC,CAChE,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAqBnC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACoC,QAAQ,CAAEC,WAAW,CAAC,CAAerC,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACsC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACwC,UAAU,CAAEC,aAAa,CAAC,CAAWzC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxD,KAAM,CAAA0C,QAAQ,CAAGxC,MAAM,CAAC,CAAC,CAEzB;AACA,KAAM,CAACyC,eAAe,CAAEC,kBAAkB,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC6C,UAAU,CAAEC,aAAa,CAAC,CAAa9C,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC+C,QAAQ,CAAEC,WAAW,CAAC,CAAiBhD,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACiD,WAAW,CAAEC,cAAc,CAAC,CAAWlD,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACmD,UAAU,CAAEC,aAAa,CAAC,CAAapD,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1D;AACA,KAAM,CAACqD,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtD,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACuD,YAAY,CAAEC,eAAe,CAAC,CAAWxD,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACyD,YAAY,CAAEC,eAAe,CAAC,CAAW1D,QAAQ,CAAC,IAAI,CAAC,CAE9DC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAA0D,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAhD,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAEsC,IAAK,CAAC,CAAG,KAAM,CAAAvD,KAAK,CAACwD,GAAG,CAAC,eAAe,CAAE,CAChDC,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACF6C,eAAe,CAACI,IAAI,CAACG,QAAQ,CAAC,CAChC,CAAE,KAAM,CAAC,CACX,CAAC,CACDJ,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,gBAAgB,CAAGC,CAAC,EAAI,CAC5B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAIF,IAAI,CAAE,CACRR,eAAe,CAACQ,IAAI,CAAC,CACrBV,eAAe,CAACa,GAAG,CAACC,eAAe,CAACJ,IAAI,CAAC,CAAC,CAC5C,CACF,CAAC,CACD,KAAM,CAAAK,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAACd,YAAY,CAAE,OACnB,KAAM,CAAAe,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEjB,YAAY,CAAC,CACtC,GAAI,CACF,KAAM,CAAA9C,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAEsC,IAAK,CAAC,CAAG,KAAM,CAAAvD,KAAK,CAACsE,IAAI,CAAC,qBAAqB,CAAEH,QAAQ,CAAE,CACjEV,OAAO,CAAE,CACP,cAAc,CAAEnD,KAAK,CACrB,cAAc,CAAE,qBAClB,CACF,CAAC,CAAC,CACF6C,eAAe,CAACI,IAAI,CAACG,QAAQ,CAAC,CAC9BT,mBAAmB,CAAC,KAAK,CAAC,CAC5B,CAAE,MAAOsB,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED;AACA3E,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8E,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAApE,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAA0D,MAAM,CAAG9D,SAAS,CAAC,CAAC,CAC1B,GAAI,CAACP,KAAK,EAAI,CAACqE,MAAM,CAAE,OACvB,GAAI,CACF,KAAM,CAAEpB,IAAK,CAAC,CAAG,KAAM,CAAAvD,KAAK,CAACwD,GAAG,CAAC,YAAY,CAAE,CAC7CC,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACF,KAAM,CAAAsE,GAAG,CAAGC,KAAK,CAACC,OAAO,CAACvB,IAAI,CAAC,CAAGA,IAAI,CAAG,EAAE,CAC3CzB,QAAQ,CAAC8C,GAAG,CAAC,CACb,KAAM,CAAAG,GAAG,CAAGnD,IAAI,CAACmD,GAAG,CAAC,CAAC,CACtB7C,mBAAmB,CACjB0C,GAAG,CAACI,MAAM,CAACC,CAAC,EAAI,GAAI,CAAArD,IAAI,CAACqD,CAAC,CAACC,SAAS,CAAC,CAACC,OAAO,CAAC,CAAC,EAAIJ,GAAG,CAAC,CACnDK,IAAI,CAAC,CAACC,CAAC,CAACC,CAAC,GAAK,GAAI,CAAA1D,IAAI,CAAC0D,CAAC,CAACJ,SAAS,CAAC,CAAG,GAAI,CAAAtD,IAAI,CAACyD,CAAC,CAACH,SAAS,CAAC,CACjE,CAAC,CACDlD,WAAW,CACT4C,GAAG,CAACI,MAAM,CAACC,CAAC,EAAI,GAAI,CAAArD,IAAI,CAACqD,CAAC,CAACC,SAAS,CAAC,CAACC,OAAO,CAAC,CAAC,CAAGJ,GAAG,CAAC,CAClDK,IAAI,CAAC,CAACC,CAAC,CAACC,CAAC,GAAK,GAAI,CAAA1D,IAAI,CAACyD,CAAC,CAACH,SAAS,CAAC,CAAG,GAAI,CAAAtD,IAAI,CAAC0D,CAAC,CAACJ,SAAS,CAAC,CACjE,CAAC,CACH,CAAE,MAAOX,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CACDG,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN;AACA9E,SAAS,CAAC,IAAM,CACd,GAAI,CAACmC,QAAQ,CAACwD,MAAM,CAAE,OACtB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAT,GAAG,CAAGnD,IAAI,CAACmD,GAAG,CAAC,CAAC,CACtB,KAAM,CAAAU,IAAI,CAAG,CAAC,CAAC,CACf1D,QAAQ,CAAC2D,OAAO,CAACT,CAAC,EAAI,CACpB,KAAM,CAAAU,IAAI,CAAG,GAAI,CAAA/D,IAAI,CAACqD,CAAC,CAACC,SAAS,CAAC,CAACC,OAAO,CAAC,CAAC,CAAGJ,GAAG,CAClD,KAAM,CAAAa,CAAC,CAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC,QAAQ,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAC3D,KAAM,CAAAC,CAAC,CAAGJ,MAAM,CAACC,IAAI,CAACC,KAAK,CAAEJ,IAAI,CAAC,QAAQ,CAAE,OAAO,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CACrE,KAAM,CAAAE,CAAC,CAAGL,MAAM,CAACC,IAAI,CAACC,KAAK,CAAEJ,IAAI,CAAC,OAAO,CAAE,KAAK,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAClE,KAAM,CAAAG,CAAC,CAAGN,MAAM,CAACC,IAAI,CAACC,KAAK,CAAEJ,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAC/DP,IAAI,CAACR,CAAC,CAACmB,GAAG,CAAC,CAAGT,IAAI,CAAC,CAAC,CAAG,GAAGC,CAAC,IAAIK,CAAC,IAAIC,CAAC,IAAIC,CAAC,EAAE,CAAG,aAAa,CAC9D,CAAC,CAAC,CACF/D,aAAa,CAACqD,IAAI,CAAC,CACrB,CAAC,CACDD,YAAY,CAAC,CAAC,CACdnD,QAAQ,CAACgE,OAAO,CAAGC,WAAW,CAACd,YAAY,CAAE,IAAI,CAAC,CAClD,MAAO,IAAMe,aAAa,CAAClE,QAAQ,CAACgE,OAAO,CAAC,CAC9C,CAAC,CAAE,CAACtE,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAyE,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAAC9D,QAAQ,EAAI,CAACE,WAAW,CAAE,OAC/B,KAAM,CAAAtC,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CACF,KAAM,CAAAjB,KAAK,CAACsE,IAAI,CAAC,YAAY,CAAE,CAC7BmC,KAAK,CAAE/D,QAAQ,CACfwC,SAAS,CAAEtC,WAAW,CACtB8D,OAAO,CAAE9D,WACX,CAAC,CAAE,CACDa,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACFqC,WAAW,CAAC,EAAE,CAAC,CAAEE,cAAc,CAAC,EAAE,CAAC,CAAEN,kBAAkB,CAAC,KAAK,CAAC,CAC9D;AACA,KAAM,CAAEgB,IAAK,CAAC,CAAG,KAAM,CAAAvD,KAAK,CAACwD,GAAG,CAAC,YAAY,CAAE,CAC7CC,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACFwB,QAAQ,CAACyB,IAAI,CAAC,CAChB,CAAE,MAAOgB,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAoC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAAAC,IAAI,CAAG,CAAC,CAAC,CACf/E,KAAK,CAAC6D,OAAO,CAACT,CAAC,EAAI,CACjB2B,IAAI,CAAC3B,CAAC,CAACmB,GAAG,CAAC,CAAG,CAAEK,KAAK,CAAExB,CAAC,CAACwB,KAAK,CAAEI,QAAQ,CAAE5B,CAAC,CAACC,SAAS,CAAC/D,KAAK,CAAC,CAAC,CAAC,EAAE,CAAE,CAAC,CACrE,CAAC,CAAC,CACF4B,aAAa,CAAC6D,IAAI,CAAC,CACnBnE,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CACD,KAAM,CAAAqE,UAAU,CAAG,KAAM,CAAAzF,EAAE,EAAI,CAC7B,KAAM,CAAAf,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAEwF,KAAK,CAAEI,QAAS,CAAC,CAAG/D,UAAU,CAACzB,EAAE,CAAC,CAC1C,GAAI,CACF,KAAM,CAAArB,KAAK,CAAC+G,GAAG,CAAC,cAAc1F,EAAE,EAAE,CAAE,CAClCoF,KAAK,CACLvB,SAAS,CAAE2B,QAAQ,CACnBH,OAAO,CAAEG,QACX,CAAC,CAAE,CACDpD,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACFmC,aAAa,CAAC,KAAK,CAAC,CACtB,CAAE,MAAO8B,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CACD,KAAM,CAAAyC,YAAY,CAAG,KAAM,CAAA3F,EAAE,EAAI,CAC/B,KAAM,CAAAf,KAAK,CAAGU,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CACF,KAAM,CAAAjB,KAAK,CAACiH,MAAM,CAAC,cAAc5F,EAAE,EAAE,CAAE,CACrCoC,OAAO,CAAE,CAAE,cAAc,CAAEnD,KAAM,CACnC,CAAC,CAAC,CACFwB,QAAQ,CAACoF,EAAE,EAAIA,EAAE,CAAClC,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACmB,GAAG,GAAK/E,EAAE,CAAC,CAAC,CAC9C,CAAE,MAAOkD,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAA4C,WAAW,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,IAAI,CAAEC,IAAK,CAAC,CAAAF,IAAA,CACjC,GAAIE,IAAI,GAAK,OAAO,CAAE,MAAO,KAAI,CACjC,KAAM,CAAAC,GAAG,CAAGF,IAAI,CAACG,WAAW,CAAC,CAAC,CAACrG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAsG,GAAG,CAAG1F,QAAQ,CAAC2F,IAAI,CAACzC,CAAC,EAAEA,CAAC,CAACC,SAAS,CAAC/D,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAGoG,GAAG,CAAC,EAC/CtF,gBAAgB,CAACyF,IAAI,CAACzC,CAAC,EAAEA,CAAC,CAACC,SAAS,CAAC/D,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAGoG,GAAG,CAAC,CACnE,MAAO,CAAAE,GAAG,cAAGvH,IAAA,QAAKyH,SAAS,CAAC,UAAU,CAAE,CAAC,CAAG,IAAI,CAClD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAMnG,QAAQ,CAAC,GAAG,CAAC,CAExC,mBACErB,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7BzH,KAAA,WAAQuH,SAAS,CAAC,SAAS,CAAAE,QAAA,eACzB3H,IAAA,QAAKyH,SAAS,CAAC,cAAc,CAAAE,QAAA,cAC3B3H,IAAA,QACE4H,GAAG,CAAE5E,YAAY,EAAI,qBAAsB,CAC3C6E,GAAG,CAAC,QAAQ,CACZJ,SAAS,CAAC,aAAa,CACvBK,OAAO,CAAEA,CAAA,GAAM/E,mBAAmB,CAAC,IAAI,CAAE,CAC1C,CAAC,CACC,CAAC,cACN/C,IAAA,QAAKyH,SAAS,CAAC,gBAAgB,CAAAE,QAAA,cAC7B3H,IAAA,OAAIyH,SAAS,CAAC,OAAO,CAAAE,QAAA,CAAC,OAAK,CAAI,CAAC,CAC7B,CAAC,cACNzH,KAAA,QAAKuH,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BzH,KAAA,QAAKuH,SAAS,CAAC,sBAAsB,CAAAE,QAAA,eACnC3H,IAAA,MAAGyH,SAAS,CAAC,sBAAsB,CAAE,CAAC,CACrC1F,gBAAgB,CAACsD,MAAM,CAAC,CAAC,eAAIrF,IAAA,SAAMyH,SAAS,CAAC,kBAAkB,CAAE,CAAC,EAChE,CAAC,cACNvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEJ,YAAa,CAAAC,QAAA,eACnD3H,IAAA,MAAGyH,SAAS,CAAC,gBAAgB,CAAE,CAAC,cAAAzH,IAAA,SAAA2H,QAAA,CAAM,OAAK,CAAM,CAAC,EAC5C,CAAC,EACN,CAAC,EACA,CAAC,CAGR7E,gBAAgB,eACf9C,IAAA,QAAKyH,SAAS,CAAC,uBAAuB,CAAAE,QAAA,cACpCzH,KAAA,QAAKuH,SAAS,CAAC,uBAAuB,CAAAE,QAAA,eACpC3H,IAAA,OAAA2H,QAAA,CAAI,wBAAsB,CAAI,CAAC,CAC9B3E,YAAY,eACXhD,IAAA,QAAK4H,GAAG,CAAE5E,YAAa,CAACyE,SAAS,CAAC,aAAa,CAACI,GAAG,CAAC,SAAS,CAAE,CAChE,cACD7H,IAAA,UACE+H,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,SAAS,CAChBC,QAAQ,CAAExE,gBAAiB,CAC3BgE,SAAS,CAAC,eAAe,CAC1B,CAAC,cACFvH,KAAA,QAAKuH,SAAS,CAAC,iBAAiB,CAAAE,QAAA,eAC9B3H,IAAA,WAAQ8H,OAAO,CAAE9D,iBAAkB,CAACkE,QAAQ,CAAE,CAAChF,YAAa,CAAAyE,QAAA,CAAC,SAE7D,CAAQ,CAAC,cACT3H,IAAA,WAAQ8H,OAAO,CAAEA,CAAA,GAAM/E,mBAAmB,CAAC,KAAK,CAAE,CAAA4E,QAAA,CAAC,UAEnD,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,cAIDzH,KAAA,SAAMuH,SAAS,CAAC,cAAc,CAAAE,QAAA,eAC5BzH,KAAA,YAASuH,SAAS,CAAC,eAAe,CAAAE,QAAA,eAChC3H,IAAA,OAAA2H,QAAA,CAAI,2BAAsB,CAAI,CAAC,cAC/B3H,IAAA,MAAA2H,QAAA,CAAG,uCAAqC,CAAG,CAAC,cAC5CzH,KAAA,WAAQuH,SAAS,CAAC,iBAAiB,CAACK,OAAO,CAAEA,CAAA,GAAIzF,kBAAkB,CAAC,IAAI,CAAE,CAAAsF,QAAA,eACxE3H,IAAA,MAAGyH,SAAS,CAAC,YAAY,CAAE,CAAC,0BAC9B,EAAQ,CAAC,cACTvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAErB,UAAW,CAAAkB,QAAA,eACjD3H,IAAA,MAAGyH,SAAS,CAAC,WAAW,CAAE,CAAC,2BAC7B,EAAQ,CAAC,EACF,CAAC,cAEVvH,KAAA,QAAKuH,SAAS,CAAC,sBAAsB,CAAAE,QAAA,eACnCzH,KAAA,QAAKuH,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5BzH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIvG,QAAQ,CAAC,YAAY,CAAE,CAAAoG,QAAA,eACjE3H,IAAA,MAAGyH,SAAS,CAAC,qBAAqB,CAAE,CAAC,iBACvC,EAAQ,CAAC,cACTvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIvG,QAAQ,CAAC,oBAAoB,CAAE,CAAAoG,QAAA,eACzE3H,IAAA,MAAGyH,SAAS,CAAC,oBAAoB,CAAE,CAAC,yBACtC,EAAQ,CAAC,cACTvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIvG,QAAQ,CAAC,aAAa,CAAE,CAAAoG,QAAA,eAClE3H,IAAA,MAAGyH,SAAS,CAAC,kBAAkB,CAAE,CAAC,cACpC,EAAQ,CAAC,cACTvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIvG,QAAQ,CAAC,oBAAoB,CAAE,CAAAoG,QAAA,eACzE3H,IAAA,MAAGyH,SAAS,CAAC,wBAAwB,CAAE,CAAC,kBAC1C,EAAQ,CAAC,cACTvH,KAAA,WAAQuH,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIvG,QAAQ,CAAC,sBAAsB,CAAE,CAAAoG,QAAA,eAC3E3H,IAAA,MAAGyH,SAAS,CAAC,iBAAiB,CAAE,CAAC,uBACnC,EAAQ,CAAC,EACN,CAAC,cACNzH,IAAA,QAAKyH,SAAS,CAAC,gBAAgB,CAAAE,QAAA,cAC7B3H,IAAA,CAACH,QAAQ,EACPoI,QAAQ,CAAExG,eAAgB,CAC1B0G,KAAK,CAAE3G,YAAa,CACpByF,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,EACH,CAAC,EACF,CAAC,CAGN7E,eAAe,eACdpC,IAAA,QAAKyH,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BzH,KAAA,QAAKuH,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5B3H,IAAA,OAAA2H,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3BzH,KAAA,UAAAyH,QAAA,EAAO,WAEL,cAAA3H,IAAA,UACE+H,IAAI,CAAC,MAAM,CACXI,KAAK,CAAE3F,QAAS,CAChByF,QAAQ,CAAEvE,CAAC,EAAEjB,WAAW,CAACiB,CAAC,CAACE,MAAM,CAACuE,KAAK,CAAE,CAC1C,CAAC,EACG,CAAC,cACRjI,KAAA,UAAAyH,QAAA,EAAO,cAEL,cAAA3H,IAAA,UACE+H,IAAI,CAAC,gBAAgB,CACrBI,KAAK,CAAEzF,WAAY,CACnBuF,QAAQ,CAAEvE,CAAC,EAAEf,cAAc,CAACe,CAAC,CAACE,MAAM,CAACuE,KAAK,CAAE,CAC7C,CAAC,EACG,CAAC,cACRjI,KAAA,QAAKuH,SAAS,CAAC,eAAe,CAAAE,QAAA,eAC5B3H,IAAA,WAAQ8H,OAAO,CAAExB,YAAa,CAAAqB,QAAA,CAAC,SAAO,CAAQ,CAAC,cAC/C3H,IAAA,WAAQ8H,OAAO,CAAEA,CAAA,GAAIzF,kBAAkB,CAAC,KAAK,CAAE,CAAAsF,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAC9D,CAAC,EACH,CAAC,CACH,CACN,CAGArF,UAAU,eACTtC,IAAA,QAAKyH,SAAS,CAAC,eAAe,CAAAE,QAAA,cAC5BzH,KAAA,QAAKuH,SAAS,CAAC,8BAA8B,CAAAE,QAAA,eAC3C3H,IAAA,OAAA2H,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAChC3H,IAAA,OAAIyH,SAAS,CAAC,aAAa,CAAAE,QAAA,CACxBhG,KAAK,CAACyG,GAAG,CAACrD,CAAC,EAAI,CACd,KAAM,CAAEwB,KAAK,CAAEI,QAAS,CAAC,CAAG/D,UAAU,CAACmC,CAAC,CAACmB,GAAG,CAAC,EAAE,CAAC,CAAC,CACjD,mBACEhG,KAAA,OAAgBuH,SAAS,CAAC,aAAa,CAAAE,QAAA,eACrC3H,IAAA,UACEmI,KAAK,CAAE5B,KAAK,EAAE,EAAG,CACjB0B,QAAQ,CAAEvE,CAAC,EAAE,CACXb,aAAa,CAACwF,EAAE,GAAG,CACjB,GAAGA,EAAE,CACL,CAACtD,CAAC,CAACmB,GAAG,EAAG,CAAE,GAAGmC,EAAE,CAACtD,CAAC,CAACmB,GAAG,CAAC,CAAEK,KAAK,CAAE7C,CAAC,CAACE,MAAM,CAACuE,KAAM,CACjD,CAAC,CAAC,CAAC,CACL,CAAE,CACH,CAAC,cACFnI,IAAA,UACE+H,IAAI,CAAC,gBAAgB,CACrBI,KAAK,CAAExB,QAAQ,EAAE,EAAG,CACpBsB,QAAQ,CAAEvE,CAAC,EAAE,CACXb,aAAa,CAACwF,EAAE,GAAG,CACjB,GAAGA,EAAE,CACL,CAACtD,CAAC,CAACmB,GAAG,EAAG,CAAE,GAAGmC,EAAE,CAACtD,CAAC,CAACmB,GAAG,CAAC,CAAES,QAAQ,CAAEjD,CAAC,CAACE,MAAM,CAACuE,KAAM,CACpD,CAAC,CAAC,CAAC,CACL,CAAE,CACH,CAAC,cACFjI,KAAA,QAAKuH,SAAS,CAAC,gBAAgB,CAAAE,QAAA,eAC7B3H,IAAA,WAAQ8H,OAAO,CAAEA,CAAA,GAAIlB,UAAU,CAAC7B,CAAC,CAACmB,GAAG,CAAE,CAAAyB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxD3H,IAAA,WAAQ8H,OAAO,CAAEA,CAAA,GAAIhB,YAAY,CAAC/B,CAAC,CAACmB,GAAG,CAAE,CAAAyB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACxD,CAAC,GAvBC5C,CAAC,CAACmB,GAwBP,CAAC,CAET,CAAC,CAAC,CACA,CAAC,cACLlG,IAAA,WAAQ8H,OAAO,CAAEA,CAAA,GAAIvF,aAAa,CAAC,KAAK,CAAE,CAAAoF,QAAA,CAAC,QAAM,CAAQ,CAAC,EACvD,CAAC,CACH,CACN,cAED3H,IAAA,WAAQyH,SAAS,CAAC,YAAY,CAAAE,QAAA,cAC5B3H,IAAA,MAAA2H,QAAA,CAAG,+BAAuB,CAAG,CAAC,CACxB,CAAC,EACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}