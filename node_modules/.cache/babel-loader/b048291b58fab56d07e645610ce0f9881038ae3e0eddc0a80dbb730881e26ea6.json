{"ast":null,"code":"// src/components/PatientRoutines.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{PieChart,Pie,Cell,Tooltip,BarChart,Bar,XAxis,YAxis,CartesianGrid,ResponsiveContainer,RadialBarChart,RadialBar,Legend}from'recharts';import'../styles/therapistRoutines.css';// Map activityId ➔ new categories (in lowercase)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categoryMap={futbol:'juego y tiempo libre',dibujos:'juego y tiempo libre',comics:'juego y tiempo libre',tarea:'actividades escolares',videojuegos:'juego y tiempo libre',helado:'juego y tiempo libre',parque:'participación comunitaria',banio:'cuidado personal',dormir:'descanso y sueño',musica:'juego y tiempo libre',bailar:'juego y tiempo libre',amigos:'participación comunitaria',bicicleta:'juego y tiempo libre',dibujar:'juego y tiempo libre',mascotas:'participación comunitaria',experimentos:'actividades escolares',cantar:'juego y tiempo libre',lego:'juego y tiempo libre',nadar:'cuidado personal',computadora:'juego y tiempo libre'};const CATEGORIES=['cuidado personal','actividades escolares','juego y tiempo libre','participación comunitaria','descanso y sueño'];function computeEntropy(distribution){// distribution as array of {value: percent}\nconst probs=distribution.map(d=>d.value/100).filter(p=>p>0);const H=-probs.reduce((sum,p)=>sum+p*Math.log2(p),0);const Hmax=Math.log2(probs.length)||1;return+(H/Hmax*100).toFixed(1);}function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);const[from,setFrom]=useState('');const[to,setTo]=useState('');useEffect(()=>{async function fetchResults(){const token=localStorage.getItem('token');const{data}=await axios.get(`/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}});setResults(data);const now=new Date();const weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}fetchResults();},[patientId]);useEffect(()=>{if(!from||!to)return;const f=new Date(from),t=new Date(to);t.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=f&&d<=t;}));},[results,from,to]);useEffect(()=>{setSelected(filtered.length?filtered[0].createdAt:null);},[filtered]);useEffect(()=>{if(!selected)return;const res=filtered.find(r=>r.createdAt===selected);if(!res)return;const acts=res.timeSlots.flatMap(s=>s.activities.map(a=>({...a,slot:s.slot})));const totalMin=acts.reduce((sum,a)=>sum+a.duration,0)||1;// Aggregate per category\nconst catSum={};acts.forEach(a=>{const cat=categoryMap[a.activityId]||'otros';catSum[cat]=(catSum[cat]||0)+a.duration;});const distribution=CATEGORIES.map(cat=>({name:cat,value:+((catSum[cat]||0)/totalMin*100).toFixed(1)}));const hours=CATEGORIES.map(cat=>({name:cat,hours:+((catSum[cat]||0)/60).toFixed(2)}));// Additional metrics\nconst sleepHours=hours.find(h=>h.name==='descanso y sueño').hours;const entropy=computeEntropy(distribution);const occupiedSlots=new Set(acts.map(a=>a.slot)).size;const patternScore=+(occupiedSlots/24*100).toFixed(1);setMetrics({distribution,hours,sleepHours,entropy,patternScore});},[selected,filtered]);if(!metrics){return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando m\\xE9tricas...\"})]});}const COLORS=['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Horas totales: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.hours.reduce((sum,c)=>sum+c.hours,0).toFixed(2),\"h\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Horas de sue\\xF1o: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.sleepHours,\"h\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Entrop\\xEDa (caos): \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.entropy,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Ocupaci\\xF3n slots: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.patternScore,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"% Tiempo por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((_,i)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[i%COLORS.length]},i))}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.hours,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:COLORS[1]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Entrop\\xEDa vs Ocupaci\\xF3n\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(RadialBarChart,{cx:\"50%\",cy:\"50%\",innerRadius:\"60%\",outerRadius:\"100%\",data:[{name:'Entropía',value:metrics.entropy},{name:'Ocupación',value:metrics.patternScore}],startAngle:180,endAngle:0,children:[/*#__PURE__*/_jsx(RadialBar,{minAngle:15,background:true,clockWise:true,dataKey:\"value\"}),/*#__PURE__*/_jsx(Legend,{iconSize:10,layout:\"horizontal\",verticalAlign:\"bottom\"}),/*#__PURE__*/_jsx(Tooltip,{})]})})]})]})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","PieChart","Pie","Cell","Tooltip","BarChart","Bar","XAxis","YAxis","CartesianGrid","ResponsiveContainer","RadialBarChart","RadialBar","Legend","jsx","_jsx","jsxs","_jsxs","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","CATEGORIES","computeEntropy","distribution","probs","map","d","value","filter","p","H","reduce","sum","Math","log2","Hmax","length","toFixed","PatientRoutines","patientId","results","setResults","filtered","setFiltered","selected","setSelected","metrics","setMetrics","from","setFrom","to","setTo","fetchResults","token","localStorage","getItem","data","get","headers","now","Date","weekAgo","setDate","getDate","toISOString","slice","f","t","setHours","r","createdAt","res","find","acts","timeSlots","flatMap","s","activities","a","slot","totalMin","duration","catSum","forEach","cat","activityId","name","hours","sleepHours","h","entropy","occupiedSlots","Set","size","patternScore","className","children","COLORS","c","width","height","dataKey","nameKey","cx","cy","outerRadius","label","_","i","fill","margin","top","right","left","bottom","strokeDasharray","innerRadius","startAngle","endAngle","minAngle","background","clockWise","iconSize","layout","verticalAlign"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["// src/components/PatientRoutines.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  PieChart, Pie, Cell, Tooltip,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  ResponsiveContainer,\r\n  RadialBarChart, RadialBar,\r\n  Legend\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Map activityId ➔ new categories (in lowercase)\r\nconst categoryMap = {\r\n  futbol: 'juego y tiempo libre',\r\n  dibujos: 'juego y tiempo libre',\r\n  comics: 'juego y tiempo libre',\r\n  tarea: 'actividades escolares',\r\n  videojuegos: 'juego y tiempo libre',\r\n  helado: 'juego y tiempo libre',\r\n  parque: 'participación comunitaria',\r\n  banio: 'cuidado personal',\r\n  dormir: 'descanso y sueño',\r\n  musica: 'juego y tiempo libre',\r\n  bailar: 'juego y tiempo libre',\r\n  amigos: 'participación comunitaria',\r\n  bicicleta: 'juego y tiempo libre',\r\n  dibujar: 'juego y tiempo libre',\r\n  mascotas: 'participación comunitaria',\r\n  experimentos: 'actividades escolares',\r\n  cantar: 'juego y tiempo libre',\r\n  lego: 'juego y tiempo libre',\r\n  nadar: 'cuidado personal',\r\n  computadora: 'juego y tiempo libre'\r\n};\r\nconst CATEGORIES = [\r\n  'cuidado personal',\r\n  'actividades escolares',\r\n  'juego y tiempo libre',\r\n  'participación comunitaria',\r\n  'descanso y sueño'\r\n];\r\n\r\nfunction computeEntropy(distribution) {\r\n  // distribution as array of {value: percent}\r\n  const probs = distribution.map(d => d.value / 100).filter(p => p > 0);\r\n  const H = -probs.reduce((sum, p) => sum + p * Math.log2(p), 0);\r\n  const Hmax = Math.log2(probs.length) || 1;\r\n  return +(H / Hmax * 100).toFixed(1);\r\n}\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function fetchResults() {\r\n      const token = localStorage.getItem('token');\r\n      const { data } = await axios.get(`/api/game?patientId=${patientId}`, {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setResults(data);\r\n      const now = new Date();\r\n      const weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0,10));\r\n      setTo(now.toISOString().slice(0,10));\r\n    }\r\n    fetchResults();\r\n  }, [patientId]);\r\n\r\n  useEffect(() => {\r\n    if (!from || !to) return;\r\n    const f = new Date(from), t = new Date(to);\r\n    t.setHours(23,59,59,999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d >= f && d <= t;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  useEffect(() => {\r\n    setSelected(filtered.length ? filtered[0].createdAt : null);\r\n  }, [filtered]);\r\n\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    if (!res) return;\r\n    const acts = res.timeSlots.flatMap(s => s.activities.map(a => ({ ...a, slot: s.slot })));\r\n    const totalMin = acts.reduce((sum,a) => sum + a.duration, 0) || 1;\r\n\r\n    // Aggregate per category\r\n    const catSum = {};\r\n    acts.forEach(a => {\r\n      const cat = categoryMap[a.activityId] || 'otros';\r\n      catSum[cat] = (catSum[cat]||0) + a.duration;\r\n    });\r\n    const distribution = CATEGORIES.map(cat => ({\r\n      name: cat,\r\n      value: +((catSum[cat]||0) / totalMin * 100).toFixed(1)\r\n    }));\r\n    const hours = CATEGORIES.map(cat => ({\r\n      name: cat,\r\n      hours: +((catSum[cat]||0) / 60).toFixed(2)\r\n    }));\r\n\r\n    // Additional metrics\r\n    const sleepHours = hours.find(h=>h.name==='descanso y sueño').hours;\r\n    const entropy = computeEntropy(distribution);\r\n    const occupiedSlots = new Set(acts.map(a=>a.slot)).size;\r\n    const patternScore = +((occupiedSlots/24*100).toFixed(1));\r\n\r\n    setMetrics({ distribution, hours, sleepHours, entropy, patternScore });\r\n  }, [selected, filtered]);\r\n\r\n  if (!metrics) {\r\n    return (\r\n      <div className=\"routines-container\">\r\n        <header className=\"routines-header\">\r\n          <Link to=\"/therapist/routines\">← Volver</Link>\r\n          <h2>Estadísticas de Rutinas</h2>\r\n        </header>\r\n        <p>Cargando métricas...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const COLORS = ['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'];\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      <div className=\"metrics-grid\">\r\n        <div className=\"metric-card\">Horas totales: <strong>{ metrics.hours.reduce((sum,c)=>sum+c.hours,0).toFixed(2) }h</strong></div>\r\n        <div className=\"metric-card\">Horas de sueño: <strong>{ metrics.sleepHours }h</strong></div>\r\n        <div className=\"metric-card\">Entropía (caos): <strong>{ metrics.entropy }%</strong></div>\r\n        <div className=\"metric-card\">Ocupación slots: <strong>{ metrics.patternScore }%</strong></div>\r\n      </div>\r\n\r\n      <div className=\"charts-grid\">\r\n        <div className=\"chart-block\">\r\n          <h3>% Tiempo por Categoría</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <PieChart>\r\n              <Pie data={metrics.distribution} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={80} label>\r\n                {metrics.distribution.map((_, i) => <Cell key={i} fill={COLORS[i % COLORS.length]} />)}\r\n              </Pie>\r\n              <Tooltip />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        <div className=\"chart-block\">\r\n          <h3>Horas por Categoría</h3>\r\n          <ResponsiveContainer width=\"100%\" height={250}>\r\n            <BarChart data={metrics.hours} margin={{ top:20, right:30, left:0, bottom:0 }}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Bar dataKey=\"hours\" fill={COLORS[1]} />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        <div className=\"chart-block full-width\">\r\n          <h3>Entropía vs Ocupación</h3>\r\n          <ResponsiveContainer width=\"100%\" height={200}>\r\n            <RadialBarChart cx=\"50%\" cy=\"50%\" innerRadius=\"60%\" outerRadius=\"100%\"\r\n              data={[\r\n                { name: 'Entropía', value: metrics.entropy },\r\n                { name: 'Ocupación', value: metrics.patternScore }\r\n              ]}\r\n              startAngle={180} endAngle={0}>\r\n              <RadialBar minAngle={15} background clockWise dataKey=\"value\" />\r\n              <Legend iconSize={10} layout=\"horizontal\" verticalAlign=\"bottom\" />\r\n              <Tooltip />\r\n            </RadialBarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}