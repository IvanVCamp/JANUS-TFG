{"ast":null,"code":"// src/components/TherapistTemplates.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'../styles/routineTemplates.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function TherapistTemplates(){const[templates,setTemplates]=useState([]);const navigate=useNavigate();useEffect(()=>{const fetch=async()=>{const token=localStorage.getItem('token');const{data}=await axios.get('/api/routines/templates',{headers:{'x-auth-token':token}});setTemplates(data);};fetch();},[]);// Selecciona icono según desafío\nconst pickIcon=tpl=>{if(tpl.activities.some(a=>a.challenge==='Alto'))return/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle fa-3x\"});if(tpl.activities.some(a=>a.challenge==='Medio'))return/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle fa-3x\"});return/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle fa-3x\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"routine-templates-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tpl-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tpl-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Plantillas de Rutinas\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-new\",onClick:()=>navigate('/therapist/templates/new'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Nueva Plantilla\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tpl-grid\",children:templates.map(tpl=>/*#__PURE__*/_jsxs(\"div\",{className:\"tpl-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tpl-icon\",children:pickIcon(tpl)}),/*#__PURE__*/_jsx(\"h2\",{children:tpl.name}),/*#__PURE__*/_jsx(\"p\",{className:\"tpl-desc\",children:tpl.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"tpl-meta\",children:[tpl.activities.length,\" actividades\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-assign\",onClick:()=>navigate(`/therapist/templates/${tpl._id}/assign`),children:\"Asignar a paciente\"})]},tpl._id))})]})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","TherapistTemplates","templates","setTemplates","navigate","fetch","token","localStorage","getItem","data","get","headers","pickIcon","tpl","activities","some","a","challenge","className","children","onClick","map","name","description","length","_id"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/TherapistTemplates.js"],"sourcesContent":["// src/components/TherapistTemplates.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport '../styles/routineTemplates.css';\r\n\r\nexport default function TherapistTemplates() {\r\n  const [templates, setTemplates] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      const token = localStorage.getItem('token');\r\n      const { data } = await axios.get('/api/routines/templates', {\r\n        headers: { 'x-auth-token': token }\r\n      });\r\n      setTemplates(data);\r\n    };\r\n    fetch();\r\n  }, []);\r\n\r\n  // Selecciona icono según desafío\r\n  const pickIcon = (tpl) => {\r\n    if (tpl.activities.some(a => a.challenge==='Alto'))\r\n      return <i className=\"fas fa-exclamation-circle fa-3x\"></i>;\r\n    if (tpl.activities.some(a => a.challenge==='Medio'))\r\n      return <i className=\"fas fa-exclamation-triangle fa-3x\"></i>;\r\n    return <i className=\"fas fa-check-circle fa-3x\"></i>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"routine-templates-page\">\r\n    <div className=\"tpl-container\">\r\n      <div className=\"tpl-header\">\r\n        <h1>Plantillas de Rutinas</h1>\r\n        <button className=\"btn-new\" onClick={() => navigate('/therapist/templates/new')}>\r\n          <i className=\"fas fa-plus\"></i> Nueva Plantilla\r\n        </button>\r\n      </div>\r\n      <div className=\"tpl-grid\">\r\n        {templates.map(tpl => (\r\n          <div key={tpl._id} className=\"tpl-card\">\r\n            <div className=\"tpl-icon\">\r\n              {pickIcon(tpl)}\r\n            </div>\r\n            <h2>{tpl.name}</h2>\r\n            <p className=\"tpl-desc\">{tpl.description}</p>\r\n            <p className=\"tpl-meta\">{tpl.activities.length} actividades</p>\r\n            <button\r\n              className=\"btn-assign\"\r\n              onClick={() => navigate(`/therapist/templates/${tpl._id}/assign`)}\r\n            >\r\n              Asignar a paciente\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}