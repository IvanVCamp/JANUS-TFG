{"ast":null,"code":"// src/components/PatientRoutines.js\nimport React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import axios from'axios';import{ResponsiveContainer,PieChart,Pie,Cell,Tooltip,Legend,BarChart,Bar,XAxis,YAxis,CartesianGrid,RadarChart,PolarGrid,PolarAngleAxis,PolarRadiusAxis,Radar,RadialBarChart,RadialBar,LineChart,Line}from'recharts';import'../styles/therapistRoutines.css';// Map activityId ➔ new categories (lowercase)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const categoryMap={futbol:'juego y tiempo libre',dibujos:'juego y tiempo libre',comics:'juego y tiempo libre',tarea:'actividades escolares',videojuegos:'juego y tiempo libre',helado:'juego y tiempo libre',parque:'participación comunitaria',banio:'cuidado personal',dormir:'descanso y sueño',musica:'juego y tiempo libre',bailar:'juego y tiempo libre',amigos:'participación comunitaria',bicicleta:'juego y tiempo libre',dibujar:'juego y tiempo libre',mascotas:'juego y tiempo libre',experimentos:'actividades escolares',cantar:'juego y tiempo libre',lego:'juego y tiempo libre',nadar:'cuidado personal',computadora:'juego y tiempo libre'};export default function PatientRoutines(){const{patientId}=useParams();const[results,setResults]=useState([]);const[filtered,setFiltered]=useState([]);const[from,setFrom]=useState('');const[to,setTo]=useState('');const[selected,setSelected]=useState(null);const[metrics,setMetrics]=useState(null);const[multi,setMulti]=useState(null);// Fetch all results\nuseEffect(()=>{const token=localStorage.getItem('token');axios.get(`/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}}).then(_ref=>{let{data}=_ref;setResults(data);const now=new Date();const weekAgo=new Date(now);weekAgo.setDate(now.getDate()-6);setFrom(weekAgo.toISOString().slice(0,10));setTo(now.toISOString().slice(0,10));}).catch(console.error);},[patientId]);// Filter by date range\nuseEffect(()=>{if(!from||!to)return;const f=new Date(from),t=new Date(to);t.setHours(23,59,59,999);setFiltered(results.filter(r=>{const d=new Date(r.createdAt);return d>=f&&d<=t;}));},[results,from,to]);// Default selected day\nuseEffect(()=>{setSelected(filtered.length?filtered[0].createdAt:null);},[filtered]);// Compute per-day metrics\nuseEffect(()=>{if(!selected)return;const res=filtered.find(r=>r.createdAt===selected);if(!res)return;const slots=res.timeSlots||[];const acts=slots.flatMap(s=>s.activities||[]);const totalMin=acts.reduce((sum,a)=>sum+a.duration,0)||1;// 1. Distribution % by category\nconst catSum={};acts.forEach(a=>{const cat=categoryMap[a.activityId]||'otros';catSum[cat]=(catSum[cat]||0)+a.duration;});const distribution=Object.entries(catSum).map(_ref2=>{let[name,val]=_ref2;return{name,value:+(val/totalMin*100).toFixed(1)};});// 2. Hours by category\nconst hours=Object.entries(catSum).map(_ref3=>{let[name,val]=_ref3;return{name,hours:+(val/60).toFixed(2)};});// 3. Diversity (unique activities)\nconst diversity=new Set(acts.map(a=>a.activityId)).size;// 4. Consistency (slots occupied %)\nconst occupiedSlots=slots.filter(s=>{var _s$activities;return((_s$activities=s.activities)===null||_s$activities===void 0?void 0:_s$activities.length)>0;}).length;const consistency=+(occupiedSlots/24*100).toFixed(1);// 5. Category balance radar\nconst groupBalance=distribution;// reuse distribution %\n// 6. Balance index (inverse entropy)\nconst N=distribution.length;const uniform=100/N;const distDiff=distribution.reduce((acc,d)=>acc+Math.abs(d.value-uniform),0)/2;const balanceIndex=+((100-distDiff)/100*100).toFixed(1);// 7. Top 3 activities\nconst actSum={};acts.forEach(a=>{actSum[a.activityId]=(actSum[a.activityId]||0)+a.duration;});const top3=Object.entries(actSum).sort((a,b)=>b[1]-a[1]).slice(0,3).map(_ref4=>{let[id,val]=_ref4;return{name:id,hours:+(val/60).toFixed(2)};});// 8. Sleep hours\nconst sleepMin=acts.filter(a=>a.activityId==='dormir').reduce((sum,a)=>sum+a.duration,0);const sleepHours=+(sleepMin/60).toFixed(2);setMetrics({distribution,hours,diversity,consistency,groupBalance,balanceIndex,top3,sleepHours});},[selected,filtered]);// Compute multi-day metrics: sleep over days & category variance\nuseEffect(()=>{if(!filtered.length){setMulti(null);return;}// Sleep data\nconst sleepData=filtered.map(r=>{const date=new Date(r.createdAt).toLocaleDateString();const sleepMin=r.timeSlots.reduce((sum,slot)=>{var _slot$activities;const act=(_slot$activities=slot.activities)===null||_slot$activities===void 0?void 0:_slot$activities.find(a=>a.activityId==='dormir');return sum+(act?act.duration:0);},0);return{date,hours:+(sleepMin/60).toFixed(2)};});// Category variance across days\nconst catList=Array.from(new Set(Object.values(categoryMap)));const dayPercents=filtered.map(r=>{const acts=r.timeSlots.flatMap(s=>s.activities||[]);const total=acts.reduce((sum,a)=>sum+a.duration,0)||1;const sums={};acts.forEach(a=>{const cat=categoryMap[a.activityId]||'otros';sums[cat]=(sums[cat]||0)+a.duration;});const perc={};catList.forEach(cat=>{perc[cat]=+((sums[cat]||0)/total*100).toFixed(1);});return perc;});const categoryVariance=catList.map(cat=>{const vals=dayPercents.map(d=>d[cat]);const mean=vals.reduce((a,b)=>a+b,0)/vals.length;const varr=vals.reduce((acc,v)=>acc+(v-mean)**2,0)/vals.length;return{category:cat,variance:+varr.toFixed(2)};});setMulti({sleepData,categoryVariance});},[filtered]);return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"routines-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/therapist/routines\",children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Estad\\xEDsticas de Rutinas\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Desde:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:from,onChange:e=>setFrom(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Hasta:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:to,onChange:e=>setTo(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"D\\xEDa:\",/*#__PURE__*/_jsx(\"select\",{value:selected||'',onChange:e=>setSelected(e.target.value),children:filtered.map(r=>{const d=new Date(r.createdAt).toLocaleDateString();return/*#__PURE__*/_jsx(\"option\",{value:r.createdAt,children:d},r.createdAt);})})]})]}),metrics&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Diversidad: \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.diversity})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Consistencia: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.consistency,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Equilibrio: \",/*#__PURE__*/_jsxs(\"strong\",{children:[metrics.balanceIndex,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card\",children:[\"Sue\\xF1o (h): \",/*#__PURE__*/_jsx(\"strong\",{children:metrics.sleepHours})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distribuci\\xF3n % por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:metrics.distribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:80,label:true,children:metrics.distribution.map((_,i)=>/*#__PURE__*/_jsx(Cell,{fill:['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'][i%5]},i))}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.hours,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:\"#8884d8\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Balance Grupo\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(RadarChart,{data:metrics.groupBalance,cx:\"50%\",cy:\"50%\",outerRadius:80,children:[/*#__PURE__*/_jsx(PolarGrid,{}),/*#__PURE__*/_jsx(PolarAngleAxis,{dataKey:\"name\"}),/*#__PURE__*/_jsx(PolarRadiusAxis,{domain:[0,100]}),/*#__PURE__*/_jsx(Radar,{dataKey:\"value\",stroke:\"#82ca9d\",fill:\"#82ca9d\",fillOpacity:0.6}),/*#__PURE__*/_jsx(Tooltip,{})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block full-width\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Top 3 Actividades\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(BarChart,{data:metrics.top3,layout:\"vertical\",margin:{top:10,right:30,left:50,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\"}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"name\",type:\"category\"}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"hours\",fill:\"#ffc658\"})]})})]})]})]}),multi&&/*#__PURE__*/_jsxs(\"div\",{className:\"charts-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Horas de Sue\\xF1o (\\xFAltimos d\\xEDas)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(LineChart,{data:multi.sleepData,margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"hours\",stroke:\"#8884d8\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-block\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Variabilidad por Categor\\xEDa\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:200,children:/*#__PURE__*/_jsxs(BarChart,{data:multi.categoryVariance,margin:{top:20,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"category\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"variance\",fill:\"#ff8042\"})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","axios","ResponsiveContainer","PieChart","Pie","Cell","Tooltip","Legend","BarChart","Bar","XAxis","YAxis","CartesianGrid","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","RadialBarChart","RadialBar","LineChart","Line","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","categoryMap","futbol","dibujos","comics","tarea","videojuegos","helado","parque","banio","dormir","musica","bailar","amigos","bicicleta","dibujar","mascotas","experimentos","cantar","lego","nadar","computadora","PatientRoutines","patientId","results","setResults","filtered","setFiltered","from","setFrom","to","setTo","selected","setSelected","metrics","setMetrics","multi","setMulti","token","localStorage","getItem","get","headers","then","_ref","data","now","Date","weekAgo","setDate","getDate","toISOString","slice","catch","console","error","f","t","setHours","filter","r","d","createdAt","length","res","find","slots","timeSlots","acts","flatMap","s","activities","totalMin","reduce","sum","a","duration","catSum","forEach","cat","activityId","distribution","Object","entries","map","_ref2","name","val","value","toFixed","hours","_ref3","diversity","Set","size","occupiedSlots","_s$activities","consistency","groupBalance","N","uniform","distDiff","acc","Math","abs","balanceIndex","actSum","top3","sort","b","_ref4","id","sleepMin","sleepHours","sleepData","date","toLocaleDateString","slot","_slot$activities","act","catList","Array","values","dayPercents","total","sums","perc","categoryVariance","vals","mean","varr","v","category","variance","className","children","type","onChange","e","target","width","height","dataKey","nameKey","cx","cy","outerRadius","label","_","i","fill","margin","top","right","left","bottom","strokeDasharray","domain","stroke","fillOpacity","layout"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["// src/components/PatientRoutines.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  ResponsiveContainer,\r\n  PieChart, Pie, Cell, Tooltip, Legend,\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid,\r\n  RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  RadialBarChart, RadialBar,\r\n  LineChart, Line\r\n} from 'recharts';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Map activityId ➔ new categories (lowercase)\r\nconst categoryMap = {\r\n  futbol: 'juego y tiempo libre',\r\n  dibujos: 'juego y tiempo libre',\r\n  comics: 'juego y tiempo libre',\r\n  tarea: 'actividades escolares',\r\n  videojuegos: 'juego y tiempo libre',\r\n  helado: 'juego y tiempo libre',\r\n  parque: 'participación comunitaria',\r\n  banio: 'cuidado personal',\r\n  dormir: 'descanso y sueño',\r\n  musica: 'juego y tiempo libre',\r\n  bailar: 'juego y tiempo libre',\r\n  amigos: 'participación comunitaria',\r\n  bicicleta: 'juego y tiempo libre',\r\n  dibujar: 'juego y tiempo libre',\r\n  mascotas: 'juego y tiempo libre',\r\n  experimentos: 'actividades escolares',\r\n  cantar: 'juego y tiempo libre',\r\n  lego: 'juego y tiempo libre',\r\n  nadar: 'cuidado personal',\r\n  computadora: 'juego y tiempo libre'\r\n};\r\n\r\nexport default function PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const [results, setResults] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [from, setFrom] = useState('');\r\n  const [to, setTo] = useState('');\r\n  const [selected, setSelected] = useState(null);\r\n  const [metrics, setMetrics] = useState(null);\r\n  const [multi, setMulti] = useState(null);\r\n\r\n  // Fetch all results\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get(`/api/game?patientId=${patientId}`, {\r\n      headers: { 'x-auth-token': token }\r\n    }).then(({ data }) => {\r\n      setResults(data);\r\n      const now = new Date();\r\n      const weekAgo = new Date(now);\r\n      weekAgo.setDate(now.getDate() - 6);\r\n      setFrom(weekAgo.toISOString().slice(0,10));\r\n      setTo(now.toISOString().slice(0,10));\r\n    }).catch(console.error);\r\n  }, [patientId]);\r\n\r\n  // Filter by date range\r\n  useEffect(() => {\r\n    if (!from || !to) return;\r\n    const f = new Date(from), t = new Date(to);\r\n    t.setHours(23,59,59,999);\r\n    setFiltered(results.filter(r => {\r\n      const d = new Date(r.createdAt);\r\n      return d >= f && d <= t;\r\n    }));\r\n  }, [results, from, to]);\r\n\r\n  // Default selected day\r\n  useEffect(() => {\r\n    setSelected(filtered.length ? filtered[0].createdAt : null);\r\n  }, [filtered]);\r\n\r\n  // Compute per-day metrics\r\n  useEffect(() => {\r\n    if (!selected) return;\r\n    const res = filtered.find(r => r.createdAt === selected);\r\n    if (!res) return;\r\n\r\n    const slots = res.timeSlots || [];\r\n    const acts = slots.flatMap(s => s.activities || []);\r\n    const totalMin = acts.reduce((sum,a) => sum + a.duration, 0) || 1;\r\n\r\n    // 1. Distribution % by category\r\n    const catSum = {};\r\n    acts.forEach(a => {\r\n      const cat = categoryMap[a.activityId] || 'otros';\r\n      catSum[cat] = (catSum[cat] || 0) + a.duration;\r\n    });\r\n    const distribution = Object.entries(catSum).map(([name, val]) => ({\r\n      name, value: +(val/totalMin*100).toFixed(1)\r\n    }));\r\n\r\n    // 2. Hours by category\r\n    const hours = Object.entries(catSum).map(([name,val]) => ({\r\n      name, hours: +(val/60).toFixed(2)\r\n    }));\r\n\r\n    // 3. Diversity (unique activities)\r\n    const diversity = new Set(acts.map(a => a.activityId)).size;\r\n\r\n    // 4. Consistency (slots occupied %)\r\n    const occupiedSlots = slots.filter(s => s.activities?.length > 0).length;\r\n    const consistency = +((occupiedSlots/24*100).toFixed(1));\r\n\r\n    // 5. Category balance radar\r\n    const groupBalance = distribution; // reuse distribution %\r\n\r\n    // 6. Balance index (inverse entropy)\r\n    const N = distribution.length;\r\n    const uniform = 100/N;\r\n    const distDiff = distribution.reduce((acc,d) =>\r\n      acc + Math.abs(d.value - uniform), 0)/2;\r\n    const balanceIndex = +((100 - distDiff)/100*100).toFixed(1);\r\n\r\n    // 7. Top 3 activities\r\n    const actSum = {};\r\n    acts.forEach(a => {\r\n      actSum[a.activityId] = (actSum[a.activityId]||0) + a.duration;\r\n    });\r\n    const top3 = Object.entries(actSum)\r\n      .sort((a,b) => b[1]-a[1]).slice(0,3)\r\n      .map(([id,val]) => ({ name: id, hours: +(val/60).toFixed(2) }));\r\n\r\n    // 8. Sleep hours\r\n    const sleepMin = acts\r\n      .filter(a => a.activityId === 'dormir')\r\n      .reduce((sum,a) => sum + a.duration, 0);\r\n    const sleepHours = +(sleepMin/60).toFixed(2);\r\n\r\n    setMetrics({\r\n      distribution, hours, diversity, consistency,\r\n      groupBalance, balanceIndex, top3, sleepHours\r\n    });\r\n  }, [selected, filtered]);\r\n\r\n  // Compute multi-day metrics: sleep over days & category variance\r\n  useEffect(() => {\r\n    if (!filtered.length) {\r\n      setMulti(null);\r\n      return;\r\n    }\r\n    // Sleep data\r\n    const sleepData = filtered.map(r => {\r\n      const date = new Date(r.createdAt).toLocaleDateString();\r\n      const sleepMin = r.timeSlots.reduce((sum, slot) => {\r\n        const act = slot.activities?.find(a => a.activityId === 'dormir');\r\n        return sum + (act ? act.duration : 0);\r\n      }, 0);\r\n      return { date, hours: +(sleepMin/60).toFixed(2) };\r\n    });\r\n    // Category variance across days\r\n    const catList = Array.from(new Set(Object.values(categoryMap)));\r\n    const dayPercents = filtered.map(r => {\r\n      const acts = r.timeSlots.flatMap(s => s.activities || []);\r\n      const total = acts.reduce((sum,a)=>sum+a.duration,0)||1;\r\n      const sums = {};\r\n      acts.forEach(a => {\r\n        const cat = categoryMap[a.activityId]||'otros';\r\n        sums[cat] = (sums[cat]||0) + a.duration;\r\n      });\r\n      const perc = {};\r\n      catList.forEach(cat=>{\r\n        perc[cat] = +(((sums[cat]||0)/total*100).toFixed(1));\r\n      });\r\n      return perc;\r\n    });\r\n    const categoryVariance = catList.map(cat => {\r\n      const vals = dayPercents.map(d => d[cat]);\r\n      const mean = vals.reduce((a,b)=>a+b,0)/vals.length;\r\n      const varr = vals.reduce((acc,v)=>acc+(v-mean)**2,0)/vals.length;\r\n      return { category: cat, variance: +varr.toFixed(2) };\r\n    });\r\n    setMulti({ sleepData, categoryVariance });\r\n  }, [filtered]);\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <header className=\"routines-header\">\r\n        <Link to=\"/therapist/routines\">← Volver</Link>\r\n        <h2>Estadísticas de Rutinas</h2>\r\n      </header>\r\n\r\n      {/* Filters */}\r\n      <section className=\"filter-section\">\r\n        <label>Desde:<input type=\"date\" value={from} onChange={e=>setFrom(e.target.value)} /></label>\r\n        <label>Hasta:<input type=\"date\" value={to} onChange={e=>setTo(e.target.value)} /></label>\r\n        <label>Día:\r\n          <select value={selected||''} onChange={e=>setSelected(e.target.value)}>\r\n            {filtered.map(r=>{\r\n              const d = new Date(r.createdAt).toLocaleDateString();\r\n              return <option key={r.createdAt} value={r.createdAt}>{d}</option>;\r\n            })}\r\n          </select>\r\n        </label>\r\n      </section>\r\n\r\n      {/* Single-day metrics */}\r\n      {metrics && (\r\n        <>\r\n          <div className=\"metrics-grid\">\r\n            <div className=\"metric-card\">Diversidad: <strong>{metrics.diversity}</strong></div>\r\n            <div className=\"metric-card\">Consistencia: <strong>{metrics.consistency}%</strong></div>\r\n            <div className=\"metric-card\">Equilibrio: <strong>{metrics.balanceIndex}%</strong></div>\r\n            <div className=\"metric-card\">Sueño (h): <strong>{metrics.sleepHours}</strong></div>\r\n          </div>\r\n\r\n          <div className=\"charts-grid\">\r\n            {/* Distribución % por categoría */}\r\n            <div className=\"chart-block\">\r\n              <h3>Distribución % por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <PieChart>\r\n                  <Pie data={metrics.distribution} dataKey=\"value\" nameKey=\"name\"\r\n                       cx=\"50%\" cy=\"50%\" outerRadius={80} label>\r\n                    {metrics.distribution.map((_,i)=>\r\n                      <Cell key={i} fill={['#8884d8','#82ca9d','#ffc658','#ff8042','#0088FE'][i%5]} />\r\n                    )}\r\n                  </Pie>\r\n                  <Tooltip /><Legend />\r\n                </PieChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Horas por categoría */}\r\n            <div className=\"chart-block\">\r\n              <h3>Horas por Categoría</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <BarChart data={metrics.hours} margin={{ top:20,right:30,left:0,bottom:0 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" />\r\n                  <XAxis dataKey=\"name\" />\r\n                  <YAxis />\r\n                  <Tooltip />\r\n                  <Bar dataKey=\"hours\" fill=\"#8884d8\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Balance radar */}\r\n            <div className=\"chart-block\">\r\n              <h3>Balance Grupo</h3>\r\n              <ResponsiveContainer width=\"100%\" height={250}>\r\n                <RadarChart data={metrics.groupBalance} cx=\"50%\" cy=\"50%\" outerRadius={80}>\r\n                  <PolarGrid />\r\n                  <PolarAngleAxis dataKey=\"name\" />\r\n                  <PolarRadiusAxis domain={[0,100]} />\r\n                  <Radar dataKey=\"value\" stroke=\"#82ca9d\" fill=\"#82ca9d\" fillOpacity={0.6}/>\r\n                  <Tooltip />\r\n                </RadarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n\r\n            {/* Top 3 actividades */}\r\n            <div className=\"chart-block full-width\">\r\n              <h3>Top 3 Actividades</h3>\r\n              <ResponsiveContainer width=\"100%\" height={200}>\r\n                <BarChart data={metrics.top3} layout=\"vertical\" margin={{ top:10,right:30,left:50,bottom:5 }}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\"/>\r\n                  <XAxis type=\"number\"/>\r\n                  <YAxis dataKey=\"name\" type=\"category\"/>\r\n                  <Tooltip/>\r\n                  <Bar dataKey=\"hours\" fill=\"#ffc658\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {/* Multi-day metrics */}\r\n      {multi && (\r\n        <div className=\"charts-grid\">\r\n          {/* Sleep over days */}\r\n          <div className=\"chart-block\">\r\n            <h3>Horas de Sueño (últimos días)</h3>\r\n            <ResponsiveContainer width=\"100%\" height={200}>\r\n              <LineChart data={multi.sleepData} margin={{ top:10,right:30,left:0,bottom:0 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\"/>\r\n                <XAxis dataKey=\"date\"/>\r\n                <YAxis/>\r\n                <Tooltip/>\r\n                <Line type=\"monotone\" dataKey=\"hours\" stroke=\"#8884d8\" />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n\r\n          {/* Variabilidad por categoría */}\r\n          <div className=\"chart-block\">\r\n            <h3>Variabilidad por Categoría</h3>\r\n            <ResponsiveContainer width=\"100%\" height={200}>\r\n              <BarChart data={multi.categoryVariance} margin={{ top:20,right:30,left:0,bottom:0 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"category\"/>\r\n                <YAxis/>\r\n                <Tooltip/>\r\n                <Bar dataKey=\"variance\" fill=\"#ff8042\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}