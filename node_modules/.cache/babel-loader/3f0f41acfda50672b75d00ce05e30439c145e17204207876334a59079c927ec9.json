{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\TFG\\\\prototipo-TFG\\\\Janus-TFG\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\n// src/components/Register.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport authService from '../services/authService';\nimport axios from 'axios';\nimport '../styles/register.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Register() {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const query = new URLSearchParams(location.search);\n  const invitationId = query.get('invitationId'); // Extraemos invitationId de la URL\n\n  const [formData, setFormData] = useState({\n    nombre: '',\n    apellidos: '',\n    fechaNacimiento: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n    role: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // Convertir el valor seleccionado a minúsculas\n  const handleSelectChange = e => {\n    setFormData({\n      ...formData,\n      role: e.target.value.toLowerCase()\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    if (formData.password !== formData.confirmPassword) {\n      setError('Las contraseñas no coinciden');\n      return;\n    }\n\n    // Si se registra como paciente, comprobar que exista una invitación válida\n    if (formData.role.toLowerCase() === \"paciente\") {\n      try {\n        let response;\n        // Si existe invitationId en la URL, se utiliza para validar la invitación\n        if (invitationId) {\n          response = await axios.get(`http://localhost:5000/api/invitations?invitationId=${invitationId}`, {\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n        } else {\n          // Caso alternativo: se puede validar usando el correo\n          const token = localStorage.getItem('token');\n          const normalizedEmail = formData.email.trim().toLowerCase();\n          response = await axios.get(`http://localhost:5000/api/invitations?email=${normalizedEmail}`, {\n            headers: {\n              'x-auth-token': token,\n              'Content-Type': 'application/json'\n            }\n          });\n        }\n        if (!response.data.valid) {\n          setError('No tienes una invitación válida para registrarte como paciente');\n          return;\n        }\n        // Asigna el id del terapeuta que invitó para vincular al paciente\n        formData.invitedBy = response.data.therapist;\n      } catch (error) {\n        console.error(\"Error en la validación de la invitación:\", error);\n        setError('Error al validar la invitación');\n        return;\n      }\n    }\n    try {\n      await authService.register(formData);\n      setSuccess('Registro exitoso, ya puedes iniciar sesión.');\n      setTimeout(() => {\n        navigate('/');\n      }, 2000);\n    } catch (err) {\n      setError('Error en el registro. Inténtalo de nuevo.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"register-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"form-title\",\n        children: \"Crear Cuenta\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nombre\",\n          children: \"Nombre:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"nombre\",\n          id: \"nombre\",\n          placeholder: \"Tu nombre\",\n          value: formData.nombre,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"apellidos\",\n          children: \"Apellidos:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"apellidos\",\n          id: \"apellidos\",\n          placeholder: \"Tus apellidos\",\n          value: formData.apellidos,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fechaNacimiento\",\n          children: \"Fecha de Nacimiento:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"fechaNacimiento\",\n          id: \"fechaNacimiento\",\n          value: formData.fechaNacimiento,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          placeholder: \"example@gmail.com\",\n          value: formData.email,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Contrase\\xF1a:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          placeholder: \"********\",\n          value: formData.password,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"confirmPassword\",\n          children: \"Confirmar Contrase\\xF1a:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          id: \"confirmPassword\",\n          placeholder: \"********\",\n          value: formData.confirmPassword,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper roles-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"role\",\n          children: \"Rol:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"role\",\n          id: \"role\",\n          value: formData.role,\n          onChange: handleSelectChange,\n          className: \"styled-dropdown\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Selecciona un rol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"padre\",\n            children: \"Padre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"paciente\",\n            children: \"Paciente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"terapeuta\",\n            children: \"Terapeuta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"tutor\",\n            children: \"Tutor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"register-btn\",\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-link-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\xBFYa tienes cuenta? \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            children: \"Inicia sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"7fmvQMSRVLVqX9ApVjHXKnJmyAc=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","authService","axios","jsxDEV","_jsxDEV","Register","_s","navigate","location","query","URLSearchParams","search","invitationId","get","formData","setFormData","nombre","apellidos","fechaNacimiento","email","password","confirmPassword","role","error","setError","success","setSuccess","handleChange","e","target","name","value","handleSelectChange","toLowerCase","handleSubmit","preventDefault","response","headers","token","localStorage","getItem","normalizedEmail","trim","data","valid","invitedBy","therapist","console","register","setTimeout","err","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","placeholder","onChange","required","href","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/Register.js"],"sourcesContent":["// src/components/Register.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport authService from '../services/authService';\r\nimport axios from 'axios';\r\nimport '../styles/register.css';\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const query = new URLSearchParams(location.search);\r\n  const invitationId = query.get('invitationId'); // Extraemos invitationId de la URL\r\n\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    apellidos: '',\r\n    fechaNacimiento: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    role: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // Convertir el valor seleccionado a minúsculas\r\n  const handleSelectChange = (e) => {\r\n    setFormData({ ...formData, role: e.target.value.toLowerCase() });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Las contraseñas no coinciden');\r\n      return;\r\n    }\r\n\r\n    // Si se registra como paciente, comprobar que exista una invitación válida\r\n    if (formData.role.toLowerCase() === \"paciente\") {\r\n      try {\r\n        let response;\r\n        // Si existe invitationId en la URL, se utiliza para validar la invitación\r\n        if (invitationId) {\r\n          response = await axios.get(\r\n            `http://localhost:5000/api/invitations?invitationId=${invitationId}`,\r\n            { headers: { 'Content-Type': 'application/json' } }\r\n          );\r\n        } else {\r\n          // Caso alternativo: se puede validar usando el correo\r\n          const token = localStorage.getItem('token');\r\n          const normalizedEmail = formData.email.trim().toLowerCase();\r\n          response = await axios.get(\r\n            `http://localhost:5000/api/invitations?email=${normalizedEmail}`,\r\n            { headers: { 'x-auth-token': token, 'Content-Type': 'application/json' } }\r\n          );\r\n        }\r\n        if (!response.data.valid) {\r\n          setError('No tienes una invitación válida para registrarte como paciente');\r\n          return;\r\n        }\r\n        // Asigna el id del terapeuta que invitó para vincular al paciente\r\n        formData.invitedBy = response.data.therapist;\r\n      } catch (error) {\r\n        console.error(\"Error en la validación de la invitación:\", error);\r\n        setError('Error al validar la invitación');\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      await authService.register(formData);\r\n      setSuccess('Registro exitoso, ya puedes iniciar sesión.');\r\n      setTimeout(() => {\r\n        navigate('/');\r\n      }, 2000);\r\n    } catch (err) {\r\n      setError('Error en el registro. Inténtalo de nuevo.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <form onSubmit={handleSubmit} className=\"register-form\">\r\n        <h2 className=\"form-title\">Crear Cuenta</h2>\r\n        {error && <p className=\"error\">{error}</p>}\r\n        {success && <p className=\"success\">{success}</p>}\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"nombre\">Nombre:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"nombre\"\r\n            id=\"nombre\"\r\n            placeholder=\"Tu nombre\"\r\n            value={formData.nombre}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"apellidos\">Apellidos:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"apellidos\"\r\n            id=\"apellidos\"\r\n            placeholder=\"Tus apellidos\"\r\n            value={formData.apellidos}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"fechaNacimiento\">Fecha de Nacimiento:</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"fechaNacimiento\"\r\n            id=\"fechaNacimiento\"\r\n            value={formData.fechaNacimiento}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"email\">Email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"example@gmail.com\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"password\">Contraseña:</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"********\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper\">\r\n          <label htmlFor=\"confirmPassword\">Confirmar Contraseña:</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            id=\"confirmPassword\"\r\n            placeholder=\"********\"\r\n            value={formData.confirmPassword}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-wrapper roles-wrapper\">\r\n          <label htmlFor=\"role\">Rol:</label>\r\n          <select\r\n            name=\"role\"\r\n            id=\"role\"\r\n            value={formData.role}\r\n            onChange={handleSelectChange}\r\n            className=\"styled-dropdown\"\r\n            required\r\n          >\r\n            <option value=\"\">Selecciona un rol</option>\r\n            <option value=\"padre\">Padre</option>\r\n            <option value=\"paciente\">Paciente</option>\r\n            <option value=\"terapeuta\">Terapeuta</option>\r\n            <option value=\"tutor\">Tutor</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"button-wrapper\">\r\n          <button type=\"submit\" className=\"register-btn\">Registrar</button>\r\n        </div>\r\n\r\n        <div className=\"login-link-wrapper\">\r\n          <p>\r\n            ¿Ya tienes cuenta? <a href=\"/\">Inicia sesión</a>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}