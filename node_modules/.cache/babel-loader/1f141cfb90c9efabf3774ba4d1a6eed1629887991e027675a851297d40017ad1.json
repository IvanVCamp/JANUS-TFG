{"ast":null,"code":"// src/pages/NewRoutineTemplatePage.js\nimport React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/routineTemplates.css';import{FaGripVertical,FaPlus,FaTrash}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewRoutineTemplatePage(){const navigate=useNavigate();const[form,setForm]=useState({name:'',description:'',category:'',tags:[],duration:30,reminder:'none',activities:[]});const[tagInput,setTagInput]=useState('');// Helpers para el formulario\nconst handleChange=(key,value)=>{setForm(f=>({...f,[key]:value}));};const addTag=()=>{const t=tagInput.trim();if(t&&!form.tags.includes(t)){handleChange('tags',[...form.tags,t]);}setTagInput('');};const removeTag=t=>{handleChange('tags',form.tags.filter(x=>x!==t));};// Helpers para actividades\nconst addActivity=()=>{setForm(f=>({...f,activities:[...f.activities,{id:Date.now(),name:'',desc:'',challenge:'Bajo',minutes:10}]}));};const updateActivity=(id,field,val)=>{setForm(f=>({...f,activities:f.activities.map(a=>a.id===id?{...a,[field]:val}:a)}));};const removeActivity=id=>{setForm(f=>({...f,activities:f.activities.filter(a=>a.id!==id)}));};const onDragStart=(e,idx)=>e.dataTransfer.setData('text/plain',idx);const onDrop=(e,idx)=>{e.preventDefault();const from=+e.dataTransfer.getData('text/plain');if(from===idx)return;setForm(f=>{const list=[...f.activities];const[moved]=list.splice(from,1);list.splice(idx,0,moved);return{...f,activities:list};});};const allowDrop=e=>e.preventDefault();// Env√≠a el formulario, limpiando cualquier _id de subdocumentos\nconst handleSubmit=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token){alert('Debes iniciar sesi√≥n.');return navigate('/login');}// Construimos el payload sin campos _id\nconst payload={name:form.name,description:form.description,category:form.category,tags:form.tags,duration:form.duration,reminder:form.reminder,activities:form.activities.map(_ref=>{let{name,desc,challenge,minutes}=_ref;return{name,desc,challenge,minutes};})};try{const res=await fetch('/api/routines/templates',{method:'POST',headers:{'Content-Type':'application/json','x-auth-token':token},body:JSON.stringify(payload)});if(res.status===401){alert('Sesi√≥n expirada. Inicia sesi√≥n de nuevo.');return navigate('/login');}if(!res.ok){const text=await res.text();throw new Error(`Error ${res.status}: ${text}`);}// √âxito: volvemos al listado\nnavigate('/therapist/templates');}catch(err){console.error('Error guardando plantilla:',err);alert('No se pudo guardar la plantilla:\\n'+err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"routine-templates-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"tpl-container tpl-form landscape\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Crear Nueva Plantilla\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:e=>handleChange('name',e.target.value),placeholder:\"Ej. Rutina matutina\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.category,onChange:e=>handleChange('category',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 Selecciona \\u2014\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Relajaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ejercicio F\\xEDsico\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mindfulness\"}),/*#__PURE__*/_jsx(\"option\",{children:\"H\\xE1bito Saludable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>handleChange('description',e.target.value),rows:3,placeholder:\"Objetivo de la plantilla\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Duraci\\xF3n (min)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:5,value:form.duration,onChange:e=>handleChange('duration',+e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recordatorio\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.reminder,onChange:e=>handleChange('reminder',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"Sin recordatorio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Diario\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Semanal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group tag-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tags\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tag-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{value:tagInput,onChange:e=>setTagInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&(e.preventDefault(),addTag()),placeholder:\"A\\xF1adir tag\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-new\",onClick:addTag,children:/*#__PURE__*/_jsx(FaPlus,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-list\",children:form.tags.map(t=>/*#__PURE__*/_jsxs(\"span\",{className:\"tag-pill\",children:[t,' ',/*#__PURE__*/_jsx(FaTrash,{onClick:()=>removeTag(t),style:{cursor:'pointer'}})]},t))})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"activities-controls\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Actividades\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-new\",onClick:addActivity,children:[/*#__PURE__*/_jsx(FaPlus,{}),\" A\\xF1adir\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"activities-list horizontal-scroll\",children:form.activities.map((act,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item landscape\",draggable:true,onDragStart:e=>onDragStart(e,idx),onDragOver:allowDrop,onDrop:e=>onDrop(e,idx),children:[/*#__PURE__*/_jsx(FaGripVertical,{className:\"drag-handle\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",value:act.name,onChange:e=>updateActivity(act.id,'name',e.target.value),placeholder:\"Actividad\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"small-select\",value:act.challenge,onChange:e=>updateActivity(act.id,'challenge',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Bajo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Medio\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Alto\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"small-input\",style:{width:'4rem'},value:act.minutes,onChange:e=>updateActivity(act.id,'minutes',+e.target.value)}),/*#__PURE__*/_jsx(FaTrash,{className:\"remove-ico\",onClick:()=>removeActivity(act.id)})]},act.id))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-save\",children:\"\\uD83D\\uDCBE Guardar\"})]})});}","map":{"version":3,"names":["React","useState","useNavigate","FaGripVertical","FaPlus","FaTrash","jsx","_jsx","jsxs","_jsxs","NewRoutineTemplatePage","navigate","form","setForm","name","description","category","tags","duration","reminder","activities","tagInput","setTagInput","handleChange","key","value","f","addTag","t","trim","includes","removeTag","filter","x","addActivity","id","Date","now","desc","challenge","minutes","updateActivity","field","val","map","a","removeActivity","onDragStart","e","idx","dataTransfer","setData","onDrop","preventDefault","from","getData","list","moved","splice","allowDrop","handleSubmit","token","localStorage","getItem","alert","payload","_ref","res","fetch","method","headers","body","JSON","stringify","status","ok","text","Error","err","console","error","message","className","children","onSubmit","onChange","target","placeholder","required","rows","type","min","onKeyDown","onClick","style","cursor","act","draggable","onDragOver","width"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/TemplateForm.js"],"sourcesContent":["// src/pages/NewRoutineTemplatePage.js\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/routineTemplates.css';\r\nimport { FaGripVertical, FaPlus, FaTrash } from 'react-icons/fa';\r\n\r\nexport default function NewRoutineTemplatePage() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: '',\r\n    tags: [],\r\n    duration: 30,\r\n    reminder: 'none',\r\n    activities: []\r\n  });\r\n  const [tagInput, setTagInput] = useState('');\r\n\r\n  // Helpers para el formulario\r\n  const handleChange = (key, value) => {\r\n    setForm(f => ({ ...f, [key]: value }));\r\n  };\r\n  const addTag = () => {\r\n    const t = tagInput.trim();\r\n    if (t && !form.tags.includes(t)) {\r\n      handleChange('tags', [...form.tags, t]);\r\n    }\r\n    setTagInput('');\r\n  };\r\n  const removeTag = t => {\r\n    handleChange('tags', form.tags.filter(x => x !== t));\r\n  };\r\n\r\n  // Helpers para actividades\r\n  const addActivity = () => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: [\r\n        ...f.activities,\r\n        { id: Date.now(), name: '', desc: '', challenge: 'Bajo', minutes: 10 }\r\n      ]\r\n    }));\r\n  };\r\n  const updateActivity = (id, field, val) => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.map(a =>\r\n        a.id === id ? { ...a, [field]: val } : a\r\n      )\r\n    }));\r\n  };\r\n  const removeActivity = id => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.filter(a => a.id !== id)\r\n    }));\r\n  };\r\n  const onDragStart = (e, idx) => e.dataTransfer.setData('text/plain', idx);\r\n  const onDrop = (e, idx) => {\r\n    e.preventDefault();\r\n    const from = +e.dataTransfer.getData('text/plain');\r\n    if (from === idx) return;\r\n    setForm(f => {\r\n      const list = [...f.activities];\r\n      const [moved] = list.splice(from, 1);\r\n      list.splice(idx, 0, moved);\r\n      return { ...f, activities: list };\r\n    });\r\n  };\r\n  const allowDrop = e => e.preventDefault();\r\n\r\n  // Env√≠a el formulario, limpiando cualquier _id de subdocumentos\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Debes iniciar sesi√≥n.');\r\n      return navigate('/login');\r\n    }\r\n\r\n    // Construimos el payload sin campos _id\r\n    const payload = {\r\n      name:        form.name,\r\n      description: form.description,\r\n      category:    form.category,\r\n      tags:        form.tags,\r\n      duration:    form.duration,\r\n      reminder:    form.reminder,\r\n      activities:  form.activities.map(({ name, desc, challenge, minutes }) => ({\r\n        name, desc, challenge, minutes\r\n      }))\r\n    };\r\n\r\n    try {\r\n      const res = await fetch('/api/routines/templates', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-auth-token': token\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      if (res.status === 401) {\r\n        alert('Sesi√≥n expirada. Inicia sesi√≥n de nuevo.');\r\n        return navigate('/login');\r\n      }\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(`Error ${res.status}: ${text}`);\r\n      }\r\n      // √âxito: volvemos al listado\r\n      navigate('/therapist/templates');\r\n    } catch (err) {\r\n      console.error('Error guardando plantilla:', err);\r\n      alert('No se pudo guardar la plantilla:\\n' + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"routine-templates-page\">\r\n      <form\r\n        className=\"tpl-container tpl-form landscape\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2>Crear Nueva Plantilla</h2>\r\n\r\n        {/* Grid apaisado */}\r\n        <div className=\"form-grid\">\r\n          <div className=\"form-group\">\r\n            <label>Nombre</label>\r\n            <input\r\n              value={form.name}\r\n              onChange={e => handleChange('name', e.target.value)}\r\n              placeholder=\"Ej. Rutina matutina\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Categor√≠a</label>\r\n            <select\r\n              value={form.category}\r\n              onChange={e => handleChange('category', e.target.value)}\r\n            >\r\n              <option value=\"\">‚Äî Selecciona ‚Äî</option>\r\n              <option>Relajaci√≥n</option>\r\n              <option>Ejercicio F√≠sico</option>\r\n              <option>Mindfulness</option>\r\n              <option>H√°bito Saludable</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Descripci√≥n</label>\r\n            <textarea\r\n              value={form.description}\r\n              onChange={e => handleChange('description', e.target.value)}\r\n              rows={3}\r\n              placeholder=\"Objetivo de la plantilla\"\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Duraci√≥n (min)</label>\r\n            <input\r\n              type=\"number\"\r\n              min={5}\r\n              value={form.duration}\r\n              onChange={e => handleChange('duration', +e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Recordatorio</label>\r\n            <select\r\n              value={form.reminder}\r\n              onChange={e => handleChange('reminder', e.target.value)}\r\n            >\r\n              <option value=\"none\">Sin recordatorio</option>\r\n              <option value=\"daily\">Diario</option>\r\n              <option value=\"weekly\">Semanal</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group tag-group\">\r\n            <label>Tags</label>\r\n            <div className=\"tag-input-group\">\r\n              <input\r\n                value={tagInput}\r\n                onChange={e => setTagInput(e.target.value)}\r\n                onKeyDown={e =>\r\n                  e.key === 'Enter' && (e.preventDefault(), addTag())\r\n                }\r\n                placeholder=\"A√±adir tag\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-new\"\r\n                onClick={addTag}\r\n              >\r\n                <FaPlus />\r\n              </button>\r\n            </div>\r\n            <div className=\"tags-list\">\r\n              {form.tags.map(t => (\r\n                <span key={t} className=\"tag-pill\">\r\n                  {t}{' '}\r\n                  <FaTrash\r\n                    onClick={() => removeTag(t)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  />\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        {/* Actividades en scroll horizontal */}\r\n        <div className=\"activities-controls\">\r\n          <h3>Actividades</h3>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-new\"\r\n            onClick={addActivity}\r\n          >\r\n            <FaPlus /> A√±adir\r\n          </button>\r\n        </div>\r\n        <div className=\"activities-list horizontal-scroll\">\r\n          {form.activities.map((act, idx) => (\r\n            <div\r\n              key={act.id}\r\n              className=\"activity-item landscape\"\r\n              draggable\r\n              onDragStart={e => onDragStart(e, idx)}\r\n              onDragOver={allowDrop}\r\n              onDrop={e => onDrop(e, idx)}\r\n            >\r\n              <FaGripVertical className=\"drag-handle\" />\r\n              <input\r\n                className=\"small-input\"\r\n                value={act.name}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'name', e.target.value)\r\n                }\r\n                placeholder=\"Actividad\"\r\n              />\r\n              <select\r\n                className=\"small-select\"\r\n                value={act.challenge}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'challenge', e.target.value)\r\n                }\r\n              >\r\n                <option>Bajo</option>\r\n                <option>Medio</option>\r\n                <option>Alto</option>\r\n              </select>\r\n              <input\r\n                type=\"number\"\r\n                className=\"small-input\"\r\n                style={{ width: '4rem' }}\r\n                value={act.minutes}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'minutes', +e.target.value)\r\n                }\r\n              />\r\n              <FaTrash\r\n                className=\"remove-ico\"\r\n                onClick={() => removeActivity(act.id)}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn-save\">\r\n          üíæ Guardar\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}