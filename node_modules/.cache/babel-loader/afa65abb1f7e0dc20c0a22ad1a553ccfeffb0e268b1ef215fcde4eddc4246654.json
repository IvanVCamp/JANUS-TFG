{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import{Pie,Bar,Line,Doughnut}from'react-chartjs-2';import{format,subDays}from'date-fns';import'../styles/therapistRoutines.css';// Mapeo de activityId a categorías\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const categoryMap={futbol:'Juegos',videojuegos:'Juegos',computadora:'Juegos',amigos:'Social',parque:'Social',tarea:'Estudio/Terapia',dibujos:'Estudio/Terapia',comics:'Estudio/Terapia',lego:'Ocio creativo',dibujar:'Ocio creativo',experimentos:'Ocio creativo',musica:'Ocio tranquilo',cantar:'Ocio tranquilo',helado:'Ocio tranquilo',nadar:'Ocio físico',bicicleta:'Ocio físico',baño:'Aseo personal',dormir:'Sueño/Descanso',mascotas:'Social'};// Categorías activas y pasivas para ratio\nconst activeCats=['Juegos','Estudio/Terapia','Social','Ocio creativo','Ocio tranquilo','Ocio físico'];const passiveCats=['Sueño/Descanso','Aseo personal'];function PatientRoutines(){const{patientId}=useParams();const navigate=useNavigate();const[history,setHistory]=useState([]);// últimos 7 resultados\nconst[current,setCurrent]=useState(null);// snapshot más reciente\nconst[filterCat,setFilterCat]=useState('Todas');const[loading,setLoading]=useState(true);// Cargar resultados de la Máquina del Tiempo\nuseEffect(()=>{async function fetchData(){try{const token=localStorage.getItem('token');const res=await axios.get(`https://localhost:8080/api/game?patientId=${patientId}`,{headers:{'x-auth-token':token}});const results=res.data;if(!results.length)return;setCurrent(results[0]);setHistory(results.slice(0,7));}catch(err){console.error('Error al cargar rutinas:',err);}finally{setLoading(false);}}fetchData();},[patientId]);if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"rut-loading\",children:\"Cargando estad\\xEDsticas\\u2026\"});if(!current)return/*#__PURE__*/_jsx(\"p\",{className:\"rut-loading\",children:\"No hay datos de rutina disponibles.\"});// Aplanar todas las actividades de la snapshot actual\nconst flatActs=current.timeSlots.flatMap(slot=>slot.activities.map(act=>({...act,slot:slot.id,category:categoryMap[act.activityId]||'Otro'})));// 1. Distribución por categoría\nconst totalTime=flatActs.reduce((sum,a)=>sum+a.duration,0);const byCategory=flatActs.reduce((acc,a)=>{acc[a.category]=(acc[a.category]||0)+a.duration;return acc;},{});const pieData={labels:Object.keys(byCategory),datasets:[{data:Object.values(byCategory),backgroundColor:['#7c63f6','#6b55d7','#ffcc80','#ffa000','#81c784','#64b5f6','#e57373','#ba68c8']}]};// 2. Duración media por actividad\nconst actsGrouped=flatActs.reduce((acc,a)=>{const key=a.activityId;if(!acc[key])acc[key]={title:a.title,durations:[]};acc[key].durations.push(a.duration);return acc;},{});const barLabels=Object.values(actsGrouped).map(g=>g.title);const barData={labels:barLabels,datasets:[{label:'Minutos medios',data:Object.values(actsGrouped).map(g=>g.durations.reduce((s,d)=>s+d,0)/g.durations.length),backgroundColor:'#675af5'}]};// 3. Variedad de actividades\nconst varietyCount=Object.keys(actsGrouped).length;// 4. Occupational Balance Index (Shannon)\nconst ps=Object.values(byCategory).map(v=>v/totalTime);const H=-ps.reduce((s,p)=>p>0?s+p*Math.log(p):s,0);const Hmax=Math.log(ps.length);const obi=Hmax>0?(H/Hmax).toFixed(2):0;// 5. Horas pico\nconst slotSums=current.timeSlots.map(s=>({slot:s.id,sum:s.activities.reduce((s,t)=>s+t.duration,0)}));const top3=[...slotSums].sort((a,b)=>b.sum-a.sum).slice(0,3).map(o=>o.slot);// 6. Evolución semanal por categoría (Line chart)\nconst days=history.map(r=>format(new Date(r.createdAt),'dd/MM'));const catSet=Object.keys(byCategory);const trendDatasets=catSet.map((cat,i)=>({label:cat,data:history.map(r=>{// sumar en esa snapshot r el tiempo de esa categoría\nconst flat=r.timeSlots.flatMap(sl=>sl.activities.map(a=>({...a,category:categoryMap[a.activityId]||'Otro'})));return flat.filter(a=>a.category===cat).reduce((s,a)=>s+a.duration,0);}),borderColor:pieData.datasets[0].backgroundColor[i%pieData.datasets[0].backgroundColor.length],fill:false}));const lineData={labels:days,datasets:trendDatasets};// 7. Activo vs Pasivo ratio (Doughnut)\nconst activeTime=Object.entries(byCategory).filter(_ref=>{let[cat]=_ref;return activeCats.includes(cat);}).reduce((s,_ref2)=>{let[,v]=_ref2;return s+v;},0);const passiveTime=totalTime-activeTime;const donutData={labels:['Activo','Pasivo'],datasets:[{data:[activeTime,passiveTime],backgroundColor:['#4caf50','#ff5722']}]};// 8. Desviación vs media histórica\nconst histByCat={};// suma por categoría en history\nhistory.forEach(r=>{r.timeSlots.forEach(sl=>{sl.activities.forEach(a=>{const cat=categoryMap[a.activityId]||'Otro';histByCat[cat]=(histByCat[cat]||0)+a.duration;});});});const histMean={};Object.entries(histByCat).forEach(_ref3=>{let[cat,sum]=_ref3;histMean[cat]=sum/history.length;});const devLabels=Object.keys(byCategory);const devData={labels:devLabels,datasets:[{label:'Media (ult. semanas)',data:devLabels.map(cat=>histMean[cat]||0),backgroundColor:'#ccc'},{label:'Semana actual',data:devLabels.map(cat=>byCategory[cat]||0),backgroundColor:'#675af5'}]};// 9. Preparar datos para tabla detallada\nconst tableRows=flatActs.map((a,idx)=>({id:idx,day:format(new Date(current.createdAt),'dd/MM/yyyy'),slot:a.slot,title:a.title,duration:a.duration,category:a.category})).filter(r=>filterCat==='Todas'||r.category===filterCat);const allCats=['Todas',...Object.keys(byCategory)];return/*#__PURE__*/_jsxs(\"div\",{className:\"routines-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:()=>navigate(-1),children:\"\\u2190 Volver\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Estad\\xEDsticas de Rutina\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-bar\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Filtrar por categor\\xEDa: \"}),/*#__PURE__*/_jsx(\"select\",{value:filterCat,onChange:e=>setFilterCat(e.target.value),children:allCats.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"kpi-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Equilibrio Ocupacional\"}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-value\",children:obi})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Variedad de Actividades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"kpi-value\",children:varietyCount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tiempo Activo / Pasivo\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"kpi-value\",children:[(activeTime/totalTime*100).toFixed(0),\"\\xA0% / \",(passiveTime/totalTime*100).toFixed(0),\"\\xA0%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Tiempo por categor\\xEDa\"}),/*#__PURE__*/_jsx(Pie,{data:pieData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Duraci\\xF3n media por actividad\"}),/*#__PURE__*/_jsx(Bar,{data:barData})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"charts-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card full\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Evoluci\\xF3n semanal\"}),/*#__PURE__*/_jsx(Line,{data:lineData})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"charts-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Activo vs Pasivo\"}),/*#__PURE__*/_jsx(Doughnut,{data:donutData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Desviaci\\xF3n vs Hist\\xF3rica\"}),/*#__PURE__*/_jsx(Bar,{data:devData})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"peak-hours\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Horas pico\"}),/*#__PURE__*/_jsx(\"ul\",{children:top3.map(h=>/*#__PURE__*/_jsx(\"li\",{children:h},h))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"heatmap\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Consistencia diaria (\\xFAltimos \",history.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"heatmap-grid\",children:history.map((r,di)=>{const slotsSet=new Set(r.timeSlots.map(s=>s.id));return Array.from({length:24}).map((_,hi)=>{const hr=String(hi).padStart(2,'0')+':00';const filled=slotsSet.has(hr);return/*#__PURE__*/_jsx(\"div\",{className:`heatcell ${filled?'level-1':'level-0'}`,title:`${format(new Date(r.createdAt),'dd/MM')} ${hr}`},`${di}-${hi}`);});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Detalle de la rutina\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"D\\xEDa\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hora\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actividad\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Duraci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Categor\\xEDa\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableRows.map(r=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:r.day}),/*#__PURE__*/_jsx(\"td\",{children:r.slot}),/*#__PURE__*/_jsx(\"td\",{children:r.title}),/*#__PURE__*/_jsxs(\"td\",{children:[r.duration,\"\\xA0min\"]}),/*#__PURE__*/_jsx(\"td\",{children:r.category})]},r.id))})]})]})]});}export default PatientRoutines;","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","Pie","Bar","Line","Doughnut","format","subDays","jsx","_jsx","jsxs","_jsxs","categoryMap","futbol","videojuegos","computadora","amigos","parque","tarea","dibujos","comics","lego","dibujar","experimentos","musica","cantar","helado","nadar","bicicleta","baño","dormir","mascotas","activeCats","passiveCats","PatientRoutines","patientId","navigate","history","setHistory","current","setCurrent","filterCat","setFilterCat","loading","setLoading","fetchData","token","localStorage","getItem","res","get","headers","results","data","length","slice","err","console","error","className","children","flatActs","timeSlots","flatMap","slot","activities","map","act","id","category","activityId","totalTime","reduce","sum","a","duration","byCategory","acc","pieData","labels","Object","keys","datasets","values","backgroundColor","actsGrouped","key","title","durations","push","barLabels","g","barData","label","s","d","varietyCount","ps","v","H","p","Math","log","Hmax","obi","toFixed","slotSums","t","top3","sort","b","o","days","r","Date","createdAt","catSet","trendDatasets","cat","i","flat","sl","filter","borderColor","fill","lineData","activeTime","entries","_ref","includes","_ref2","passiveTime","donutData","histByCat","forEach","histMean","_ref3","devLabels","devData","tableRows","idx","day","allCats","onClick","value","onChange","e","target","h","di","slotsSet","Set","Array","from","_","hi","hr","String","padStart","filled","has"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientRoutines.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Pie, Bar, Line, Doughnut } from 'react-chartjs-2';\r\nimport { format, subDays } from 'date-fns';\r\nimport '../styles/therapistRoutines.css';\r\n\r\n// Mapeo de activityId a categorías\r\nconst categoryMap = {\r\n  futbol: 'Juegos',\r\n  videojuegos: 'Juegos',\r\n  computadora: 'Juegos',\r\n  amigos: 'Social',\r\n  parque: 'Social',\r\n  tarea: 'Estudio/Terapia',\r\n  dibujos: 'Estudio/Terapia',\r\n  comics: 'Estudio/Terapia',\r\n  lego: 'Ocio creativo',\r\n  dibujar: 'Ocio creativo',\r\n  experimentos: 'Ocio creativo',\r\n  musica: 'Ocio tranquilo',\r\n  cantar: 'Ocio tranquilo',\r\n  helado: 'Ocio tranquilo',\r\n  nadar: 'Ocio físico',\r\n  bicicleta: 'Ocio físico',\r\n  baño: 'Aseo personal',\r\n  dormir: 'Sueño/Descanso',\r\n  mascotas: 'Social'\r\n};\r\n\r\n// Categorías activas y pasivas para ratio\r\nconst activeCats = ['Juegos','Estudio/Terapia','Social','Ocio creativo','Ocio tranquilo','Ocio físico'];\r\nconst passiveCats = ['Sueño/Descanso','Aseo personal'];\r\n\r\nfunction PatientRoutines() {\r\n  const { patientId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [history, setHistory] = useState([]);        // últimos 7 resultados\r\n  const [current, setCurrent] = useState(null);      // snapshot más reciente\r\n  const [filterCat, setFilterCat] = useState('Todas');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Cargar resultados de la Máquina del Tiempo\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const res = await axios.get(\r\n          `https://localhost:8080/api/game?patientId=${patientId}`,\r\n          { headers: { 'x-auth-token': token } }\r\n        );\r\n        const results = res.data;\r\n        if (!results.length) return;\r\n        setCurrent(results[0]);\r\n        setHistory(results.slice(0, 7));\r\n      } catch (err) {\r\n        console.error('Error al cargar rutinas:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [patientId]);\r\n\r\n  if (loading) return <p className=\"rut-loading\">Cargando estadísticas…</p>;\r\n  if (!current) return <p className=\"rut-loading\">No hay datos de rutina disponibles.</p>;\r\n\r\n  // Aplanar todas las actividades de la snapshot actual\r\n  const flatActs = current.timeSlots.flatMap(slot =>\r\n    slot.activities.map(act => ({\r\n      ...act,\r\n      slot: slot.id,\r\n      category: categoryMap[act.activityId] || 'Otro'\r\n    }))\r\n  );\r\n\r\n  // 1. Distribución por categoría\r\n  const totalTime = flatActs.reduce((sum, a) => sum + a.duration, 0);\r\n  const byCategory = flatActs.reduce((acc, a) => {\r\n    acc[a.category] = (acc[a.category] || 0) + a.duration;\r\n    return acc;\r\n  }, {});\r\n  const pieData = {\r\n    labels: Object.keys(byCategory),\r\n    datasets: [{\r\n      data: Object.values(byCategory),\r\n      backgroundColor: [\r\n        '#7c63f6','#6b55d7','#ffcc80','#ffa000','#81c784',\r\n        '#64b5f6','#e57373','#ba68c8'\r\n      ]\r\n    }]\r\n  };\r\n\r\n  // 2. Duración media por actividad\r\n  const actsGrouped = flatActs.reduce((acc, a) => {\r\n    const key = a.activityId;\r\n    if (!acc[key]) acc[key] = { title: a.title, durations: [] };\r\n    acc[key].durations.push(a.duration);\r\n    return acc;\r\n  }, {});\r\n  const barLabels = Object.values(actsGrouped).map(g => g.title);\r\n  const barData = {\r\n    labels: barLabels,\r\n    datasets: [{\r\n      label: 'Minutos medios',\r\n      data: Object.values(actsGrouped).map(g => (\r\n        g.durations.reduce((s, d) => s + d, 0) / g.durations.length\r\n      )),\r\n      backgroundColor: '#675af5'\r\n    }]\r\n  };\r\n\r\n  // 3. Variedad de actividades\r\n  const varietyCount = Object.keys(actsGrouped).length;\r\n\r\n  // 4. Occupational Balance Index (Shannon)\r\n  const ps = Object.values(byCategory).map(v => v / totalTime);\r\n  const H = -ps.reduce((s, p) => p>0 ? s + p * Math.log(p) : s, 0);\r\n  const Hmax = Math.log(ps.length);\r\n  const obi = Hmax>0 ? (H / Hmax).toFixed(2) : 0;\r\n\r\n  // 5. Horas pico\r\n  const slotSums = current.timeSlots.map(s => ({\r\n    slot: s.id,\r\n    sum: s.activities.reduce((s,t)=>s+t.duration,0)\r\n  }));\r\n  const top3 = [...slotSums]\r\n    .sort((a,b)=>b.sum - a.sum)\r\n    .slice(0,3)\r\n    .map(o=>o.slot);\r\n\r\n  // 6. Evolución semanal por categoría (Line chart)\r\n  const days = history.map(r => format(new Date(r.createdAt), 'dd/MM'));\r\n  const catSet = Object.keys(byCategory);\r\n  const trendDatasets = catSet.map((cat,i)=>({\r\n    label: cat,\r\n    data: history.map(r=>{\r\n      // sumar en esa snapshot r el tiempo de esa categoría\r\n      const flat = r.timeSlots.flatMap(sl=>sl.activities.map(a=>({\r\n        ...a, category: categoryMap[a.activityId]||'Otro'\r\n      })));\r\n      return flat.filter(a=>a.category===cat)\r\n                 .reduce((s,a)=>s+a.duration,0);\r\n    }),\r\n    borderColor: pieData.datasets[0].backgroundColor[i%pieData.datasets[0].backgroundColor.length],\r\n    fill: false\r\n  }));\r\n  const lineData = { labels: days, datasets: trendDatasets };\r\n\r\n  // 7. Activo vs Pasivo ratio (Doughnut)\r\n  const activeTime = Object.entries(byCategory)\r\n    .filter(([cat])=> activeCats.includes(cat))\r\n    .reduce((s,[,v])=>s+v,0);\r\n  const passiveTime = totalTime - activeTime;\r\n  const donutData = {\r\n    labels: ['Activo','Pasivo'],\r\n    datasets: [{ data: [activeTime, passiveTime], backgroundColor: ['#4caf50','#ff5722'] }]\r\n  };\r\n\r\n  // 8. Desviación vs media histórica\r\n  const histByCat = {}; // suma por categoría en history\r\n  history.forEach(r=>{\r\n    r.timeSlots.forEach(sl=>{\r\n      sl.activities.forEach(a=>{\r\n        const cat = categoryMap[a.activityId] || 'Otro';\r\n        histByCat[cat] = (histByCat[cat]||0) + a.duration;\r\n      });\r\n    });\r\n  });\r\n  const histMean = {};\r\n  Object.entries(histByCat).forEach(([cat,sum])=>{\r\n    histMean[cat] = sum / history.length;\r\n  });\r\n  const devLabels = Object.keys(byCategory);\r\n  const devData = {\r\n    labels: devLabels,\r\n    datasets: [\r\n      {\r\n        label: 'Media (ult. semanas)',\r\n        data: devLabels.map(cat => histMean[cat]||0),\r\n        backgroundColor: '#ccc'\r\n      },\r\n      {\r\n        label: 'Semana actual',\r\n        data: devLabels.map(cat => byCategory[cat]||0),\r\n        backgroundColor: '#675af5'\r\n      }\r\n    ]\r\n  };\r\n\r\n  // 9. Preparar datos para tabla detallada\r\n  const tableRows = flatActs.map((a, idx) => ({\r\n    id: idx,\r\n    day: format(new Date(current.createdAt), 'dd/MM/yyyy'),\r\n    slot: a.slot,\r\n    title: a.title,\r\n    duration: a.duration,\r\n    category: a.category\r\n  })).filter(r =>\r\n    filterCat === 'Todas' || r.category === filterCat\r\n  );\r\n\r\n  const allCats = ['Todas', ...Object.keys(byCategory)];\r\n\r\n  return (\r\n    <div className=\"routines-container\">\r\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>← Volver</button>\r\n      <h1>Estadísticas de Rutina</h1>\r\n\r\n      {/* Filtros */}\r\n      <div className=\"filter-bar\">\r\n        <label>Filtrar por categoría: </label>\r\n        <select value={filterCat} onChange={e => setFilterCat(e.target.value)}>\r\n          {allCats.map(cat=> <option key={cat} value={cat}>{cat}</option>)}\r\n        </select>\r\n      </div>\r\n\r\n      {/* KPI Cards */}\r\n      <div className=\"kpi-cards\">\r\n        <div className=\"card\">\r\n          <h3>Equilibrio Ocupacional</h3>\r\n          <p className=\"kpi-value\">{obi}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Variedad de Actividades</h3>\r\n          <p className=\"kpi-value\">{varietyCount}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Tiempo Activo / Pasivo</h3>\r\n          <p className=\"kpi-value\">\r\n            {((activeTime/totalTime)*100).toFixed(0)} % / {((passiveTime/totalTime)*100).toFixed(0)} %\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Gráficos */}\r\n      <div className=\"charts-row\">\r\n        <div className=\"chart-card\"><h4>Tiempo por categoría</h4><Pie data={pieData} /></div>\r\n        <div className=\"chart-card\"><h4>Duración media por actividad</h4><Bar data={barData} /></div>\r\n      </div>\r\n      <div className=\"charts-row\">\r\n        <div className=\"chart-card full\"><h4>Evolución semanal</h4><Line data={lineData} /></div>\r\n      </div>\r\n      <div className=\"charts-row\">\r\n        <div className=\"chart-card\"><h4>Activo vs Pasivo</h4><Doughnut data={donutData} /></div>\r\n        <div className=\"chart-card\"><h4>Desviación vs Histórica</h4><Bar data={devData} /></div>\r\n      </div>\r\n\r\n      {/* Horas pico */}\r\n      <div className=\"peak-hours\">\r\n        <h4>Horas pico</h4>\r\n        <ul>\r\n          {top3.map(h => <li key={h}>{h}</li>)}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* Heatmap de consistencia */}\r\n      <div className=\"heatmap\">\r\n        <h4>Consistencia diaria (últimos {history.length})</h4>\r\n        <div className=\"heatmap-grid\">\r\n          {history.map((r, di) => {\r\n            const slotsSet = new Set(r.timeSlots.map(s=>s.id));\r\n            return Array.from({ length: 24 }).map((_, hi) => {\r\n              const hr = String(hi).padStart(2,'0') + ':00';\r\n              const filled = slotsSet.has(hr);\r\n              return (\r\n                <div\r\n                  key={`${di}-${hi}`}\r\n                  className={`heatcell ${filled ? 'level-1':'level-0'}`}\r\n                  title={`${format(new Date(r.createdAt),'dd/MM')} ${hr}`}\r\n                />\r\n              );\r\n            });\r\n          })}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabla detallada */}\r\n      <div className=\"data-table\">\r\n        <h4>Detalle de la rutina</h4>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Día</th><th>Hora</th><th>Actividad</th><th>Duración</th><th>Categoría</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tableRows.map(r => (\r\n              <tr key={r.id}>\r\n                <td>{r.day}</td>\r\n                <td>{r.slot}</td>\r\n                <td>{r.title}</td>\r\n                <td>{r.duration} min</td>\r\n                <td>{r.category}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PatientRoutines;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}