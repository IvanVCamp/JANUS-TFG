{"ast":null,"code":"// src/pages/EditRoutineTemplatePage.js\nimport React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import'../styles/routineTemplates.css';import{FaGripVertical,FaPlus,FaTrash}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditRoutineTemplatePage(){const{id}=useParams();const navigate=useNavigate();const[form,setForm]=useState(null);const[tagInput,setTagInput]=useState('');const token=localStorage.getItem('token');const headers={'Content-Type':'application/json','x-auth-token':token};// Load template to edit\nuseEffect(()=>{if(!token){navigate('/login');return;}fetch(`/api/routines/templates/${id}`,{headers}).then(res=>{if(res.status===401)throw new Error('Sesión expirada');if(!res.ok)throw new Error(`Plantilla no encontrada (${res.status})`);return res.json();}).then(tpl=>{// Map activities, adding a temp id for drag&drop\nconst acts=tpl.activities.map((a,idx)=>({id:Date.now()+idx,name:a.name,desc:a.desc,challenge:a.challenge,minutes:a.minutes}));setForm({name:tpl.name,description:tpl.description,category:tpl.category,tags:tpl.tags,duration:tpl.duration,reminder:tpl.reminder,activities:acts});}).catch(err=>{console.error(err);navigate('/therapist/templates');});},[id,navigate,token]);if(form===null){return/*#__PURE__*/_jsx(\"div\",{className:\"tpl-container\",children:\"Cargando plantilla\\u2026\"});}// Simple field change\nconst handleChange=(key,value)=>{setForm(f=>({...f,[key]:value}));};// Tags\nconst addTag=()=>{const t=tagInput.trim();if(t&&!form.tags.includes(t)){handleChange('tags',[...form.tags,t]);}setTagInput('');};const removeTag=t=>{handleChange('tags',form.tags.filter(x=>x!==t));};// Activities\nconst addActivity=()=>{setForm(f=>({...f,activities:[...f.activities,{id:Date.now(),name:'',desc:'',challenge:'Bajo',minutes:10}]}));};const updateActivity=(idAct,field,value)=>{setForm(f=>({...f,activities:f.activities.map(a=>a.id===idAct?{...a,[field]:value}:a)}));};const removeActivity=idAct=>{setForm(f=>({...f,activities:f.activities.filter(a=>a.id!==idAct)}));};// Drag & drop reorder\nconst onDragStart=(e,idx)=>{e.dataTransfer.setData('text/plain',idx);};const onDrop=(e,idx)=>{e.preventDefault();const from=+e.dataTransfer.getData('text/plain');if(from===idx)return;setForm(f=>{const list=[...f.activities];const[moved]=list.splice(from,1);list.splice(idx,0,moved);return{...f,activities:list};});};const allowDrop=e=>e.preventDefault();// Submit updates\nconst handleSubmit=async e=>{e.preventDefault();try{const payload={name:form.name,description:form.description,category:form.category,tags:form.tags,duration:form.duration,reminder:form.reminder,activities:form.activities.map(a=>({name:a.name,desc:a.desc,challenge:a.challenge,minutes:a.minutes}))};const res=await fetch(`/api/routines/templates/${id}`,{method:'PUT',headers,body:JSON.stringify(payload)});if(res.status===401){alert('Sesión expirada');return navigate('/login');}if(!res.ok){const text=await res.text();throw new Error(`Error ${res.status}: ${text}`);}navigate('/therapist/templates');}catch(err){console.error('Error actualizando plantilla:',err);alert('No se pudo actualizar la plantilla:\\n'+err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"routine-templates-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"tpl-container tpl-form landscape\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Editar Plantilla\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{value:form.name,onChange:e=>handleChange('name',e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:form.description,onChange:e=>handleChange('description',e.target.value),rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.category,onChange:e=>handleChange('category',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 Selecciona \\u2014\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Relajaci\\xF3n\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ejercicio F\\xEDsico\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Mindfulness\"}),/*#__PURE__*/_jsx(\"option\",{children:\"H\\xE1bito Saludable\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Duraci\\xF3n (min)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:5,value:form.duration,onChange:e=>handleChange('duration',+e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recordatorio\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.reminder,onChange:e=>handleChange('reminder',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"none\",children:\"Sin recordatorio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Diario\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Semanal\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group tag-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tags\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tag-input-group\",children:[/*#__PURE__*/_jsx(\"input\",{value:tagInput,onChange:e=>setTagInput(e.target.value),onKeyDown:e=>e.key==='Enter'&&(e.preventDefault(),addTag()),placeholder:\"A\\xF1adir tag\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-new\",onClick:addTag,children:/*#__PURE__*/_jsx(FaPlus,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tags-list\",children:form.tags.map(t=>/*#__PURE__*/_jsxs(\"span\",{className:\"tag-pill\",children:[t,' ',/*#__PURE__*/_jsx(FaTrash,{onClick:()=>removeTag(t),style:{cursor:'pointer'}})]},t))})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"activities-controls\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Actividades\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-new\",onClick:addActivity,children:[/*#__PURE__*/_jsx(FaPlus,{}),\" A\\xF1adir Actividad\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"activities-list horizontal-scroll\",children:form.activities.map((act,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item landscape\",draggable:true,onDragStart:e=>onDragStart(e,idx),onDragOver:allowDrop,onDrop:e=>onDrop(e,idx),children:[/*#__PURE__*/_jsx(FaGripVertical,{className:\"drag-handle\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",value:act.name,onChange:e=>updateActivity(act.id,'name',e.target.value),placeholder:\"Nombre actividad\"}),/*#__PURE__*/_jsx(\"input\",{className:\"small-input\",value:act.desc,onChange:e=>updateActivity(act.id,'desc',e.target.value),placeholder:\"Descripci\\xF3n breve\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"small-select\",value:act.challenge,onChange:e=>updateActivity(act.id,'challenge',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{children:\"Bajo\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Medio\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Alto\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"small-input\",style:{width:'4rem'},value:act.minutes,onChange:e=>updateActivity(act.id,'minutes',+e.target.value)}),/*#__PURE__*/_jsx(FaTrash,{className:\"remove-ico\",onClick:()=>removeActivity(act.id)})]},act.id))}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-save\",children:\"\\uD83D\\uDCBE Actualizar Plantilla\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","FaGripVertical","FaPlus","FaTrash","jsx","_jsx","jsxs","_jsxs","EditRoutineTemplatePage","id","navigate","form","setForm","tagInput","setTagInput","token","localStorage","getItem","headers","fetch","then","res","status","Error","ok","json","tpl","acts","activities","map","a","idx","Date","now","name","desc","challenge","minutes","description","category","tags","duration","reminder","catch","err","console","error","className","children","handleChange","key","value","f","addTag","t","trim","includes","removeTag","filter","x","addActivity","updateActivity","idAct","field","removeActivity","onDragStart","e","dataTransfer","setData","onDrop","preventDefault","from","getData","list","moved","splice","allowDrop","handleSubmit","payload","method","body","JSON","stringify","alert","text","message","onSubmit","onChange","target","required","rows","type","min","onKeyDown","placeholder","onClick","style","cursor","act","draggable","onDragOver","width"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/EditRoutineTemplatePage.js"],"sourcesContent":["// src/pages/EditRoutineTemplatePage.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport '../styles/routineTemplates.css';\r\nimport { FaGripVertical, FaPlus, FaTrash } from 'react-icons/fa';\r\n\r\nexport default function EditRoutineTemplatePage() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState(null);\r\n  const [tagInput, setTagInput] = useState('');\r\n\r\n  const token = localStorage.getItem('token');\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n    'x-auth-token': token\r\n  };\r\n\r\n  // Load template to edit\r\n  useEffect(() => {\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetch(`/api/routines/templates/${id}`, { headers })\r\n      .then(res => {\r\n        if (res.status === 401) throw new Error('Sesión expirada');\r\n        if (!res.ok) throw new Error(`Plantilla no encontrada (${res.status})`);\r\n        return res.json();\r\n      })\r\n      .then(tpl => {\r\n        // Map activities, adding a temp id for drag&drop\r\n        const acts = tpl.activities.map((a, idx) => ({\r\n          id: Date.now() + idx,\r\n          name: a.name,\r\n          desc: a.desc,\r\n          challenge: a.challenge,\r\n          minutes: a.minutes\r\n        }));\r\n        setForm({\r\n          name: tpl.name,\r\n          description: tpl.description,\r\n          category: tpl.category,\r\n          tags: tpl.tags,\r\n          duration: tpl.duration,\r\n          reminder: tpl.reminder,\r\n          activities: acts\r\n        });\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        navigate('/therapist/templates');\r\n      });\r\n  }, [id, navigate, token]);\r\n\r\n  if (form === null) {\r\n    return <div className=\"tpl-container\">Cargando plantilla…</div>;\r\n  }\r\n\r\n  // Simple field change\r\n  const handleChange = (key, value) => {\r\n    setForm(f => ({ ...f, [key]: value }));\r\n  };\r\n\r\n  // Tags\r\n  const addTag = () => {\r\n    const t = tagInput.trim();\r\n    if (t && !form.tags.includes(t)) {\r\n      handleChange('tags', [...form.tags, t]);\r\n    }\r\n    setTagInput('');\r\n  };\r\n  const removeTag = t => {\r\n    handleChange('tags', form.tags.filter(x => x !== t));\r\n  };\r\n\r\n  // Activities\r\n  const addActivity = () => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: [\r\n        ...f.activities,\r\n        { id: Date.now(), name: '', desc: '', challenge: 'Bajo', minutes: 10 }\r\n      ]\r\n    }));\r\n  };\r\n  const updateActivity = (idAct, field, value) => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.map(a =>\r\n        a.id === idAct ? { ...a, [field]: value } : a\r\n      )\r\n    }));\r\n  };\r\n  const removeActivity = idAct => {\r\n    setForm(f => ({\r\n      ...f,\r\n      activities: f.activities.filter(a => a.id !== idAct)\r\n    }));\r\n  };\r\n\r\n  // Drag & drop reorder\r\n  const onDragStart = (e, idx) => {\r\n    e.dataTransfer.setData('text/plain', idx);\r\n  };\r\n  const onDrop = (e, idx) => {\r\n    e.preventDefault();\r\n    const from = +e.dataTransfer.getData('text/plain');\r\n    if (from === idx) return;\r\n    setForm(f => {\r\n      const list = [...f.activities];\r\n      const [moved] = list.splice(from, 1);\r\n      list.splice(idx, 0, moved);\r\n      return { ...f, activities: list };\r\n    });\r\n  };\r\n  const allowDrop = e => e.preventDefault();\r\n\r\n  // Submit updates\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const payload = {\r\n        name: form.name,\r\n        description: form.description,\r\n        category: form.category,\r\n        tags: form.tags,\r\n        duration: form.duration,\r\n        reminder: form.reminder,\r\n        activities: form.activities.map(a => ({\r\n          name: a.name,\r\n          desc: a.desc,\r\n          challenge: a.challenge,\r\n          minutes: a.minutes\r\n        }))\r\n      };\r\n      const res = await fetch(`/api/routines/templates/${id}`, {\r\n        method: 'PUT',\r\n        headers,\r\n        body: JSON.stringify(payload)\r\n      });\r\n      if (res.status === 401) {\r\n        alert('Sesión expirada');\r\n        return navigate('/login');\r\n      }\r\n      if (!res.ok) {\r\n        const text = await res.text();\r\n        throw new Error(`Error ${res.status}: ${text}`);\r\n      }\r\n      navigate('/therapist/templates');\r\n    } catch (err) {\r\n      console.error('Error actualizando plantilla:', err);\r\n      alert('No se pudo actualizar la plantilla:\\n' + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"routine-templates-page\">\r\n      <form\r\n        className=\"tpl-container tpl-form landscape\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <h2>Editar Plantilla</h2>\r\n\r\n        <div className=\"form-grid\">\r\n          <div className=\"form-group\">\r\n            <label>Nombre</label>\r\n            <input\r\n              value={form.name}\r\n              onChange={e => handleChange('name', e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Descripción</label>\r\n            <textarea\r\n              value={form.description}\r\n              onChange={e => handleChange('description', e.target.value)}\r\n              rows={3}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Categoría</label>\r\n            <select\r\n              value={form.category}\r\n              onChange={e => handleChange('category', e.target.value)}\r\n            >\r\n              <option value=\"\">— Selecciona —</option>\r\n              <option>Relajación</option>\r\n              <option>Ejercicio Físico</option>\r\n              <option>Mindfulness</option>\r\n              <option>Hábito Saludable</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Duración (min)</label>\r\n            <input\r\n              type=\"number\"\r\n              min={5}\r\n              value={form.duration}\r\n              onChange={e => handleChange('duration', +e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Recordatorio</label>\r\n            <select\r\n              value={form.reminder}\r\n              onChange={e => handleChange('reminder', e.target.value)}\r\n            >\r\n              <option value=\"none\">Sin recordatorio</option>\r\n              <option value=\"daily\">Diario</option>\r\n              <option value=\"weekly\">Semanal</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group tag-group\">\r\n            <label>Tags</label>\r\n            <div className=\"tag-input-group\">\r\n              <input\r\n                value={tagInput}\r\n                onChange={e => setTagInput(e.target.value)}\r\n                onKeyDown={e =>\r\n                  e.key === 'Enter' && (e.preventDefault(), addTag())\r\n                }\r\n                placeholder=\"Añadir tag\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-new\"\r\n                onClick={addTag}\r\n              >\r\n                <FaPlus />\r\n              </button>\r\n            </div>\r\n            <div className=\"tags-list\">\r\n              {form.tags.map(t => (\r\n                <span key={t} className=\"tag-pill\">\r\n                  {t}{' '}\r\n                  <FaTrash\r\n                    onClick={() => removeTag(t)}\r\n                    style={{ cursor: 'pointer' }}\r\n                  />\r\n                </span>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <div className=\"activities-controls\">\r\n          <h3>Actividades</h3>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-new\"\r\n            onClick={addActivity}\r\n          >\r\n            <FaPlus /> Añadir Actividad\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"activities-list horizontal-scroll\">\r\n          {form.activities.map((act, idx) => (\r\n            <div\r\n              key={act.id}\r\n              className=\"activity-item landscape\"\r\n              draggable\r\n              onDragStart={e => onDragStart(e, idx)}\r\n              onDragOver={allowDrop}\r\n              onDrop={e => onDrop(e, idx)}\r\n            >\r\n              <FaGripVertical className=\"drag-handle\" />\r\n              <input\r\n                className=\"small-input\"\r\n                value={act.name}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'name', e.target.value)\r\n                }\r\n                placeholder=\"Nombre actividad\"\r\n              />\r\n              <input\r\n                className=\"small-input\"\r\n                value={act.desc}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'desc', e.target.value)\r\n                }\r\n                placeholder=\"Descripción breve\"\r\n              />\r\n              <select\r\n                className=\"small-select\"\r\n                value={act.challenge}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'challenge', e.target.value)\r\n                }\r\n              >\r\n                <option>Bajo</option>\r\n                <option>Medio</option>\r\n                <option>Alto</option>\r\n              </select>\r\n              <input\r\n                type=\"number\"\r\n                className=\"small-input\"\r\n                style={{ width: '4rem' }}\r\n                value={act.minutes}\r\n                onChange={e =>\r\n                  updateActivity(act.id, 'minutes', +e.target.value)\r\n                }\r\n              />\r\n              <FaTrash\r\n                className=\"remove-ico\"\r\n                onClick={() => removeActivity(act.id)}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn-save\">\r\n          💾 Actualizar Plantilla\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}