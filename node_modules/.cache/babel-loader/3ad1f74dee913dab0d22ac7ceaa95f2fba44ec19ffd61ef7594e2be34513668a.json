{"ast":null,"code":"import React,{useState,useEffect}from'react';import assignedService from'../services/assignedRoutineService';import'./styles/patientAssignedRoutines.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PatientAssignedRoutines(){const[list,setList]=useState([]);useEffect(()=>{const token=localStorage.getItem('token');assignedService.getList({patientId:''},token).then(res=>setList(res.data));},[]);const updateStatus=async(id,status)=>{const token=localStorage.getItem('token');const inst=await assignedService.update(id,{status},token);setList(list.map(l=>l._id===id?inst.data:l));};return/*#__PURE__*/_jsxs(\"div\",{className:\"pr-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Mis Rutinas Asignadas\"}),list.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No tienes rutinas asignadas.\"}),list.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"pr-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.template.title}),/*#__PURE__*/_jsx(\"p\",{children:item.template.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"pr-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Status: \",/*#__PURE__*/_jsx(\"strong\",{children:item.status})]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Duraci\\xF3n: \",item.template.duration,\" min\"]})]}),item.status==='pending'&&/*#__PURE__*/_jsxs(\"div\",{className:\"pr-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(item._id,'completed'),children:\"Hecho\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(item._id,'postponed'),children:\"Posponer\"})]})]},item._id))]});}","map":{"version":3,"names":["React","useState","useEffect","assignedService","jsx","_jsx","jsxs","_jsxs","PatientAssignedRoutines","list","setList","token","localStorage","getItem","getList","patientId","then","res","data","updateStatus","id","status","inst","update","map","l","_id","className","children","length","item","template","title","description","duration","onClick"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/PatientAssignedRoutines.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport assignedService from '../services/assignedRoutineService';\r\nimport './styles/patientAssignedRoutines.css';\r\n\r\nexport default function PatientAssignedRoutines() {\r\n  const [list, setList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    assignedService.getList({ patientId: '' }, token)\r\n      .then(res => setList(res.data));\r\n  }, []);\r\n\r\n  const updateStatus = async (id, status) => {\r\n    const token = localStorage.getItem('token');\r\n    const inst  = await assignedService.update(id, { status }, token);\r\n    setList(list.map(l => l._id === id ? inst.data : l));\r\n  };\r\n\r\n  return (\r\n    <div className=\"pr-container\">\r\n      <h2>Mis Rutinas Asignadas</h2>\r\n      {list.length === 0 && <p>No tienes rutinas asignadas.</p>}\r\n      {list.map(item => (\r\n        <div key={item._id} className=\"pr-card\">\r\n          <h3>{item.template.title}</h3>\r\n          <p>{item.template.description}</p>\r\n          <div className=\"pr-info\">\r\n            <span>Status: <strong>{item.status}</strong></span>\r\n            <span>Duraci√≥n: {item.template.duration} min</span>\r\n          </div>\r\n          {item.status === 'pending' && (\r\n            <div className=\"pr-actions\">\r\n              <button onClick={()=>updateStatus(item._id,'completed')}>Hecho</button>\r\n              <button onClick={()=>updateStatus(item._id,'postponed')}>Posponer</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAChE,MAAO,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,cAAe,SAAS,CAAAC,uBAAuBA,CAAA,CAAG,CAChD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CV,eAAe,CAACW,OAAO,CAAC,CAAEC,SAAS,CAAE,EAAG,CAAC,CAAEJ,KAAK,CAAC,CAC9CK,IAAI,CAACC,GAAG,EAAIP,OAAO,CAACO,GAAG,CAACC,IAAI,CAAC,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAOC,EAAE,CAAEC,MAAM,GAAK,CACzC,KAAM,CAAAV,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAS,IAAI,CAAI,KAAM,CAAAnB,eAAe,CAACoB,MAAM,CAACH,EAAE,CAAE,CAAEC,MAAO,CAAC,CAAEV,KAAK,CAAC,CACjED,OAAO,CAACD,IAAI,CAACe,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKN,EAAE,CAAGE,IAAI,CAACJ,IAAI,CAAGO,CAAC,CAAC,CAAC,CACtD,CAAC,CAED,mBACElB,KAAA,QAAKoB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BvB,IAAA,OAAAuB,QAAA,CAAI,uBAAqB,CAAI,CAAC,CAC7BnB,IAAI,CAACoB,MAAM,GAAK,CAAC,eAAIxB,IAAA,MAAAuB,QAAA,CAAG,8BAA4B,CAAG,CAAC,CACxDnB,IAAI,CAACe,GAAG,CAACM,IAAI,eACZvB,KAAA,QAAoBoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACrCvB,IAAA,OAAAuB,QAAA,CAAKE,IAAI,CAACC,QAAQ,CAACC,KAAK,CAAK,CAAC,cAC9B3B,IAAA,MAAAuB,QAAA,CAAIE,IAAI,CAACC,QAAQ,CAACE,WAAW,CAAI,CAAC,cAClC1B,KAAA,QAAKoB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBrB,KAAA,SAAAqB,QAAA,EAAM,UAAQ,cAAAvB,IAAA,WAAAuB,QAAA,CAASE,IAAI,CAACT,MAAM,CAAS,CAAC,EAAM,CAAC,cACnDd,KAAA,SAAAqB,QAAA,EAAM,eAAU,CAACE,IAAI,CAACC,QAAQ,CAACG,QAAQ,CAAC,MAAI,EAAM,CAAC,EAChD,CAAC,CACLJ,IAAI,CAACT,MAAM,GAAK,SAAS,eACxBd,KAAA,QAAKoB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvB,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAIhB,YAAY,CAACW,IAAI,CAACJ,GAAG,CAAC,WAAW,CAAE,CAAAE,QAAA,CAAC,OAAK,CAAQ,CAAC,cACvEvB,IAAA,WAAQ8B,OAAO,CAAEA,CAAA,GAAIhB,YAAY,CAACW,IAAI,CAACJ,GAAG,CAAC,WAAW,CAAE,CAAAE,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACvE,CACN,GAZOE,IAAI,CAACJ,GAaV,CACN,CAAC,EACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}