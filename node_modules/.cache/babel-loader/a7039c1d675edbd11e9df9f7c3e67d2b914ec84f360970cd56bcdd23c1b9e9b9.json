{"ast":null,"code":"import React,{useEffect,useState}from'react';import routineService from'../services/routineTemplateService';import axios from'axios';import'../styles/routineTemplates.css';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AssignTemplate(){const{templateId}=useParams();const[patients,setPatients]=useState([]);const[selected,setSelected]=useState('');const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');axios.get('/api/therapist/patients',{headers:{'x-auth-token':token}}).then(res=>setPatients(res.data)).catch(console.error);},[]);const handleAssign=async e=>{e.preventDefault();await routineService.assignTemplate({templateId,patientId:selected});navigate('/therapist/templates');};return/*#__PURE__*/_jsxs(\"form\",{className:\"assign-form\",onSubmit:handleAssign,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Asignar Rutina\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Paciente\",/*#__PURE__*/_jsxs(\"select\",{value:selected,onChange:e=>setSelected(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 Selecciona \\u2014\"}),patients.map(p=>/*#__PURE__*/_jsxs(\"option\",{value:p._id,children:[p.nombre,\" \",p.apellidos]},p._id))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-save\",children:\"Asignar\"})]});}","map":{"version":3,"names":["React","useEffect","useState","routineService","axios","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","AssignTemplate","templateId","patients","setPatients","selected","setSelected","navigate","token","localStorage","getItem","get","headers","then","res","data","catch","console","error","handleAssign","e","preventDefault","assignTemplate","patientId","className","onSubmit","children","value","onChange","target","required","map","p","_id","nombre","apellidos","type"],"sources":["C:/Users/User/Desktop/TFG/prototipo-TFG/Janus-TFG/src/components/AssignTemplate.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport routineService from '../services/routineTemplateService';\r\nimport axios from 'axios';\r\nimport '../styles/routineTemplates.css';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\n\r\nexport default function AssignTemplate() {\r\n  const { templateId } = useParams();\r\n  const [patients, setPatients] = useState([]);\r\n  const [selected, setSelected] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    axios.get('/api/therapist/patients', { headers:{ 'x-auth-token':token } })\r\n      .then(res => setPatients(res.data))\r\n      .catch(console.error);\r\n  }, []);\r\n\r\n  const handleAssign = async e => {\r\n    e.preventDefault();\r\n    await routineService.assignTemplate({ templateId, patientId: selected });\r\n    navigate('/therapist/templates');\r\n  };\r\n\r\n  return (\r\n    <form className=\"assign-form\" onSubmit={handleAssign}>\r\n      <h2>Asignar Rutina</h2>\r\n      <label>Paciente\r\n        <select value={selected} onChange={e=>setSelected(e.target.value)} required>\r\n          <option value=\"\">— Selecciona —</option>\r\n          {patients.map(p=>(\r\n            <option key={p._id} value={p._id}>\r\n              {p.nombre} {p.apellidos}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </label>\r\n      <button type=\"submit\" className=\"btn-save\">Asignar</button>\r\n    </form>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,cAAc,KAAM,oCAAoC,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CACvC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,KAAM,CAAEC,UAAW,CAAC,CAAGP,SAAS,CAAC,CAAC,CAClC,KAAM,CAACQ,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAe,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BL,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3ChB,KAAK,CAACiB,GAAG,CAAC,yBAAyB,CAAE,CAAEC,OAAO,CAAC,CAAE,cAAc,CAACJ,KAAM,CAAE,CAAC,CAAC,CACvEK,IAAI,CAACC,GAAG,EAAIV,WAAW,CAACU,GAAG,CAACC,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAG,KAAM,CAAAC,CAAC,EAAI,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAA5B,cAAc,CAAC6B,cAAc,CAAC,CAAEpB,UAAU,CAAEqB,SAAS,CAAElB,QAAS,CAAC,CAAC,CACxEE,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,CAED,mBACEP,KAAA,SAAMwB,SAAS,CAAC,aAAa,CAACC,QAAQ,CAAEN,YAAa,CAAAO,QAAA,eACnD5B,IAAA,OAAA4B,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB1B,KAAA,UAAA0B,QAAA,EAAO,UACL,cAAA1B,KAAA,WAAQ2B,KAAK,CAAEtB,QAAS,CAACuB,QAAQ,CAAER,CAAC,EAAEd,WAAW,CAACc,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE,CAACG,QAAQ,MAAAJ,QAAA,eACzE5B,IAAA,WAAQ6B,KAAK,CAAC,EAAE,CAAAD,QAAA,CAAC,0BAAc,CAAQ,CAAC,CACvCvB,QAAQ,CAAC4B,GAAG,CAACC,CAAC,eACbhC,KAAA,WAAoB2B,KAAK,CAAEK,CAAC,CAACC,GAAI,CAAAP,QAAA,EAC9BM,CAAC,CAACE,MAAM,CAAC,GAAC,CAACF,CAAC,CAACG,SAAS,GADZH,CAAC,CAACC,GAEP,CACT,CAAC,EACI,CAAC,EACJ,CAAC,cACRnC,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAACZ,SAAS,CAAC,UAAU,CAAAE,QAAA,CAAC,SAAO,CAAQ,CAAC,EACvD,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}